<section class="intro intro--blue intro--cart">
  <% if shopping_cart_total > 0 %>
    <h1 class="intro__title">Review your order</h1>
    <h2 class="intro__subtitle">Review your selection below and continue to our secure check out page.</h2>

    <div class="cart">
      <div class="cart__flash" style="<% if flash[:error] %>display:block;<% end %>"><%= flash[:error] %></div>

      <% @posts.each do |post| %>
        <%= render "carts/post", post: post %>
      <% end %>

      <!-- total box -->
      <div class="cart__product">
        <div class="product__content product__content--total">
          <div class="product__detail">
            <span class="product__name product__name--big">Total price</span>
          </div>
          <div class="product__price product__price--big">&euro; <%= @total_price %></div>
        </div>
      </div>
      <!-- checkout -->
      <div class="cart__product cart__product--checkout">
        <%= link_to "Checkout", new_charge_path, class: "button button--gradient" %>
      </div>
    </div>
  <% else %>
    <h1 class="intro__title">Your shopping cart is currently empty</h1>
    <h2 class="intro__subtitle">Oh nooo. Lets add something to the cart!</h2>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="intro__icon">
        <path d="M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"/>
        <path d="M0 0h24v24H0z" fill="none"/>
    </svg>
    <a href="javascript:void(0)" class="button button--ghost">Browse projects</a>
  <% end %>
</section>
