/*!
 * jQuery JavaScript Library v1.12.4
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2016-05-20T17:17Z
 */
function imageBannerPreview(e){var t=new FileReader;e.files[0].size>1e6?$(".image__error--banner").html("The image size has to be less than 1MB"):(t.onload=function(e){$(".image__placeholder--banner").attr("src"," "),$(".image__placeholder--banner").css({display:"block"}).attr("src",e.target.result)},t.readAsDataURL(e.files[0]))}function imageThumbnailPreview(e){var t=new FileReader;e.files[0].size>1e6?$(".image__error--thumb").html("Image can't be bigger than 1MB"):(t.onload=function(e){$(".image__placeholder-thumb").attr("src"," "),$(".image__placeholder-thumb").css({display:"block"}).attr("src",e.target.result)},t.readAsDataURL(e.files[0]))}function showUploadFileName(e,t){e=e.replace(/C:\\fakepath\\/i,""),$("."+t).html(e)}!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t=!!e&&"length"in e&&e.length,n=pe.type(e);return"function"!==n&&!pe.isWindow(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function r(e,t,n){if(pe.isFunction(t))return pe.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return pe.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(Ce.test(t))return pe.filter(t,e,n);t=pe.filter(t,e)}return pe.grep(e,function(e){return pe.inArray(e,t)>-1!==n})}function o(e,t){do{e=e[t]}while(e&&1!==e.nodeType);return e}function i(e){var t={};return pe.each(e.match(_e)||[],function(e,n){t[n]=!0}),t}function a(){re.addEventListener?(re.removeEventListener("DOMContentLoaded",s),e.removeEventListener("load",s)):(re.detachEvent("onreadystatechange",s),e.detachEvent("onload",s))}function s(){(re.addEventListener||"load"===e.event.type||"complete"===re.readyState)&&(a(),pe.ready())}function l(e,t,n){if(n===undefined&&1===e.nodeType){var r="data-"+t.replace(Pe,"-$1").toLowerCase();if("string"==typeof(n=e.getAttribute(r))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:Me.test(n)?pe.parseJSON(n):n)}catch(o){}pe.data(e,t,n)}else n=undefined}return n}function c(e){var t;for(t in e)if(("data"!==t||!pe.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function u(e,t,n,r){if(Ne(e)){var o,i,a=pe.expando,s=e.nodeType,l=s?pe.cache:e,c=s?e[a]:e[a]&&a;if(c&&l[c]&&(r||l[c].data)||n!==undefined||"string"!=typeof t)return c||(c=s?e[a]=ne.pop()||pe.guid++:a),l[c]||(l[c]=s?{}:{toJSON:pe.noop}),"object"!=typeof t&&"function"!=typeof t||(r?l[c]=pe.extend(l[c],t):l[c].data=pe.extend(l[c].data,t)),i=l[c],r||(i.data||(i.data={}),i=i.data),n!==undefined&&(i[pe.camelCase(t)]=n),"string"==typeof t?null==(o=i[t])&&(o=i[pe.camelCase(t)]):o=i,o}}function d(e,t,n){if(Ne(e)){var r,o,i=e.nodeType,a=i?pe.cache:e,s=i?e[pe.expando]:pe.expando;if(a[s]){if(t&&(r=n?a[s]:a[s].data)){o=(t=pe.isArray(t)?t.concat(pe.map(t,pe.camelCase)):t in r?[t]:(t=pe.camelCase(t))in r?[t]:t.split(" ")).length;for(;o--;)delete r[t[o]];if(n?!c(r):!pe.isEmptyObject(r))return}(n||(delete a[s].data,c(a[s])))&&(i?pe.cleanData([e],!0):de.deleteExpando||a!=a.window?delete a[s]:a[s]=undefined)}}}function f(e,t,n,r){var o,i=1,a=20,s=r?function(){return r.cur()}:function(){return pe.css(e,t,"")},l=s(),c=n&&n[3]||(pe.cssNumber[t]?"":"px"),u=(pe.cssNumber[t]||"px"!==c&&+l)&&He.exec(pe.css(e,t));if(u&&u[3]!==c){c=c||u[3],n=n||[],u=+l||1;do{u/=i=i||".5",pe.style(e,t,u+c)}while(i!==(i=s()/l)&&1!==i&&--a)}return n&&(u=+u||+l||0,o=n[1]?u+(n[1]+1)*n[2]:+n[2],r&&(r.unit=c,r.start=u,r.end=o)),o}function p(e){var t=Ye.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function h(e,t){var n,r,o=0,i="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):undefined;if(!i)for(i=[],n=e.childNodes||e;null!=(r=n[o]);o++)!t||pe.nodeName(r,t)?i.push(r):pe.merge(i,h(r,t));return t===undefined||t&&pe.nodeName(e,t)?pe.merge([e],i):i}function m(e,t){for(var n,r=0;null!=(n=e[r]);r++)pe._data(n,"globalEval",!t||pe._data(t[r],"globalEval"))}function g(e){qe.test(e.type)&&(e.defaultChecked=e.checked)}function v(e,t,n,r,o){for(var i,a,s,l,c,u,d,f=e.length,v=p(t),y=[],b=0;b<f;b++)if((a=e[b])||0===a)if("object"===pe.type(a))pe.merge(y,a.nodeType?[a]:a);else if(Xe.test(a)){for(l=l||v.appendChild(t.createElement("div")),c=(Ue.exec(a)||["",""])[1].toLowerCase(),d=Ve[c]||Ve._default,l.innerHTML=d[1]+pe.htmlPrefilter(a)+d[2],i=d[0];i--;)l=l.lastChild;if(!de.leadingWhitespace&&$e.test(a)&&y.push(t.createTextNode($e.exec(a)[0])),!de.tbody)for(i=(a="table"!==c||Qe.test(a)?"<table>"!==d[1]||Qe.test(a)?0:l:l.firstChild)&&a.childNodes.length;i--;)pe.nodeName(u=a.childNodes[i],"tbody")&&!u.childNodes.length&&a.removeChild(u);for(pe.merge(y,l.childNodes),l.textContent="";l.firstChild;)l.removeChild(l.firstChild);l=v.lastChild}else y.push(t.createTextNode(a));for(l&&v.removeChild(l),de.appendChecked||pe.grep(h(y,"input"),g),b=0;a=y[b++];)if(r&&pe.inArray(a,r)>-1)o&&o.push(a);else if(s=pe.contains(a.ownerDocument,a),l=h(v.appendChild(a),"script"),s&&m(l),n)for(i=0;a=l[i++];)Ge.test(a.type||"")&&n.push(a);return l=null,v}function y(){return!0}function b(){return!1}function w(){try{return re.activeElement}catch(e){}}function x(e,t,n,r,o,i){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(r=r||n,n=undefined),t)x(e,s,n,r,t[s],i);return e}if(null==r&&null==o?(o=n,r=n=undefined):null==o&&("string"==typeof n?(o=r,r=undefined):(o=r,r=n,n=undefined)),!1===o)o=b;else if(!o)return e;return 1===i&&(a=o,(o=function(e){return pe().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=pe.guid++)),e.each(function(){pe.event.add(this,t,o,r,n)})}function S(e,t){return pe.nodeName(e,"table")&&pe.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function C(e){return e.type=(null!==pe.find.attr(e,"type"))+"/"+e.type,e}function E(e){var t=st.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function T(e,t){if(1===t.nodeType&&pe.hasData(e)){var n,r,o,i=pe._data(e),a=pe._data(t,i),s=i.events;if(s)for(n in delete a.handle,a.events={},s)for(r=0,o=s[n].length;r<o;r++)pe.event.add(t,n,s[n][r]);a.data&&(a.data=pe.extend({},a.data))}}function k(e,t){var n,r,o;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!de.noCloneEvent&&t[pe.expando]){for(r in(o=pe._data(t)).events)pe.removeEvent(t,r,o.handle);t.removeAttribute(pe.expando)}"script"===n&&t.text!==e.text?(C(t).text=e.text,E(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),de.html5Clone&&e.innerHTML&&!pe.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&qe.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}}function j(e,t,n,r){t=ie.apply([],t);var o,i,a,s,l,c,u=0,d=e.length,f=d-1,p=t[0],m=pe.isFunction(p);if(m||d>1&&"string"==typeof p&&!de.checkClone&&at.test(p))return e.each(function(o){var i=e.eq(o);m&&(t[0]=p.call(this,o,i.html())),j(i,t,n,r)});if(d&&(o=(c=v(t,e[0].ownerDocument,!1,e,r)).firstChild,1===c.childNodes.length&&(c=o),o||r)){for(a=(s=pe.map(h(c,"script"),C)).length;u<d;u++)i=c,u!==f&&(i=pe.clone(i,!0,!0),a&&pe.merge(s,h(i,"script"))),n.call(e[u],i,u);if(a)for(l=s[s.length-1].ownerDocument,pe.map(s,E),u=0;u<a;u++)i=s[u],Ge.test(i.type||"")&&!pe._data(i,"globalEval")&&pe.contains(l,i)&&(i.src?pe._evalUrl&&pe._evalUrl(i.src):pe.globalEval((i.text||i.textContent||i.innerHTML||"").replace(lt,"")));c=o=null}return e}function L(e,t,n){for(var r,o=t?pe.filter(t,e):e,i=0;null!=(r=o[i]);i++)n||1!==r.nodeType||pe.cleanData(h(r)),r.parentNode&&(n&&pe.contains(r.ownerDocument,r)&&m(h(r,"script")),r.parentNode.removeChild(r));return e}function O(e,t){var n=pe(t.createElement(e)).appendTo(t.body),r=pe.css(n[0],"display");return n.detach(),r}function _(e){var t=re,n=dt[e];return n||("none"!==(n=O(e,t))&&n||((t=((ut=(ut||pe("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement))[0].contentWindow||ut[0].contentDocument).document).write(),t.close(),n=O(e,t),ut.detach()),dt[e]=n),n}function A(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}function N(e){if(e in kt)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),n=Tt.length;n--;)if((e=Tt[n]+t)in kt)return e}function M(e,t){for(var n,r,o,i=[],a=0,s=e.length;a<s;a++)(r=e[a]).style&&(i[a]=pe._data(r,"olddisplay"),n=r.style.display,t?(i[a]||"none"!==n||(r.style.display=""),""===r.style.display&&Fe(r)&&(i[a]=pe._data(r,"olddisplay",_(r.nodeName)))):(o=Fe(r),(n&&"none"!==n||!o)&&pe._data(r,"olddisplay",o?n:pe.css(r,"display"))));for(a=0;a<s;a++)(r=e[a]).style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?i[a]||"":"none"));return e}function P(e,t,n){var r=St.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function I(e,t,n,r,o){for(var i=n===(r?"border":"content")?4:"width"===t?1:0,a=0;i<4;i+=2)"margin"===n&&(a+=pe.css(e,n+Be[i],!0,o)),r?("content"===n&&(a-=pe.css(e,"padding"+Be[i],!0,o)),"margin"!==n&&(a-=pe.css(e,"border"+Be[i]+"Width",!0,o))):(a+=pe.css(e,"padding"+Be[i],!0,o),"padding"!==n&&(a+=pe.css(e,"border"+Be[i]+"Width",!0,o)));return a}function D(e,t,n){var r=!0,o="width"===t?e.offsetWidth:e.offsetHeight,i=gt(e),a=de.boxSizing&&"border-box"===pe.css(e,"boxSizing",!1,i);if(o<=0||null==o){if(((o=vt(e,t,i))<0||null==o)&&(o=e.style[t]),pt.test(o))return o;r=a&&(de.boxSizingReliable()||o===e.style[t]),o=parseFloat(o)||0}return o+I(e,t,n||(a?"border":"content"),r,i)+"px"}function R(e,t,n,r,o){return new R.prototype.init(e,t,n,r,o)}function W(){return e.setTimeout(function(){jt=undefined}),jt=pe.now()}function H(e,t){var n,r={height:e},o=0;for(t=t?1:0;o<4;o+=2-t)r["margin"+(n=Be[o])]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function B(e,t,n){for(var r,o=(q.tweeners[t]||[]).concat(q.tweeners["*"]),i=0,a=o.length;i<a;i++)if(r=o[i].call(n,t,e))return r}function F(e,t,n){var r,o,i,a,s,l,c,u=this,d={},f=e.style,p=e.nodeType&&Fe(e),h=pe._data(e,"fxshow");for(r in n.queue||(null==(s=pe._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,u.always(function(){u.always(function(){s.unqueued--,pe.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],"inline"===("none"===(c=pe.css(e,"display"))?pe._data(e,"olddisplay")||_(e.nodeName):c)&&"none"===pe.css(e,"float")&&(de.inlineBlockNeedsLayout&&"inline"!==_(e.nodeName)?f.zoom=1:f.display="inline-block")),n.overflow&&(f.overflow="hidden",de.shrinkWrapBlocks()||u.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]})),t)if(o=t[r],Ot.exec(o)){if(delete t[r],i=i||"toggle"===o,o===(p?"hide":"show")){if("show"!==o||!h||h[r]===undefined)continue;p=!0}d[r]=h&&h[r]||pe.style(e,r)}else c=undefined;if(pe.isEmptyObject(d))"inline"===("none"===c?_(e.nodeName):c)&&(f.display=c);else for(r in h?"hidden"in h&&(p=h.hidden):h=pe._data(e,"fxshow",{}),i&&(h.hidden=!p),p?pe(e).show():u.done(function(){pe(e).hide()}),u.done(function(){var t;for(t in pe._removeData(e,"fxshow"),d)pe.style(e,t,d[t])}),d)a=B(p?h[r]:0,r,u),r in h||(h[r]=a.start,p&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}function z(e,t){var n,r,o,i,a;for(n in e)if(o=t[r=pe.camelCase(n)],i=e[n],pe.isArray(i)&&(o=i[1],i=e[n]=i[0]),n!==r&&(e[r]=i,delete e[n]),(a=pe.cssHooks[r])&&"expand"in a)for(n in i=a.expand(i),delete e[r],i)n in e||(e[n]=i[n],t[n]=o);else t[r]=o}function q(e,t,n){var r,o,i=0,a=q.prefilters.length,s=pe.Deferred().always(function(){delete l.elem}),l=function(){if(o)return!1;for(var t=jt||W(),n=Math.max(0,c.startTime+c.duration-t),r=1-(n/c.duration||0),i=0,a=c.tweens.length;i<a;i++)c.tweens[i].run(r);return s.notifyWith(e,[c,r,n]),r<1&&a?n:(s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:pe.extend({},t),opts:pe.extend(!0,{specialEasing:{},easing:pe.easing._default},n),originalProperties:t,originalOptions:n,startTime:jt||W(),duration:n.duration,tweens:[],createTween:function(t,n){var r=pe.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(r),r},stop:function(t){var n=0,r=t?c.tweens.length:0;if(o)return this;for(o=!0;n<r;n++)c.tweens[n].run(1);return t?(s.notifyWith(e,[c,1,0]),s.resolveWith(e,[c,t])):s.rejectWith(e,[c,t]),this}}),u=c.props;for(z(u,c.opts.specialEasing);i<a;i++)if(r=q.prefilters[i].call(c,e,u,c.opts))return pe.isFunction(r.stop)&&(pe._queueHooks(c.elem,c.opts.queue).stop=pe.proxy(r.stop,r)),r;return pe.map(u,B,c),pe.isFunction(c.opts.start)&&c.opts.start.call(e,c),pe.fx.timer(pe.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function U(e){return pe.attr(e,"class")||""}function G(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,o=0,i=t.toLowerCase().match(_e)||[];if(pe.isFunction(n))for(;r=i[o++];)"+"===r.charAt(0)?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function $(e,t,n,r){function o(s){var l;return i[s]=!0,pe.each(e[s]||[],function(e,s){var c=s(t,n,r);return"string"!=typeof c||a||i[c]?a?!(l=c):void 0:(t.dataTypes.unshift(c),o(c),!1)}),l}var i={},a=e===en;return o(t.dataTypes[0])||!i["*"]&&o("*")}function Y(e,t){var n,r,o=pe.ajaxSettings.flatOptions||{};for(r in t)t[r]!==undefined&&((o[r]?e:n||(n={}))[r]=t[r]);return n&&pe.extend(!0,e,n),e}function V(e,t,n){for(var r,o,i,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),o===undefined&&(o=e.mimeType||t.getResponseHeader("Content-Type"));if(o)for(a in s)if(s[a]&&s[a].test(o)){l.unshift(a);break}if(l[0]in n)i=l[0];else{for(a in n){if(!l[0]||e.converters[a+" "+l[0]]){i=a;break}r||(r=a)}i=i||r}if(i)return i!==l[0]&&l.unshift(i),n[i]}function X(e,t,n,r){var o,i,a,s,l,c={},u=e.dataTypes.slice();if(u[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(i=u.shift();i;)if(e.responseFields[i]&&(n[e.responseFields[i]]=t),!l&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=i,i=u.shift())if("*"===i)i=l;else if("*"!==l&&l!==i){if(!(a=c[l+" "+i]||c["* "+i]))for(o in c)if((s=o.split(" "))[1]===i&&(a=c[l+" "+s[0]]||c["* "+s[0]])){!0===a?a=c[o]:!0!==c[o]&&(i=s[0],u.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(d){return{state:"parsererror",error:a?d:"No conversion from "+l+" to "+i}}}return{state:"success",data:t}}function Q(e){return e.style&&e.style.display||pe.css(e,"display")}function K(e){if(!pe.contains(e.ownerDocument||re,e))return!0;for(;e&&1===e.nodeType;){if("none"===Q(e)||"hidden"===e.type)return!0;e=e.parentNode}return!1}function Z(e,t,n,r){var o;if(pe.isArray(t))pe.each(t,function(t,o){n||an.test(e)?r(e,o):Z(e+"["+("object"==typeof o&&null!=o?t:"")+"]",o,n,r)});else if(n||"object"!==pe.type(t))r(e,t);else for(o in t)Z(e+"["+o+"]",t[o],n,r)}function J(){try{return new e.XMLHttpRequest}catch(t){}}function ee(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function te(e){return pe.isWindow(e)?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}var ne=[],re=e.document,oe=ne.slice,ie=ne.concat,ae=ne.push,se=ne.indexOf,le={},ce=le.toString,ue=le.hasOwnProperty,de={},fe="1.12.4",pe=function(e,t){return new pe.fn.init(e,t)},he=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,me=/^-ms-/,ge=/-([\da-z])/gi,ve=function(e,t){return t.toUpperCase()};pe.fn=pe.prototype={jquery:fe,constructor:pe,selector:"",length:0,toArray:function(){return oe.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:oe.call(this)},pushStack:function(e){var t=pe.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e){return pe.each(this,e)},map:function(e){return this.pushStack(pe.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(oe.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:ae,sort:ne.sort,splice:ne.splice},pe.extend=pe.fn.extend=function(){var e,t,n,r,o,i,a=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"==typeof a||pe.isFunction(a)||(a={}),s===l&&(a=this,s--);s<l;s++)if(null!=(o=arguments[s]))for(r in o)e=a[r],a!==(n=o[r])&&(c&&n&&(pe.isPlainObject(n)||(t=pe.isArray(n)))?(t?(t=!1,i=e&&pe.isArray(e)?e:[]):i=e&&pe.isPlainObject(e)?e:{},a[r]=pe.extend(c,i,n)):n!==undefined&&(a[r]=n));return a},pe.extend({expando:"jQuery"+(fe+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===pe.type(e)},isArray:Array.isArray||function(e){return"array"===pe.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){var t=e&&e.toString();return!pe.isArray(e)&&t-parseFloat(t)+1>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==pe.type(e)||e.nodeType||pe.isWindow(e))return!1;try{if(e.constructor&&!ue.call(e,"constructor")&&!ue.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(!de.ownFirst)for(t in e)return ue.call(e,t);for(t in e);return t===undefined||ue.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?le[ce.call(e)]||"object":typeof e},globalEval:function(t){t&&pe.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(me,"ms-").replace(ge,ve)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var r,o=0;if(n(e))for(r=e.length;o<r&&!1!==t.call(e[o],o,e[o]);o++);else for(o in e)if(!1===t.call(e[o],o,e[o]))break;return e},trim:function(e){return null==e?"":(e+"").replace(he,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(n(Object(e))?pe.merge(r,"string"==typeof e?[e]:e):ae.call(r,e)),r},inArray:function(e,t,n){var r;if(t){if(se)return se.call(t,e,n);for(r=t.length,n=n?n<0?Math.max(0,r+n):n:0;n<r;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){for(var n=+t.length,r=0,o=e.length;r<n;)e[o++]=t[r++];if(n!=n)for(;t[r]!==undefined;)e[o++]=t[r++];return e.length=o,e},grep:function(e,t,n){for(var r=[],o=0,i=e.length,a=!n;o<i;o++)!t(e[o],o)!==a&&r.push(e[o]);return r},map:function(e,t,r){var o,i,a=0,s=[];if(n(e))for(o=e.length;a<o;a++)null!=(i=t(e[a],a,r))&&s.push(i);else for(a in e)null!=(i=t(e[a],a,r))&&s.push(i);return ie.apply([],s)},guid:1,proxy:function(e,t){var n,r,o;return"string"==typeof t&&(o=e[t],t=e,e=o),pe.isFunction(e)?(n=oe.call(arguments,2),(r=function(){return e.apply(t||this,n.concat(oe.call(arguments)))}).guid=e.guid=e.guid||pe.guid++,r):undefined},now:function(){return+new Date},support:de}),"function"==typeof Symbol&&(pe.fn[Symbol.iterator]=ne[Symbol.iterator]),pe.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){le["[object "+t+"]"]=t.toLowerCase()});var ye=
/*!
 * Sizzle CSS Selector Engine v2.2.1
 * http://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2015-10-17
 */
function(e){function t(e,t,n,r){var o,i,a,s,l,c,d,p,h=t&&t.ownerDocument,m=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==m&&9!==m&&11!==m)return n;if(!r&&((t?t.ownerDocument||t:B)!==N&&A(t),t=t||N,P)){if(11!==m&&(c=ve.exec(e)))if(o=c[1]){if(9===m){if(!(a=t.getElementById(o)))return n;if(a.id===o)return n.push(a),n}else if(h&&(a=h.getElementById(o))&&W(t,a)&&a.id===o)return n.push(a),n}else{if(c[2])return Z.apply(n,t.getElementsByTagName(e)),n;if((o=c[3])&&x.getElementsByClassName&&t.getElementsByClassName)return Z.apply(n,t.getElementsByClassName(o)),n}if(x.qsa&&!G[e+" "]&&(!I||!I.test(e))){if(1!==m)h=t,p=e;else if("object"!==t.nodeName.toLowerCase()){for((s=t.getAttribute("id"))?s=s.replace(be,"\\$&"):t.setAttribute("id",s=H),i=(d=T(e)).length,l=fe.test(s)?"#"+s:"[id='"+s+"']";i--;)d[i]=l+" "+f(d[i]);p=d.join(","),h=ye.test(e)&&u(t.parentNode)||t}if(p)try{return Z.apply(n,h.querySelectorAll(p)),n}catch(g){}finally{s===H&&t.removeAttribute("id")}}}return j(e.replace(se,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>S.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[H]=!0,e}function o(e){var t=N.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function i(e,t){for(var n=e.split("|"),r=n.length;r--;)S.attrHandle[n[r]]=t}function a(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||Y)-(~e.sourceIndex||Y);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function l(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function c(e){return r(function(t){return t=+t,r(function(n,r){for(var o,i=e([],n.length,t),a=i.length;a--;)n[o=i[a]]&&(n[o]=!(r[o]=n[o]))})})}function u(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function d(){}function f(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function p(e,t,n){var r=t.dir,o=n&&"parentNode"===r,i=z++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||o)return e(t,n,i)}:function(t,n,a){var s,l,c,u=[F,i];if(a){for(;t=t[r];)if((1===t.nodeType||o)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||o){if((s=(l=(c=t[H]||(t[H]={}))[t.uniqueID]||(c[t.uniqueID]={}))[r])&&s[0]===F&&s[1]===i)return u[2]=s[2];if(l[r]=u,u[2]=e(t,n,a))return!0}}}function h(e){return e.length>1?function(t,n,r){for(var o=e.length;o--;)if(!e[o](t,n,r))return!1;return!0}:e[0]}function m(e,n,r){for(var o=0,i=n.length;o<i;o++)t(e,n[o],r);return r}function g(e,t,n,r,o){for(var i,a=[],s=0,l=e.length,c=null!=t;s<l;s++)(i=e[s])&&(n&&!n(i,r,o)||(a.push(i),c&&t.push(s)));return a}function v(e,t,n,o,i,a){return o&&!o[H]&&(o=v(o)),i&&!i[H]&&(i=v(i,a)),r(function(r,a,s,l){var c,u,d,f=[],p=[],h=a.length,v=r||m(t||"*",s.nodeType?[s]:s,[]),y=!e||!r&&t?v:g(v,f,e,s,l),b=n?i||(r?e:h||o)?[]:a:y;if(n&&n(y,b,s,l),o)for(c=g(b,p),o(c,[],s,l),u=c.length;u--;)(d=c[u])&&(b[p[u]]=!(y[p[u]]=d));if(r){if(i||e){if(i){for(c=[],u=b.length;u--;)(d=b[u])&&c.push(y[u]=d);i(null,b=[],c,l)}for(u=b.length;u--;)(d=b[u])&&(c=i?ee(r,d):f[u])>-1&&(r[c]=!(a[c]=d))}}else b=g(b===a?b.splice(h,b.length):b),i?i(null,a,b,l):Z.apply(a,b)})}function y(e){for(var t,n,r,o=e.length,i=S.relative[e[0].type],a=i||S.relative[" "],s=i?1:0,l=p(function(e){return e===t},a,!0),c=p(function(e){return ee(t,e)>-1},a,!0),u=[function(e,n,r){var o=!i&&(r||n!==L)||((t=n).nodeType?l(e,n,r):c(e,n,r));return t=null,o}];s<o;s++)if(n=S.relative[e[s].type])u=[p(h(u),n)];else{if((n=S.filter[e[s].type].apply(null,e[s].matches))[H]){for(r=++s;r<o&&!S.relative[e[r].type];r++);return v(s>1&&h(u),s>1&&f(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(se,"$1"),n,s<r&&y(e.slice(s,r)),r<o&&y(e=e.slice(r)),r<o&&f(e))}u.push(n)}return h(u)}function b(e,n){var o=n.length>0,i=e.length>0,a=function(r,a,s,l,c){var u,d,f,p=0,h="0",m=r&&[],v=[],y=L,b=r||i&&S.find.TAG("*",c),w=F+=null==y?1:Math.random()||.1,x=b.length;for(c&&(L=a===N||a||c);h!==x&&null!=(u=b[h]);h++){if(i&&u){for(d=0,a||u.ownerDocument===N||(A(u),s=!P);f=e[d++];)if(f(u,a||N,s)){l.push(u);break}c&&(F=w)}o&&((u=!f&&u)&&p--,r&&m.push(u))}if(p+=h,o&&h!==p){for(d=0;f=n[d++];)f(m,v,a,s);if(r){if(p>0)for(;h--;)m[h]||v[h]||(v[h]=Q.call(l));v=g(v)}Z.apply(l,v),c&&!r&&v.length>0&&p+n.length>1&&t.uniqueSort(l)}return c&&(F=w,L=y),m};return o?r(a):a}var w,x,S,C,E,T,k,j,L,O,_,A,N,M,P,I,D,R,W,H="sizzle"+1*new Date,B=e.document,F=0,z=0,q=n(),U=n(),G=n(),$=function(e,t){return e===t&&(_=!0),0},Y=1<<31,V={}.hasOwnProperty,X=[],Q=X.pop,K=X.push,Z=X.push,J=X.slice,ee=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",re="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",oe="\\["+ne+"*("+re+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+re+"))|)"+ne+"*\\]",ie=":("+re+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+oe+")*)|.*)\\)|)",ae=new RegExp(ne+"+","g"),se=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),le=new RegExp("^"+ne+"*,"+ne+"*"),ce=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),ue=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),de=new RegExp(ie),fe=new RegExp("^"+re+"$"),pe={ID:new RegExp("^#("+re+")"),CLASS:new RegExp("^\\.("+re+")"),TAG:new RegExp("^("+re+"|[*])"),ATTR:new RegExp("^"+oe),PSEUDO:new RegExp("^"+ie),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},he=/^(?:input|select|textarea|button)$/i,me=/^h\d$/i,ge=/^[^{]+\{\s*\[native \w/,ve=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ye=/[+~]/,be=/'|\\/g,we=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),xe=function(e,t,n){var r="0x"+t-65536;return r!=r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},Se=function(){A()};try{Z.apply(X=J.call(B.childNodes),B.childNodes),X[B.childNodes.length].nodeType}catch(Ce){Z={apply:X.length?function(e,t){K.apply(e,J.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}for(w in x=t.support={},E=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},A=t.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:B;return r!==N&&9===r.nodeType&&r.documentElement?(M=(N=r).documentElement,P=!E(N),(n=N.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",Se,!1):n.attachEvent&&n.attachEvent("onunload",Se)),x.attributes=o(function(e){return e.className="i",!e.getAttribute("className")}),x.getElementsByTagName=o(function(e){return e.appendChild(N.createComment("")),!e.getElementsByTagName("*").length}),x.getElementsByClassName=ge.test(N.getElementsByClassName),x.getById=o(function(e){return M.appendChild(e).id=H,!N.getElementsByName||!N.getElementsByName(H).length}),x.getById?(S.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&P){var n=t.getElementById(e);return n?[n]:[]}},S.filter.ID=function(e){var t=e.replace(we,xe);return function(e){return e.getAttribute("id")===t}}):(delete S.find.ID,S.filter.ID=function(e){var t=e.replace(we,xe);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),S.find.TAG=x.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):x.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],o=0,i=t.getElementsByTagName(e);if("*"===e){for(;n=i[o++];)1===n.nodeType&&r.push(n);return r}return i},S.find.CLASS=x.getElementsByClassName&&function(e,t){if("undefined"!=typeof t.getElementsByClassName&&P)return t.getElementsByClassName(e)},D=[],I=[],(x.qsa=ge.test(N.querySelectorAll))&&(o(function(e){M.appendChild(e).innerHTML="<a id='"+H+"'></a><select id='"+H+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&I.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||I.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+H+"-]").length||I.push("~="),e.querySelectorAll(":checked").length||I.push(":checked"),e.querySelectorAll("a#"+H+"+*").length||I.push(".#.+[+~]")}),o(function(e){var t=N.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&I.push("name"+ne+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||I.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),I.push(",.*:")})),(x.matchesSelector=ge.test(R=M.matches||M.webkitMatchesSelector||M.mozMatchesSelector||M.oMatchesSelector||M.msMatchesSelector))&&o(function(e){x.disconnectedMatch=R.call(e,"div"),R.call(e,"[s!='']:x"),D.push("!=",ie)}),I=I.length&&new RegExp(I.join("|")),D=D.length&&new RegExp(D.join("|")),t=ge.test(M.compareDocumentPosition),W=t||ge.test(M.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},$=t?function(e,t){if(e===t)return _=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!x.sortDetached&&t.compareDocumentPosition(e)===n?e===N||e.ownerDocument===B&&W(B,e)?-1:t===N||t.ownerDocument===B&&W(B,t)?1:O?ee(O,e)-ee(O,t):0:4&n?-1:1)}:function(e,t){if(e===t)return _=!0,0;var n,r=0,o=e.parentNode,i=t.parentNode,s=[e],l=[t];if(!o||!i)return e===N?-1:t===N?1:o?-1:i?1:O?ee(O,e)-ee(O,t):0;if(o===i)return a(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)l.unshift(n);for(;s[r]===l[r];)r++;return r?a(s[r],l[r]):s[r]===B?-1:l[r]===B?1:0},N):N},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==N&&A(e),n=n.replace(ue,"='$1']"),x.matchesSelector&&P&&!G[n+" "]&&(!D||!D.test(n))&&(!I||!I.test(n)))try{var r=R.call(e,n);if(r||x.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(Ce){}return t(n,N,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==N&&A(e),W(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==N&&A(e);var n=S.attrHandle[t.toLowerCase()],r=n&&V.call(S.attrHandle,t.toLowerCase())?n(e,t,!P):undefined;return r!==undefined?r:x.attributes||!P?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,o=0;if(_=!x.detectDuplicates,O=!x.sortStable&&e.slice(0),e.sort($),_){for(;t=e[o++];)t===e[o]&&(r=n.push(o));for(;r--;)e.splice(n[r],1)}return O=null,e},C=t.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=C(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[r++];)n+=C(t);return n},(S=t.selectors={cacheLength:50,createPseudo:r,match:pe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(we,xe),e[3]=(e[3]||e[4]||e[5]||"").replace(we,xe),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return pe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&de.test(n)&&(t=T(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(we,xe).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=q[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&q(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(o){var i=t.attr(o,e);return null==i?"!="===n:!n||(i+="","="===n?i===r:"!="===n?i!==r:"^="===n?r&&0===i.indexOf(r):"*="===n?r&&i.indexOf(r)>-1:"$="===n?r&&i.slice(-r.length)===r:"~="===n?(" "+i.replace(ae," ")+" ").indexOf(r)>-1:"|="===n&&(i===r||i.slice(0,r.length+1)===r+"-"))}},CHILD:function(e,t,n,r,o){var i="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===o?function(e){return!!e.parentNode}:function(t,n,l){var c,u,d,f,p,h,m=i!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!l&&!s,b=!1;if(g){if(i){for(;m;){for(f=t;f=f[m];)if(s?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;h=m="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?g.firstChild:g.lastChild],a&&y){for(b=(p=(c=(u=(d=(f=g)[H]||(f[H]={}))[f.uniqueID]||(d[f.uniqueID]={}))[e]||[])[0]===F&&c[1])&&c[2],f=p&&g.childNodes[p];f=++p&&f&&f[m]||(b=p=0)||h.pop();)if(1===f.nodeType&&++b&&f===t){u[e]=[F,p,b];break}}else if(y&&(b=p=(c=(u=(d=(f=t)[H]||(f[H]={}))[f.uniqueID]||(d[f.uniqueID]={}))[e]||[])[0]===F&&c[1]),!1===b)for(;(f=++p&&f&&f[m]||(b=p=0)||h.pop())&&((s?f.nodeName.toLowerCase()!==v:1!==f.nodeType)||!++b||(y&&((u=(d=f[H]||(f[H]={}))[f.uniqueID]||(d[f.uniqueID]={}))[e]=[F,b]),f!==t)););return(b-=o)===r||b%r==0&&b/r>=0}}},PSEUDO:function(e,n){var o,i=S.pseudos[e]||S.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return i[H]?i(n):i.length>1?(o=[e,e,"",n],S.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,o=i(e,n),a=o.length;a--;)e[r=ee(e,o[a])]=!(t[r]=o[a])}):function(e){return i(e,0,o)}):i}},pseudos:{not:r(function(e){var t=[],n=[],o=k(e.replace(se,"$1"));return o[H]?r(function(e,t,n,r){for(var i,a=o(e,null,r,[]),s=e.length;s--;)(i=a[s])&&(e[s]=!(t[s]=i))}):function(e,r,i){return t[0]=e,o(t,null,i,n),t[0]=null,!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return e=e.replace(we,xe),function(t){return(t.textContent||t.innerText||C(t)).indexOf(e)>-1}}),lang:r(function(e){return fe.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(we,xe).toLowerCase(),function(t){var n;do{if(n=P?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===M},focus:function(e){return e===N.activeElement&&(!N.hasFocus||N.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!S.pseudos.empty(e)},header:function(e){return me.test(e.nodeName)},input:function(e){return he.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:c(function(){return[0]}),last:c(function(e,t){return[t-1]}),eq:c(function(e,t,n){return[n<0?n+t:n]}),even:c(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:c(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:c(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:c(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=S.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})S.pseudos[w]=s(w);for(w in{submit:!0,reset:!0})S.pseudos[w]=l(w);return d.prototype=S.filters=S.pseudos,S.setFilters=new d,T=t.tokenize=function(e,n){var r,o,i,a,s,l,c,u=U[e+" "];if(u)return n?0:u.slice(0);for(s=e,l=[],c=S.preFilter;s;){for(a in r&&!(o=le.exec(s))||(o&&(s=s.slice(o[0].length)||s),l.push(i=[])),r=!1,(o=ce.exec(s))&&(r=o.shift(),i.push({value:r,type:o[0].replace(se," ")}),s=s.slice(r.length)),S.filter)!(o=pe[a].exec(s))||c[a]&&!(o=c[a](o))||(r=o.shift(),i.push({value:r,type:a,matches:o}),s=s.slice(r.length));if(!r)break}return n?s.length:s?t.error(e):U(e,l).slice(0)},k=t.compile=function(e,t){var n,r=[],o=[],i=G[e+" "];if(!i){for(t||(t=T(e)),n=t.length;n--;)(i=y(t[n]))[H]?r.push(i):o.push(i);(i=G(e,b(o,r))).selector=e}return i},j=t.select=function(e,t,n,r){var o,i,a,s,l,c="function"==typeof e&&e,d=!r&&T(e=c.selector||e);if(n=n||[],1===d.length){if((i=d[0]=d[0].slice(0)).length>2&&"ID"===(a=i[0]).type&&x.getById&&9===t.nodeType&&P&&S.relative[i[1].type]){if(!(t=(S.find.ID(a.matches[0].replace(we,xe),t)||[])[0]))return n;c&&(t=t.parentNode),e=e.slice(i.shift().value.length)}for(o=pe.needsContext.test(e)?0:i.length;o--&&(a=i[o],!S.relative[s=a.type]);)if((l=S.find[s])&&(r=l(a.matches[0].replace(we,xe),ye.test(i[0].type)&&u(t.parentNode)||t))){if(i.splice(o,1),!(e=r.length&&f(i)))return Z.apply(n,r),n;break}}return(c||k(e,d))(r,t,!P,n,!t||ye.test(e)&&u(t.parentNode)||t),n},x.sortStable=H.split("").sort($).join("")===H,x.detectDuplicates=!!_,A(),x.sortDetached=o(function(e){return 1&e.compareDocumentPosition(N.createElement("div"))}),o(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||i("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),x.attributes&&o(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||i("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),o(function(e){return null==e.getAttribute("disabled")})||i(te,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(e);pe.find=ye,pe.expr=ye.selectors,pe.expr[":"]=pe.expr.pseudos,pe.uniqueSort=pe.unique=ye.uniqueSort,pe.text=ye.getText,pe.isXMLDoc=ye.isXML,pe.contains=ye.contains;var be=function(e,t,n){for(var r=[],o=n!==undefined;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&pe(e).is(n))break;r.push(e)}return r},we=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},xe=pe.expr.match.needsContext,Se=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,Ce=/^.[^:#\[\.,]*$/;pe.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?pe.find.matchesSelector(r,e)?[r]:[]:pe.find.matches(e,pe.grep(t,function(e){return 1===e.nodeType}))},pe.fn.extend({find:function(e){var t,n=[],r=this,o=r.length;if("string"!=typeof e)return this.pushStack(pe(e).filter(function(){for(t=0;t<o;t++)if(pe.contains(r[t],this))return!0}));for(t=0;t<o;t++)pe.find(e,r[t],n);return(n=this.pushStack(o>1?pe.unique(n):n)).selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(r(this,e||[],!1))},not:function(e){return this.pushStack(r(this,e||[],!0))},is:function(e){return!!r(this,"string"==typeof e&&xe.test(e)?pe(e):e||[],!1).length}});var Ee,Te=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(pe.fn.init=function(e,t,n){var r,o;if(!e)return this;if(n=n||Ee,"string"==typeof e){if(!(r="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:Te.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof pe?t[0]:t,pe.merge(this,pe.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:re,!0)),Se.test(r[1])&&pe.isPlainObject(t))for(r in t)pe.isFunction(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}if((o=re.getElementById(r[2]))&&o.parentNode){if(o.id!==r[2])return Ee.find(e);this.length=1,this[0]=o}return this.context=re,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):pe.isFunction(e)?"undefined"!=typeof n.ready?n.ready(e):e(pe):(e.selector!==undefined&&(this.selector=e.selector,this.context=e.context),pe.makeArray(e,this))}).prototype=pe.fn,Ee=pe(re);var ke=/^(?:parents|prev(?:Until|All))/,je={children:!0,contents:!0,next:!0,prev:!0};pe.fn.extend({has:function(e){var t,n=pe(e,this),r=n.length;return this.filter(function(){for(t=0;t<r;t++)if(pe.contains(this,n[t]))return!0})},closest:function(e,t){for(var n,r=0,o=this.length,i=[],a=xe.test(e)||"string"!=typeof e?pe(e,t||this.context):0;r<o;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&pe.find.matchesSelector(n,e))){i.push(n);break}return this.pushStack(i.length>1?pe.uniqueSort(i):i)},index:function(e){return e?"string"==typeof e?pe.inArray(this[0],pe(e)):pe.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(pe.uniqueSort(pe.merge(this.get(),pe(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),pe.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return be(e,"parentNode")},parentsUntil:function(e,t,n){return be(e,"parentNode",n)},next:function(e){return o(e,"nextSibling")},prev:function(e){return o(e,"previousSibling")},nextAll:function(e){return be(e,"nextSibling")},prevAll:function(e){return be(e,"previousSibling")},nextUntil:function(e,t,n){return be(e,"nextSibling",n)},prevUntil:function(e,t,n){return be(e,"previousSibling",n)},siblings:function(e){return we((e.parentNode||{}).firstChild,e)},children:function(e){return we(e.firstChild)},contents:function(e){return pe.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:pe.merge([],e.childNodes)}},function(e,t){pe.fn[e]=function(n,r){var o=pe.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(o=pe.filter(r,o)),this.length>1&&(je[e]||(o=pe.uniqueSort(o)),ke.test(e)&&(o=o.reverse())),this.pushStack(o)}});var Le,Oe,_e=/\S+/g;for(Oe in pe.Callbacks=function(e){e="string"==typeof e?i(e):pe.extend({},e);var t,n,r,o,a=[],s=[],l=-1,c=function(){for(o=e.once,r=t=!0;s.length;l=-1)for(n=s.shift();++l<a.length;)!1===a[l].apply(n[0],n[1])&&e.stopOnFalse&&(l=a.length,n=!1);e.memory||(n=!1),t=!1,o&&(a=n?[]:"")},u={add:function(){return a&&(n&&!t&&(l=a.length-1,s.push(n)),function r(t){pe.each(t,function(t,n){pe.isFunction(n)?e.unique&&u.has(n)||a.push(n):n&&n.length&&"string"!==pe.type(n)&&r(n)})}(arguments),n&&!t&&c()),this},remove:function(){return pe.each(arguments,function(e,t){for(var n;(n=pe.inArray(t,a,n))>-1;)a.splice(n,1),n<=l&&l--}),this},has:function(e){return e?pe.inArray(e,a)>-1:a.length>0},empty:function(){return a&&(a=[]),this},disable:function(){return o=s=[],a=n="",this},disabled:function(){return!a},lock:function(){return o=!0,n||u.disable(),this},locked:function(){return!!o},fireWith:function(e,n){return o||(n=[e,(n=n||[]).slice?n.slice():n],s.push(n),t||c()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!r}};return u},pe.extend({Deferred:function(e){var t=[["resolve","done",pe.Callbacks("once memory"),"resolved"],["reject","fail",pe.Callbacks("once memory"),"rejected"],["notify","progress",pe.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var e=arguments;return pe.Deferred(function(n){pe.each(t,function(t,i){var a=pe.isFunction(e[t])&&e[t];o[i[1]](function(){var e=a&&a.apply(this,arguments);e&&pe.isFunction(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[i[0]+"With"](this===r?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?pe.extend(e,r):r}},o={};return r.pipe=r.then,pe.each(t,function(e,i){var a=i[2],s=i[3];r[i[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),o[i[0]]=function(){return o[i[0]+"With"](this===o?r:this,arguments),this},o[i[0]+"With"]=a.fireWith}),r.promise(o),e&&e.call(o,o),o},when:function(e){var t,n,r,o=0,i=oe.call(arguments),a=i.length,s=1!==a||e&&pe.isFunction(e.promise)?a:0,l=1===s?e:pe.Deferred(),c=function(e,n,r){return function(o){n[e]=this,r[e]=arguments.length>1?oe.call(arguments):o,r===t?l.notifyWith(n,r):--s||l.resolveWith(n,r)}};if(a>1)for(t=new Array(a),n=new Array(a),r=new Array(a);o<a;o++)i[o]&&pe.isFunction(i[o].promise)?i[o].promise().progress(c(o,n,t)).done(c(o,r,i)).fail(l.reject):--s;return s||l.resolveWith(r,i),l.promise()}}),pe.fn.ready=function(e){return pe.ready.promise().done(e),this},pe.extend({isReady:!1,readyWait:1,holdReady:function(e){e?pe.readyWait++:pe.ready(!0)},ready:function(e){(!0===e?--pe.readyWait:pe.isReady)||(pe.isReady=!0,!0!==e&&--pe.readyWait>0||(Le.resolveWith(re,[pe]),pe.fn.triggerHandler&&(pe(re).triggerHandler("ready"),pe(re).off("ready"))))}}),pe.ready.promise=function(t){if(!Le)if(Le=pe.Deferred(),"complete"===re.readyState||"loading"!==re.readyState&&!re.documentElement.doScroll)e.setTimeout(pe.ready);else if(re.addEventListener)re.addEventListener("DOMContentLoaded",s),e.addEventListener("load",s);else{re.attachEvent("onreadystatechange",s),e.attachEvent("onload",s);var n=!1;try{n=null==e.frameElement&&re.documentElement}catch(r){}n&&n.doScroll&&function t(){if(!pe.isReady){try{n.doScroll("left")}catch(r){return e.setTimeout(t,50)}a(),pe.ready()}}()}return Le.promise(t)},pe.ready.promise(),pe(de))break;de.ownFirst="0"===Oe,de.inlineBlockNeedsLayout=!1,pe(function(){var e,t,n,r;(n=re.getElementsByTagName("body")[0])&&n.style&&(t=re.createElement("div"),(r=re.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),"undefined"!=typeof t.style.zoom&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",de.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(n.style.zoom=1)),n.removeChild(r))}),function(){var e=re.createElement("div");de.deleteExpando=!0;try{delete e.test}catch(t){de.deleteExpando=!1}e=null}();var Ae,Ne=function(e){var t=pe.noData[(e.nodeName+" ").toLowerCase()],n=+e.nodeType||1;return(1===n||9===n)&&(!t||!0!==t&&e.getAttribute("classid")===t)},Me=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Pe=/([A-Z])/g;pe.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return!!(e=e.nodeType?pe.cache[e[pe.expando]]:e[pe.expando])&&!c(e)},data:function(e,t,n){return u(e,t,n)},removeData:function(e,t){return d(e,t)},_data:function(e,t,n){return u(e,t,n,!0)},_removeData:function(e,t){return d(e,t,!0)}}),pe.fn.extend({data:function(e,t){var n,r,o,i=this[0],a=i&&i.attributes;if(e===undefined){if(this.length&&(o=pe.data(i),1===i.nodeType&&!pe._data(i,"parsedAttrs"))){for(n=a.length;n--;)a[n]&&0===(r=a[n].name).indexOf("data-")&&l(i,r=pe.camelCase(r.slice(5)),o[r]);pe._data(i,"parsedAttrs",!0)}return o}return"object"==typeof e?this.each(function(){pe.data(this,e)}):arguments.length>1?this.each(function(){pe.data(this,e,t)}):i?l(i,e,pe.data(i,e)):undefined},removeData:function(e){return this.each(function(){pe.removeData(this,e)})}}),pe.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=pe._data(e,t),n&&(!r||pe.isArray(n)?r=pe._data(e,t,pe.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=pe.queue(e,t),r=n.length,o=n.shift(),i=pe._queueHooks(e,t),a=function(){pe.dequeue(e,t)};"inprogress"===o&&(o=n.shift(),r--),o&&("fx"===t&&n.unshift("inprogress"),delete i.stop,o.call(e,a,i)),!r&&i&&i.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return pe._data(e,n)||pe._data(e,n,{empty:pe.Callbacks("once memory").add(function(){pe._removeData(e,t+"queue"),pe._removeData(e,n)})})}}),pe.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?pe.queue(this[0],e):t===undefined?this:this.each(function(){var n=pe.queue(this,e,t);pe._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&pe.dequeue(this,e)})},dequeue:function(e){return this.each(function(){pe.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,o=pe.Deferred(),i=this,a=this.length,s=function(){--r||o.resolveWith(i,[i])};for("string"!=typeof e&&(t=e,e=undefined),e=e||"fx";a--;)(n=pe._data(i[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),o.promise(t)}}),de.shrinkWrapBlocks=function(){return null!=Ae?Ae:(Ae=!1,(t=re.getElementsByTagName("body")[0])&&t.style?(e=re.createElement("div"),(n=re.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",t.appendChild(n).appendChild(e),"undefined"!=typeof e.style.zoom&&(e.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",e.appendChild(re.createElement("div")).style.width="5px",Ae=3!==e.offsetWidth),t.removeChild(n),Ae):void 0);var e,t,n};var Ie,De,Re,We=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,He=new RegExp("^(?:([+-])=|)("+We+")([a-z%]*)$","i"),Be=["Top","Right","Bottom","Left"],Fe=function(e,t){return e=t||e,"none"===pe.css(e,"display")||!pe.contains(e.ownerDocument,e)},ze=function(e,t,n,r,o,i,a){var s=0,l=e.length,c=null==n;if("object"===pe.type(n))for(s in o=!0,n)ze(e,t,s,n[s],!0,i,a);else if(r!==undefined&&(o=!0,pe.isFunction(r)||(a=!0),c&&(a?(t.call(e,r),t=null):(c=t,t=function(e,t,n){return c.call(pe(e),n)})),t))for(;s<l;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return o?e:c?t.call(e):l?t(e[0],n):i},qe=/^(?:checkbox|radio)$/i,Ue=/<([\w:-]+)/,Ge=/^$|\/(?:java|ecma)script/i,$e=/^\s+/,Ye="abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video";Ie=re.createElement("div"),De=re.createDocumentFragment(),Re=re.createElement("input"),Ie.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",de.leadingWhitespace=3===Ie.firstChild.nodeType,de.tbody=!Ie.getElementsByTagName("tbody").length,de.htmlSerialize=!!Ie.getElementsByTagName("link").length,de.html5Clone="<:nav></:nav>"!==re.createElement("nav").cloneNode(!0).outerHTML,Re.type="checkbox",Re.checked=!0,De.appendChild(Re),de.appendChecked=Re.checked,Ie.innerHTML="<textarea>x</textarea>",de.noCloneChecked=!!Ie.cloneNode(!0).lastChild.defaultValue,De.appendChild(Ie),(Re=re.createElement("input")).setAttribute("type","radio"),Re.setAttribute("checked","checked"),Re.setAttribute("name","t"),Ie.appendChild(Re),de.checkClone=Ie.cloneNode(!0).cloneNode(!0).lastChild.checked,de.noCloneEvent=!!Ie.addEventListener,Ie[pe.expando]=1,de.attributes=!Ie.getAttribute(pe.expando);var Ve={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:de.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]};Ve.optgroup=Ve.option,Ve.tbody=Ve.tfoot=Ve.colgroup=Ve.caption=Ve.thead,Ve.th=Ve.td;var Xe=/<|&#?\w+;/,Qe=/<tbody/i;!function(){var t,n,r=re.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})n="on"+t,(de[t]=n in e)||(r.setAttribute(n,"t"),de[t]=!1===r.attributes[n].expando);r=null}();var Ke=/^(?:input|select|textarea)$/i,Ze=/^key/,Je=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,et=/^(?:focusinfocus|focusoutblur)$/,tt=/^([^.]*)(?:\.(.+)|)/;pe.event={global:{},add:function(e,t,n,r,o){var i,a,s,l,c,u,d,f,p,h,m,g=pe._data(e);if(g){for(n.handler&&(n=(l=n).handler,o=l.selector),n.guid||(n.guid=pe.guid++),(a=g.events)||(a=g.events={}),(u=g.handle)||((u=g.handle=function(e){return void 0===pe||e&&pe.event.triggered===e.type?undefined:pe.event.dispatch.apply(u.elem,arguments)}).elem=e),s=(t=(t||"").match(_e)||[""]).length;s--;)p=m=(i=tt.exec(t[s])||[])[1],h=(i[2]||"").split(".").sort(),p&&(c=pe.event.special[p]||{},p=(o?c.delegateType:c.bindType)||p,c=pe.event.special[p]||{},d=pe.extend({type:p,origType:m,data:r,handler:n,guid:n.guid,selector:o,
needsContext:o&&pe.expr.match.needsContext.test(o),namespace:h.join(".")},l),(f=a[p])||((f=a[p]=[]).delegateCount=0,c.setup&&!1!==c.setup.call(e,r,h,u)||(e.addEventListener?e.addEventListener(p,u,!1):e.attachEvent&&e.attachEvent("on"+p,u))),c.add&&(c.add.call(e,d),d.handler.guid||(d.handler.guid=n.guid)),o?f.splice(f.delegateCount++,0,d):f.push(d),pe.event.global[p]=!0);e=null}},remove:function(e,t,n,r,o){var i,a,s,l,c,u,d,f,p,h,m,g=pe.hasData(e)&&pe._data(e);if(g&&(u=g.events)){for(c=(t=(t||"").match(_e)||[""]).length;c--;)if(p=m=(s=tt.exec(t[c])||[])[1],h=(s[2]||"").split(".").sort(),p){for(d=pe.event.special[p]||{},f=u[p=(r?d.delegateType:d.bindType)||p]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=i=f.length;i--;)a=f[i],!o&&m!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||r&&r!==a.selector&&("**"!==r||!a.selector)||(f.splice(i,1),a.selector&&f.delegateCount--,d.remove&&d.remove.call(e,a));l&&!f.length&&(d.teardown&&!1!==d.teardown.call(e,h,g.handle)||pe.removeEvent(e,p,g.handle),delete u[p])}else for(p in u)pe.event.remove(e,p+t[c],n,r,!0);pe.isEmptyObject(u)&&(delete g.handle,pe._removeData(e,"events"))}},trigger:function(t,n,r,o){var i,a,s,l,c,u,d,f=[r||re],p=ue.call(t,"type")?t.type:t,h=ue.call(t,"namespace")?t.namespace.split("."):[];if(s=u=r=r||re,3!==r.nodeType&&8!==r.nodeType&&!et.test(p+pe.event.triggered)&&(p.indexOf(".")>-1&&(p=(h=p.split(".")).shift(),h.sort()),a=p.indexOf(":")<0&&"on"+p,(t=t[pe.expando]?t:new pe.Event(p,"object"==typeof t&&t)).isTrigger=o?2:3,t.namespace=h.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=undefined,t.target||(t.target=r),n=null==n?[t]:pe.makeArray(n,[t]),c=pe.event.special[p]||{},o||!c.trigger||!1!==c.trigger.apply(r,n))){if(!o&&!c.noBubble&&!pe.isWindow(r)){for(l=c.delegateType||p,et.test(l+p)||(s=s.parentNode);s;s=s.parentNode)f.push(s),u=s;u===(r.ownerDocument||re)&&f.push(u.defaultView||u.parentWindow||e)}for(d=0;(s=f[d++])&&!t.isPropagationStopped();)t.type=d>1?l:c.bindType||p,(i=(pe._data(s,"events")||{})[t.type]&&pe._data(s,"handle"))&&i.apply(s,n),(i=a&&s[a])&&i.apply&&Ne(s)&&(t.result=i.apply(s,n),!1===t.result&&t.preventDefault());if(t.type=p,!o&&!t.isDefaultPrevented()&&(!c._default||!1===c._default.apply(f.pop(),n))&&Ne(r)&&a&&r[p]&&!pe.isWindow(r)){(u=r[a])&&(r[a]=null),pe.event.triggered=p;try{r[p]()}catch(m){}pe.event.triggered=undefined,u&&(r[a]=u)}return t.result}},dispatch:function(e){e=pe.event.fix(e);var t,n,r,o,i,a=[],s=oe.call(arguments),l=(pe._data(this,"events")||{})[e.type]||[],c=pe.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,e)){for(a=pe.event.handlers.call(this,e,l),t=0;(o=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=o.elem,n=0;(i=o.handlers[n++])&&!e.isImmediatePropagationStopped();)e.rnamespace&&!e.rnamespace.test(i.namespace)||(e.handleObj=i,e.data=i.data,(r=((pe.event.special[i.origType]||{}).handle||i.handler).apply(o.elem,s))!==undefined&&!1===(e.result=r)&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,o,i,a=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&("click"!==e.type||isNaN(e.button)||e.button<1))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==e.type)){for(r=[],n=0;n<s;n++)r[o=(i=t[n]).selector+" "]===undefined&&(r[o]=i.needsContext?pe(o,this).index(l)>-1:pe.find(o,this,null,[l]).length),r[o]&&r.push(i);r.length&&a.push({elem:l,handlers:r})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},fix:function(e){if(e[pe.expando])return e;var t,n,r,o=e.type,i=e,a=this.fixHooks[o];for(a||(this.fixHooks[o]=a=Je.test(o)?this.mouseHooks:Ze.test(o)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,e=new pe.Event(i),t=r.length;t--;)e[n=r[t]]=i[n];return e.target||(e.target=i.srcElement||re),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,a.filter?a.filter(e,i):e},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,o,i=t.button,a=t.fromElement;return null==e.pageX&&null!=t.clientX&&(o=(r=e.target.ownerDocument||re).documentElement,n=r.body,e.pageX=t.clientX+(o&&o.scrollLeft||n&&n.scrollLeft||0)-(o&&o.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(o&&o.scrollTop||n&&n.scrollTop||0)-(o&&o.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?t.toElement:a),e.which||i===undefined||(e.which=1&i?1:2&i?3:4&i?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==w()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){if(this===w()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(pe.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(e){return pe.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){e.result!==undefined&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n){var r=pe.extend(new pe.Event,n,{type:e,isSimulated:!0});pe.event.trigger(r,null,t),r.isDefaultPrevented()&&n.preventDefault()}},pe.removeEvent=re.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)}:function(e,t,n){var r="on"+t;e.detachEvent&&("undefined"==typeof e[r]&&(e[r]=null),e.detachEvent(r,n))},pe.Event=function(e,t){if(!(this instanceof pe.Event))return new pe.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.defaultPrevented===undefined&&!1===e.returnValue?y:b):this.type=e,t&&pe.extend(this,t),this.timeStamp=e&&e.timeStamp||pe.now(),this[pe.expando]=!0},pe.Event.prototype={constructor:pe.Event,isDefaultPrevented:b,isPropagationStopped:b,isImmediatePropagationStopped:b,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=y,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=y,e&&!this.isSimulated&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=y,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},pe.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){pe.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,o=e.relatedTarget,i=e.handleObj;return o&&(o===r||pe.contains(r,o))||(e.type=i.origType,n=i.handler.apply(this,arguments),e.type=t),n}}}),de.submit||(pe.event.special.submit={setup:function(){if(pe.nodeName(this,"form"))return!1;pe.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,n=pe.nodeName(t,"input")||pe.nodeName(t,"button")?pe.prop(t,"form"):undefined;n&&!pe._data(n,"submit")&&(pe.event.add(n,"submit._submit",function(e){e._submitBubble=!0}),pe._data(n,"submit",!0))})},postDispatch:function(e){e._submitBubble&&(delete e._submitBubble,this.parentNode&&!e.isTrigger&&pe.event.simulate("submit",this.parentNode,e))},teardown:function(){if(pe.nodeName(this,"form"))return!1;pe.event.remove(this,"._submit")}}),de.change||(pe.event.special.change={setup:function(){if(Ke.test(this.nodeName))return"checkbox"!==this.type&&"radio"!==this.type||(pe.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._justChanged=!0)}),pe.event.add(this,"click._change",function(e){this._justChanged&&!e.isTrigger&&(this._justChanged=!1),pe.event.simulate("change",this,e)})),!1;pe.event.add(this,"beforeactivate._change",function(e){var t=e.target;Ke.test(t.nodeName)&&!pe._data(t,"change")&&(pe.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||pe.event.simulate("change",this.parentNode,e)}),pe._data(t,"change",!0))})},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type)return e.handleObj.handler.apply(this,arguments)},teardown:function(){return pe.event.remove(this,"._change"),!Ke.test(this.nodeName)}}),de.focusin||pe.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){pe.event.simulate(t,e.target,pe.event.fix(e))};pe.event.special[t]={setup:function(){var r=this.ownerDocument||this,o=pe._data(r,t);o||r.addEventListener(e,n,!0),pe._data(r,t,(o||0)+1)},teardown:function(){var r=this.ownerDocument||this,o=pe._data(r,t)-1;o?pe._data(r,t,o):(r.removeEventListener(e,n,!0),pe._removeData(r,t))}}}),pe.fn.extend({on:function(e,t,n,r){return x(this,e,t,n,r)},one:function(e,t,n,r){return x(this,e,t,n,r,1)},off:function(e,t,n){var r,o;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,pe(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(o in e)this.off(o,t,e[o]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=undefined),!1===n&&(n=b),this.each(function(){pe.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){pe.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return pe.event.trigger(e,t,n,!0)}});var nt=/ jQuery\d+="(?:null|\d+)"/g,rt=new RegExp("<(?:"+Ye+")[\\s/>]","i"),ot=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,it=/<script|<style|<link/i,at=/checked\s*(?:[^=]|=\s*.checked.)/i,st=/^true\/(.*)/,lt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ct=p(re).appendChild(re.createElement("div"));pe.extend({htmlPrefilter:function(e){return e.replace(ot,"<$1></$2>")},clone:function(e,t,n){var r,o,i,a,s,l=pe.contains(e.ownerDocument,e);if(de.html5Clone||pe.isXMLDoc(e)||!rt.test("<"+e.nodeName+">")?i=e.cloneNode(!0):(ct.innerHTML=e.outerHTML,ct.removeChild(i=ct.firstChild)),!(de.noCloneEvent&&de.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||pe.isXMLDoc(e)))for(r=h(i),s=h(e),a=0;null!=(o=s[a]);++a)r[a]&&k(o,r[a]);if(t)if(n)for(s=s||h(e),r=r||h(i),a=0;null!=(o=s[a]);a++)T(o,r[a]);else T(e,i);return(r=h(i,"script")).length>0&&m(r,!l&&h(e,"script")),r=s=o=null,i},cleanData:function(e,t){for(var n,r,o,i,a=0,s=pe.expando,l=pe.cache,c=de.attributes,u=pe.event.special;null!=(n=e[a]);a++)if((t||Ne(n))&&(i=(o=n[s])&&l[o])){if(i.events)for(r in i.events)u[r]?pe.event.remove(n,r):pe.removeEvent(n,r,i.handle);l[o]&&(delete l[o],c||"undefined"==typeof n.removeAttribute?n[s]=undefined:n.removeAttribute(s),ne.push(o))}}}),pe.fn.extend({domManip:j,detach:function(e){return L(this,e,!0)},remove:function(e){return L(this,e)},text:function(e){return ze(this,function(e){return e===undefined?pe.text(this):this.empty().append((this[0]&&this[0].ownerDocument||re).createTextNode(e))},null,e,arguments.length)},append:function(){return j(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||S(this,e).appendChild(e)})},prepend:function(){return j(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=S(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return j(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return j(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&pe.cleanData(h(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&pe.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return pe.clone(this,e,t)})},html:function(e){return ze(this,function(e){var t=this[0]||{},n=0,r=this.length;if(e===undefined)return 1===t.nodeType?t.innerHTML.replace(nt,""):undefined;if("string"==typeof e&&!it.test(e)&&(de.htmlSerialize||!rt.test(e))&&(de.leadingWhitespace||!$e.test(e))&&!Ve[(Ue.exec(e)||["",""])[1].toLowerCase()]){e=pe.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(pe.cleanData(h(t,!1)),t.innerHTML=e);t=0}catch(o){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return j(this,arguments,function(t){var n=this.parentNode;pe.inArray(this,e)<0&&(pe.cleanData(h(this)),n&&n.replaceChild(t,this))},e)}}),pe.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){pe.fn[e]=function(e){for(var n,r=0,o=[],i=pe(e),a=i.length-1;r<=a;r++)n=r===a?this:this.clone(!0),pe(i[r])[t](n),ae.apply(o,n.get());return this.pushStack(o)}});var ut,dt={HTML:"block",BODY:"block"},ft=/^margin/,pt=new RegExp("^("+We+")(?!px)[a-z%]+$","i"),ht=function(e,t,n,r){var o,i,a={};for(i in t)a[i]=e.style[i],e.style[i]=t[i];for(i in o=n.apply(e,r||[]),t)e.style[i]=a[i];return o},mt=re.documentElement;!function(){function t(){var t,u,d=re.documentElement;d.appendChild(l),c.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",n=o=s=!1,r=a=!0,e.getComputedStyle&&(u=e.getComputedStyle(c),n="1%"!==(u||{}).top,s="2px"===(u||{}).marginLeft,o="4px"===(u||{width:"4px"}).width,c.style.marginRight="50%",r="4px"===(u||{marginRight:"4px"}).marginRight,(t=c.appendChild(re.createElement("div"))).style.cssText=c.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",t.style.marginRight=t.style.width="0",c.style.width="1px",a=!parseFloat((e.getComputedStyle(t)||{}).marginRight),c.removeChild(t)),c.style.display="none",(i=0===c.getClientRects().length)&&(c.style.display="",c.innerHTML="<table><tr><td></td><td>t</td></tr></table>",c.childNodes[0].style.borderCollapse="separate",(t=c.getElementsByTagName("td"))[0].style.cssText="margin:0;border:0;padding:0;display:none",(i=0===t[0].offsetHeight)&&(t[0].style.display="",t[1].style.display="none",i=0===t[0].offsetHeight)),d.removeChild(l)}var n,r,o,i,a,s,l=re.createElement("div"),c=re.createElement("div");c.style&&(c.style.cssText="float:left;opacity:.5",de.opacity="0.5"===c.style.opacity,de.cssFloat=!!c.style.cssFloat,c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",de.clearCloneStyle="content-box"===c.style.backgroundClip,(l=re.createElement("div")).style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",c.innerHTML="",l.appendChild(c),de.boxSizing=""===c.style.boxSizing||""===c.style.MozBoxSizing||""===c.style.WebkitBoxSizing,pe.extend(de,{reliableHiddenOffsets:function(){return null==n&&t(),i},boxSizingReliable:function(){return null==n&&t(),o},pixelMarginRight:function(){return null==n&&t(),r},pixelPosition:function(){return null==n&&t(),n},reliableMarginRight:function(){return null==n&&t(),a},reliableMarginLeft:function(){return null==n&&t(),s}}))}();var gt,vt,yt=/^(top|right|bottom|left)$/;e.getComputedStyle?(gt=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},vt=function(e,t,n){var r,o,i,a,s=e.style;return""!==(a=(n=n||gt(e))?n.getPropertyValue(t)||n[t]:undefined)&&a!==undefined||pe.contains(e.ownerDocument,e)||(a=pe.style(e,t)),n&&!de.pixelMarginRight()&&pt.test(a)&&ft.test(t)&&(r=s.width,o=s.minWidth,i=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=o,s.maxWidth=i),a===undefined?a:a+""}):mt.currentStyle&&(gt=function(e){return e.currentStyle},vt=function(e,t,n){var r,o,i,a,s=e.style;return null==(a=(n=n||gt(e))?n[t]:undefined)&&s&&s[t]&&(a=s[t]),pt.test(a)&&!yt.test(t)&&(r=s.left,(i=(o=e.runtimeStyle)&&o.left)&&(o.left=e.currentStyle.left),s.left="fontSize"===t?"1em":a,a=s.pixelLeft+"px",s.left=r,i&&(o.left=i)),a===undefined?a:a+""||"auto"});var bt=/alpha\([^)]*\)/i,wt=/opacity\s*=\s*([^)]*)/i,xt=/^(none|table(?!-c[ea]).+)/,St=new RegExp("^("+We+")(.*)$","i"),Ct={position:"absolute",visibility:"hidden",display:"block"},Et={letterSpacing:"0",fontWeight:"400"},Tt=["Webkit","O","Moz","ms"],kt=re.createElement("div").style;pe.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=vt(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:de.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,i,a,s=pe.camelCase(t),l=e.style;if(t=pe.cssProps[s]||(pe.cssProps[s]=N(s)||s),a=pe.cssHooks[t]||pe.cssHooks[s],n===undefined)return a&&"get"in a&&(o=a.get(e,!1,r))!==undefined?o:l[t];if("string"===(i=typeof n)&&(o=He.exec(n))&&o[1]&&(n=f(e,t,o),i="number"),null!=n&&n==n&&("number"===i&&(n+=o&&o[3]||(pe.cssNumber[s]?"":"px")),de.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),!(a&&"set"in a&&(n=a.set(e,n,r))===undefined)))try{l[t]=n}catch(c){}}},css:function(e,t,n,r){var o,i,a,s=pe.camelCase(t);return t=pe.cssProps[s]||(pe.cssProps[s]=N(s)||s),(a=pe.cssHooks[t]||pe.cssHooks[s])&&"get"in a&&(i=a.get(e,!0,n)),i===undefined&&(i=vt(e,t,r)),"normal"===i&&t in Et&&(i=Et[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),pe.each(["height","width"],function(e,t){pe.cssHooks[t]={get:function(e,n,r){if(n)return xt.test(pe.css(e,"display"))&&0===e.offsetWidth?ht(e,Ct,function(){return D(e,t,r)}):D(e,t,r)},set:function(e,n,r){var o=r&&gt(e);return P(e,n,r?I(e,t,r,de.boxSizing&&"border-box"===pe.css(e,"boxSizing",!1,o),o):0)}}}),de.opacity||(pe.cssHooks.opacity={get:function(e,t){return wt.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,o=pe.isNumeric(t)?"alpha(opacity="+100*t+")":"",i=r&&r.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===pe.trim(i.replace(bt,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||r&&!r.filter)||(n.filter=bt.test(i)?i.replace(bt,o):i+" "+o)}}),pe.cssHooks.marginRight=A(de.reliableMarginRight,function(e,t){if(t)return ht(e,{display:"inline-block"},vt,[e,"marginRight"])}),pe.cssHooks.marginLeft=A(de.reliableMarginLeft,function(e,t){if(t)return(parseFloat(vt(e,"marginLeft"))||(pe.contains(e.ownerDocument,e)?e.getBoundingClientRect().left-ht(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}):0))+"px"}),pe.each({margin:"",padding:"",border:"Width"},function(e,t){pe.cssHooks[e+t]={expand:function(n){for(var r=0,o={},i="string"==typeof n?n.split(" "):[n];r<4;r++)o[e+Be[r]+t]=i[r]||i[r-2]||i[0];return o}},ft.test(e)||(pe.cssHooks[e+t].set=P)}),pe.fn.extend({css:function(e,t){return ze(this,function(e,t,n){var r,o,i={},a=0;if(pe.isArray(t)){for(r=gt(e),o=t.length;a<o;a++)i[t[a]]=pe.css(e,t[a],!1,r);return i}return n!==undefined?pe.style(e,t,n):pe.css(e,t)},e,t,arguments.length>1)},show:function(){return M(this,!0)},hide:function(){return M(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Fe(this)?pe(this).show():pe(this).hide()})}}),pe.Tween=R,R.prototype={constructor:R,init:function(e,t,n,r,o,i){this.elem=e,this.prop=n,this.easing=o||pe.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=i||(pe.cssNumber[n]?"":"px")},cur:function(){var e=R.propHooks[this.prop];return e&&e.get?e.get(this):R.propHooks._default.get(this)},run:function(e){var t,n=R.propHooks[this.prop];return this.options.duration?this.pos=t=pe.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):R.propHooks._default.set(this),this}},R.prototype.init.prototype=R.prototype,R.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=pe.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){pe.fx.step[e.prop]?pe.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[pe.cssProps[e.prop]]&&!pe.cssHooks[e.prop]?e.elem[e.prop]=e.now:pe.style(e.elem,e.prop,e.now+e.unit)}}},R.propHooks.scrollTop=R.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},pe.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},pe.fx=R.prototype.init,pe.fx.step={};var jt,Lt,Ot=/^(?:toggle|show|hide)$/,_t=/queueHooks$/;pe.Animation=pe.extend(q,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return f(n.elem,e,He.exec(t),n),n}]},tweener:function(e,t){pe.isFunction(e)?(t=e,e=["*"]):e=e.match(_e);for(var n,r=0,o=e.length;r<o;r++)n=e[r],q.tweeners[n]=q.tweeners[n]||[],q.tweeners[n].unshift(t)},prefilters:[F],prefilter:function(e,t){t?q.prefilters.unshift(e):q.prefilters.push(e)}}),pe.speed=function(e,t,n){var r=e&&"object"==typeof e?pe.extend({},e):{complete:n||!n&&t||pe.isFunction(e)&&e,duration:e,easing:n&&t||t&&!pe.isFunction(t)&&t};return r.duration=pe.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in pe.fx.speeds?pe.fx.speeds[r.duration]:pe.fx.speeds._default,null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){pe.isFunction(r.old)&&r.old.call(this),r.queue&&pe.dequeue(this,r.queue)},r},pe.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Fe).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var o=pe.isEmptyObject(e),i=pe.speed(t,n,r),a=function(){var t=q(this,pe.extend({},e),i);(o||pe._data(this,"finish"))&&t.stop(!0)};return a.finish=a,o||!1===i.queue?this.each(a):this.queue(i.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=undefined),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,o=null!=e&&e+"queueHooks",i=pe.timers,a=pe._data(this);if(o)a[o]&&a[o].stop&&r(a[o]);else for(o in a)a[o]&&a[o].stop&&_t.test(o)&&r(a[o]);for(o=i.length;o--;)i[o].elem!==this||null!=e&&i[o].queue!==e||(i[o].anim.stop(n),t=!1,i.splice(o,1));!t&&n||pe.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=pe._data(this),r=n[e+"queue"],o=n[e+"queueHooks"],i=pe.timers,a=r?r.length:0;for(n.finish=!0,pe.queue(this,e,[]),o&&o.stop&&o.stop.call(this,!0),t=i.length;t--;)i[t].elem===this&&i[t].queue===e&&(i[t].anim.stop(!0),i.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),pe.each(["toggle","show","hide"],function(e,t){var n=pe.fn[t];pe.fn[t]=function(e,r,o){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(H(t,!0),e,r,o)}}),pe.each({slideDown:H("show"),slideUp:H("hide"),slideToggle:H("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){pe.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),pe.timers=[],pe.fx.tick=function(){var e,t=pe.timers,n=0;for(jt=pe.now();n<t.length;n++)(e=t[n])()||t[n]!==e||t.splice(n--,1);t.length||pe.fx.stop(),jt=undefined},pe.fx.timer=function(e){pe.timers.push(e),e()?pe.fx.start():pe.timers.pop()},pe.fx.interval=13,pe.fx.start=function(){Lt||(Lt=e.setInterval(pe.fx.tick,pe.fx.interval))},pe.fx.stop=function(){e.clearInterval(Lt),Lt=null},pe.fx.speeds={slow:600,fast:200,_default:400},pe.fn.delay=function(t,n){return t=pe.fx&&pe.fx.speeds[t]||t,n=n||"fx",this.queue(n,function(n,r){var o=e.setTimeout(n,t);r.stop=function(){e.clearTimeout(o)}})},function(){var e,t=re.createElement("input"),n=re.createElement("div"),r=re.createElement("select"),o=r.appendChild(re.createElement("option"));(n=re.createElement("div")).setAttribute("className","t"),n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",e=n.getElementsByTagName("a")[0],t.setAttribute("type","checkbox"),n.appendChild(t),(e=n.getElementsByTagName("a")[0]).style.cssText="top:1px",de.getSetAttribute="t"!==n.className,de.style=/top/.test(e.getAttribute("style")),de.hrefNormalized="/a"===e.getAttribute("href"),de.checkOn=!!t.value,de.optSelected=o.selected,de.enctype=!!re.createElement("form").enctype,r.disabled=!0,de.optDisabled=!o.disabled,(t=re.createElement("input")).setAttribute("value",""),de.input=""===t.getAttribute("value"),t.value="t",t.setAttribute("type","radio"),de.radioValue="t"===t.value}();var At=/\r/g,Nt=/[\x20\t\r\n\f]+/g;pe.fn.extend({val:function(e){var t,n,r,o=this[0];return arguments.length?(r=pe.isFunction(e),this.each(function(n){var o;1===this.nodeType&&(null==(o=r?e.call(this,n,pe(this).val()):e)?o="":"number"==typeof o?o+="":pe.isArray(o)&&(o=pe.map(o,function(e){return null==e?"":e+""})),(t=pe.valHooks[this.type]||pe.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&t.set(this,o,"value")!==undefined||(this.value=o))})):o?(t=pe.valHooks[o.type]||pe.valHooks[o.nodeName.toLowerCase()])&&"get"in t&&(n=t.get(o,"value"))!==undefined?n:"string"==typeof(n=o.value)?n.replace(At,""):null==n?"":n:void 0}}),pe.extend({valHooks:{option:{get:function(e){var t=pe.find.attr(e,"value");return null!=t?t:pe.trim(pe.text(e)).replace(Nt," ")}},select:{get:function(e){for(var t,n,r=e.options,o=e.selectedIndex,i="select-one"===e.type||o<0,a=i?null:[],s=i?o+1:r.length,l=o<0?s:i?o:0;l<s;l++)if(((n=r[l]).selected||l===o)&&(de.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!pe.nodeName(n.parentNode,"optgroup"))){if(t=pe(n).val(),i)return t;a.push(t)}return a},set:function(e,t){for(var n,r,o=e.options,i=pe.makeArray(t),a=o.length;a--;)if(r=o[a],pe.inArray(pe.valHooks.option.get(r),i)>-1)try{r.selected=n=!0}catch(s){r.scrollHeight}else r.selected=!1;return n||(e.selectedIndex=-1),o}}}}),pe.each(["radio","checkbox"],function(){pe.valHooks[this]={set:function(e,t){if(pe.isArray(t))return e.checked=pe.inArray(pe(e).val(),t)>-1}},de.checkOn||(pe.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Mt,Pt,It=pe.expr.attrHandle,Dt=/^(?:checked|selected)$/i,Rt=de.getSetAttribute,Wt=de.input;pe.fn.extend({attr:function(e,t){return ze(this,pe.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){pe.removeAttr(this,e)})}}),pe.extend({attr:function(e,t,n){var r,o,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return"undefined"==typeof e.getAttribute?pe.prop(e,t,n):(1===i&&pe.isXMLDoc(e)||(t=t.toLowerCase(),o=pe.attrHooks[t]||(pe.expr.match.bool.test(t)?Pt:Mt)),n!==undefined?null===n?void pe.removeAttr(e,t):o&&"set"in o&&(r=o.set(e,n,t))!==undefined?r:(e.setAttribute(t,n+""),n):o&&"get"in o&&null!==(r=o.get(e,t))?r:null==(r=pe.find.attr(e,t))?undefined:r)},attrHooks:{type:{set:function(e,t){if(!de.radioValue&&"radio"===t&&pe.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r,o=0,i=t&&t.match(_e);if(i&&1===e.nodeType)for(;n=i[o++];)r=pe.propFix[n]||n,pe.expr.match.bool.test(n)?Wt&&Rt||!Dt.test(n)?e[r]=!1:e[pe.camelCase("default-"+n)]=e[r]=!1:pe.attr(e,n,""),e.removeAttribute(Rt?n:r)}}),Pt={set:function(e,t,n){return!1===t?pe.removeAttr(e,n):Wt&&Rt||!Dt.test(n)?e.setAttribute(!Rt&&pe.propFix[n]||n,n):e[pe.camelCase("default-"+n)]=e[n]=!0,n}},pe.each(pe.expr.match.bool.source.match(/\w+/g),function(e,t){var n=It[t]||pe.find.attr;Wt&&Rt||!Dt.test(t)?It[t]=function(e,t,r){var o,i;return r||(i=It[t],It[t]=o,o=null!=n(e,t,r)?t.toLowerCase():null,It[t]=i),o}:It[t]=function(e,t,n){if(!n)return e[pe.camelCase("default-"+t)]?t.toLowerCase():null}}),Wt&&Rt||(pe.attrHooks.value={set:function(e,t,n){if(!pe.nodeName(e,"input"))return Mt&&Mt.set(e,t,n);e.defaultValue=t}}),Rt||(Mt={set:function(e,t,n){var r=e.getAttributeNode(n);if(r||e.setAttributeNode(r=e.ownerDocument.createAttribute(n)),r.value=t+="","value"===n||t===e.getAttribute(n))return t}},It.id=It.name=It.coords=function(e,t,n){var r;if(!n)return(r=e.getAttributeNode(t))&&""!==r.value?r.value:null},pe.valHooks.button={get:function(e,t){var n=e.getAttributeNode(t);if(n&&n.specified)return n.value},set:Mt.set},pe.attrHooks.contenteditable={set:function(e,t,n){Mt.set(e,""!==t&&t,n)}},pe.each(["width","height"],function(e,t){pe.attrHooks[t]={set:function(e,n){if(""===n)return e.setAttribute(t,"auto"),n}}})),de.style||(pe.attrHooks.style={get:function(e){return e.style.cssText||undefined},set:function(e,t){return e.style.cssText=t+""}});var Ht=/^(?:input|select|textarea|button|object)$/i,Bt=/^(?:a|area)$/i;pe.fn.extend({prop:function(e,t){return ze(this,pe.prop,e,t,arguments.length>1)},removeProp:function(e){return e=pe.propFix[e]||e,this.each(function(){try{this[e]=undefined,delete this[e]}catch(t){}})}}),pe.extend({prop:function(e,t,n){var r,o,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return 1===i&&pe.isXMLDoc(e)||(t=pe.propFix[t]||t,o=pe.propHooks[t]),n!==undefined?o&&"set"in o&&(r=o.set(e,n,t))!==undefined?r:e[t]=n:o&&"get"in o&&null!==(r=o.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=pe.find.attr(e,"tabindex");return t?parseInt(t,10):Ht.test(e.nodeName)||Bt.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),de.hrefNormalized||pe.each(["href","src"],function(e,t){pe.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),de.optSelected||(pe.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),pe.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){pe.propFix[this.toLowerCase()]=this}),de.enctype||(pe.propFix.enctype="encoding");var Ft=/[\t\r\n\f]/g;pe.fn.extend({addClass:function(e){var t,n,r,o,i,a,s,l=0;if(pe.isFunction(e))return this.each(function(t){pe(this).addClass(e.call(this,t,U(this)))});if("string"==typeof e&&e)for(t=e.match(_e)||[];n=this[l++];)if(o=U(n),r=1===n.nodeType&&(" "+o+" ").replace(Ft," ")){for(a=0;i=t[a++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");o!==(s=pe.trim(r))&&pe.attr(n,"class",s)}return this},removeClass:function(e){var t,n,r,o,i,a,s,l=0;if(pe.isFunction(e))return this.each(function(t){pe(this).removeClass(e.call(this,t,U(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(_e)||[];n=this[l++];)if(o=U(n),r=1===n.nodeType&&(" "+o+" ").replace(Ft," ")){for(a=0;i=t[a++];)for(;r.indexOf(" "+i+" ")>-1;)r=r.replace(" "+i+" "," ");o!==(s=pe.trim(r))&&pe.attr(n,"class",s)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):pe.isFunction(e)?this.each(function(n){pe(this).toggleClass(e.call(this,n,U(this),t),t)}):this.each(function(){var t,r,o,i;if("string"===n)for(r=0,o=pe(this),i=e.match(_e)||[];t=i[r++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else e!==undefined&&"boolean"!==n||((t=U(this))&&pe._data(this,"__className__",t),pe.attr(this,"class",t||!1===e?"":pe._data(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+U(n)+" ").replace(Ft," ").indexOf(t)>-1)return!0;return!1}}),pe.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){pe.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),pe.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}});var zt=e.location,qt=pe.now(),Ut=/\?/,Gt=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;pe.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var n,r=null,o=pe.trim(t+"");return o&&!pe.trim(o.replace(Gt,function(e,t,o,i){return n&&t&&(r=0),0===r?e:(n=o||t,r+=!i-!o,"")}))?Function("return "+o)():pe.error("Invalid JSON: "+t)},pe.parseXML=function(t){var n;if(!t||"string"!=typeof t)return null;try{e.DOMParser?n=(new e.DOMParser).parseFromString(t,"text/xml"):((n=new e.ActiveXObject("Microsoft.XMLDOM")).async="false",n.loadXML(t))}catch(r){n=undefined}
return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||pe.error("Invalid XML: "+t),n};var $t=/#.*$/,Yt=/([?&])_=[^&]*/,Vt=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Xt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Qt=/^(?:GET|HEAD)$/,Kt=/^\/\//,Zt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Jt={},en={},tn="*/".concat("*"),nn=zt.href,rn=Zt.exec(nn.toLowerCase())||[];pe.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:nn,type:"GET",isLocal:Xt.test(rn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":tn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":pe.parseJSON,"text xml":pe.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Y(Y(e,pe.ajaxSettings),t):Y(pe.ajaxSettings,e)},ajaxPrefilter:G(Jt),ajaxTransport:G(en),ajax:function(t,n){function r(t,n,r,o){var i,d,y,b,x,C=n;2!==w&&(w=2,l&&e.clearTimeout(l),u=undefined,s=o||"",S.readyState=t>0?4:0,i=t>=200&&t<300||304===t,r&&(b=V(f,S,r)),b=X(f,b,S,i),i?(f.ifModified&&((x=S.getResponseHeader("Last-Modified"))&&(pe.lastModified[a]=x),(x=S.getResponseHeader("etag"))&&(pe.etag[a]=x)),204===t||"HEAD"===f.type?C="nocontent":304===t?C="notmodified":(C=b.state,d=b.data,i=!(y=b.error))):(y=C,!t&&C||(C="error",t<0&&(t=0))),S.status=t,S.statusText=(n||C)+"",i?m.resolveWith(p,[d,C,S]):m.rejectWith(p,[S,C,y]),S.statusCode(v),v=undefined,c&&h.trigger(i?"ajaxSuccess":"ajaxError",[S,f,i?d:y]),g.fireWith(p,[S,C]),c&&(h.trigger("ajaxComplete",[S,f]),--pe.active||pe.event.trigger("ajaxStop")))}"object"==typeof t&&(n=t,t=undefined),n=n||{};var o,i,a,s,l,c,u,d,f=pe.ajaxSetup({},n),p=f.context||f,h=f.context&&(p.nodeType||p.jquery)?pe(p):pe.event,m=pe.Deferred(),g=pe.Callbacks("once memory"),v=f.statusCode||{},y={},b={},w=0,x="canceled",S={readyState:0,getResponseHeader:function(e){var t;if(2===w){if(!d)for(d={};t=Vt.exec(s);)d[t[1].toLowerCase()]=t[2];t=d[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===w?s:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return w||(e=b[n]=b[n]||e,y[e]=t),this},overrideMimeType:function(e){return w||(f.mimeType=e),this},statusCode:function(e){var t;if(e)if(w<2)for(t in e)v[t]=[v[t],e[t]];else S.always(e[S.status]);return this},abort:function(e){var t=e||x;return u&&u.abort(t),r(0,t),this}};if(m.promise(S).complete=g.add,S.success=S.done,S.error=S.fail,f.url=((t||f.url||nn)+"").replace($t,"").replace(Kt,rn[1]+"//"),f.type=n.method||n.type||f.method||f.type,f.dataTypes=pe.trim(f.dataType||"*").toLowerCase().match(_e)||[""],null==f.crossDomain&&(o=Zt.exec(f.url.toLowerCase()),f.crossDomain=!(!o||o[1]===rn[1]&&o[2]===rn[2]&&(o[3]||("http:"===o[1]?"80":"443"))===(rn[3]||("http:"===rn[1]?"80":"443")))),f.data&&f.processData&&"string"!=typeof f.data&&(f.data=pe.param(f.data,f.traditional)),$(Jt,f,n,S),2===w)return S;for(i in(c=pe.event&&f.global)&&0==pe.active++&&pe.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!Qt.test(f.type),a=f.url,f.hasContent||(f.data&&(a=f.url+=(Ut.test(a)?"&":"?")+f.data,delete f.data),!1===f.cache&&(f.url=Yt.test(a)?a.replace(Yt,"$1_="+qt++):a+(Ut.test(a)?"&":"?")+"_="+qt++)),f.ifModified&&(pe.lastModified[a]&&S.setRequestHeader("If-Modified-Since",pe.lastModified[a]),pe.etag[a]&&S.setRequestHeader("If-None-Match",pe.etag[a])),(f.data&&f.hasContent&&!1!==f.contentType||n.contentType)&&S.setRequestHeader("Content-Type",f.contentType),S.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+tn+"; q=0.01":""):f.accepts["*"]),f.headers)S.setRequestHeader(i,f.headers[i]);if(f.beforeSend&&(!1===f.beforeSend.call(p,S,f)||2===w))return S.abort();for(i in x="abort",{success:1,error:1,complete:1})S[i](f[i]);if(u=$(en,f,n,S)){if(S.readyState=1,c&&h.trigger("ajaxSend",[S,f]),2===w)return S;f.async&&f.timeout>0&&(l=e.setTimeout(function(){S.abort("timeout")},f.timeout));try{w=1,u.send(y,r)}catch(C){if(!(w<2))throw C;r(-1,C)}}else r(-1,"No Transport");return S},getJSON:function(e,t,n){return pe.get(e,t,n,"json")},getScript:function(e,t){return pe.get(e,undefined,t,"script")}}),pe.each(["get","post"],function(e,t){pe[t]=function(e,n,r,o){return pe.isFunction(n)&&(o=o||r,r=n,n=undefined),pe.ajax(pe.extend({url:e,type:t,dataType:o,data:n,success:r},pe.isPlainObject(e)&&e))}}),pe._evalUrl=function(e){return pe.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},pe.fn.extend({wrapAll:function(e){if(pe.isFunction(e))return this.each(function(t){pe(this).wrapAll(e.call(this,t))});if(this[0]){var t=pe(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return pe.isFunction(e)?this.each(function(t){pe(this).wrapInner(e.call(this,t))}):this.each(function(){var t=pe(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=pe.isFunction(e);return this.each(function(n){pe(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){pe.nodeName(this,"body")||pe(this).replaceWith(this.childNodes)}).end()}}),pe.expr.filters.hidden=function(e){return de.reliableHiddenOffsets()?e.offsetWidth<=0&&e.offsetHeight<=0&&!e.getClientRects().length:K(e)},pe.expr.filters.visible=function(e){return!pe.expr.filters.hidden(e)};var on=/%20/g,an=/\[\]$/,sn=/\r?\n/g,ln=/^(?:submit|button|image|reset|file)$/i,cn=/^(?:input|select|textarea|keygen)/i;pe.param=function(e,t){var n,r=[],o=function(e,t){t=pe.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(t===undefined&&(t=pe.ajaxSettings&&pe.ajaxSettings.traditional),pe.isArray(e)||e.jquery&&!pe.isPlainObject(e))pe.each(e,function(){o(this.name,this.value)});else for(n in e)Z(n,e[n],t,o);return r.join("&").replace(on,"+")},pe.fn.extend({serialize:function(){return pe.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=pe.prop(this,"elements");return e?pe.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!pe(this).is(":disabled")&&cn.test(this.nodeName)&&!ln.test(e)&&(this.checked||!qe.test(e))}).map(function(e,t){var n=pe(this).val();return null==n?null:pe.isArray(n)?pe.map(n,function(e){return{name:t.name,value:e.replace(sn,"\r\n")}}):{name:t.name,value:n.replace(sn,"\r\n")}}).get()}}),pe.ajaxSettings.xhr=e.ActiveXObject!==undefined?function(){return this.isLocal?ee():re.documentMode>8?J():/^(get|post|head|put|delete|options)$/i.test(this.type)&&J()||ee()}:J;var un=0,dn={},fn=pe.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in dn)dn[e](undefined,!0)}),de.cors=!!fn&&"withCredentials"in fn,(fn=de.ajax=!!fn)&&pe.ajaxTransport(function(t){var n;if(!t.crossDomain||de.cors)return{send:function(r,o){var i,a=t.xhr(),s=++un;if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(i in t.xhrFields)a[i]=t.xhrFields[i];for(i in t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)r[i]!==undefined&&a.setRequestHeader(i,r[i]+"");a.send(t.hasContent&&t.data||null),n=function(e,r){var i,l,c;if(n&&(r||4===a.readyState))if(delete dn[s],n=undefined,a.onreadystatechange=pe.noop,r)4!==a.readyState&&a.abort();else{c={},i=a.status,"string"==typeof a.responseText&&(c.text=a.responseText);try{l=a.statusText}catch(u){l=""}i||!t.isLocal||t.crossDomain?1223===i&&(i=204):i=c.text?200:404}c&&o(i,l,c,a.getAllResponseHeaders())},t.async?4===a.readyState?e.setTimeout(n):a.onreadystatechange=dn[s]=n:n()},abort:function(){n&&n(undefined,!0)}}}),pe.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return pe.globalEval(e),e}}}),pe.ajaxPrefilter("script",function(e){e.cache===undefined&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),pe.ajaxTransport("script",function(e){if(e.crossDomain){var t,n=re.head||pe("head")[0]||re.documentElement;return{send:function(r,o){(t=re.createElement("script")).async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,n){(n||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,n||o(200,"success"))},n.insertBefore(t,n.firstChild)},abort:function(){t&&t.onload(undefined,!0)}}}});var pn=[],hn=/(=)\?(?=&|$)|\?\?/;pe.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=pn.pop()||pe.expando+"_"+qt++;return this[e]=!0,e}}),pe.ajaxPrefilter("json jsonp",function(t,n,r){var o,i,a,s=!1!==t.jsonp&&(hn.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&hn.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return o=t.jsonpCallback=pe.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(hn,"$1"+o):!1!==t.jsonp&&(t.url+=(Ut.test(t.url)?"&":"?")+t.jsonp+"="+o),t.converters["script json"]=function(){return a||pe.error(o+" was not called"),a[0]},t.dataTypes[0]="json",i=e[o],e[o]=function(){a=arguments},r.always(function(){i===undefined?pe(e).removeProp(o):e[o]=i,t[o]&&(t.jsonpCallback=n.jsonpCallback,pn.push(o)),a&&pe.isFunction(i)&&i(a[0]),a=i=undefined}),"script"}),pe.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||re;var r=Se.exec(e),o=!n&&[];return r?[t.createElement(r[1])]:(r=v([e],t,o),o&&o.length&&pe(o).remove(),pe.merge([],r.childNodes))};var mn=pe.fn.load;pe.fn.load=function(e,t,n){if("string"!=typeof e&&mn)return mn.apply(this,arguments);var r,o,i,a=this,s=e.indexOf(" ");return s>-1&&(r=pe.trim(e.slice(s,e.length)),e=e.slice(0,s)),pe.isFunction(t)?(n=t,t=undefined):t&&"object"==typeof t&&(o="POST"),a.length>0&&pe.ajax({url:e,type:o||"GET",dataType:"html",data:t}).done(function(e){i=arguments,a.html(r?pe("<div>").append(pe.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,i||[e.responseText,t,e])})}),this},pe.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){pe.fn[t]=function(e){return this.on(t,e)}}),pe.expr.filters.animated=function(e){return pe.grep(pe.timers,function(t){return e===t.elem}).length},pe.offset={setOffset:function(e,t,n){var r,o,i,a,s,l,c=pe.css(e,"position"),u=pe(e),d={};"static"===c&&(e.style.position="relative"),s=u.offset(),i=pe.css(e,"top"),l=pe.css(e,"left"),("absolute"===c||"fixed"===c)&&pe.inArray("auto",[i,l])>-1?(a=(r=u.position()).top,o=r.left):(a=parseFloat(i)||0,o=parseFloat(l)||0),pe.isFunction(t)&&(t=t.call(e,n,pe.extend({},s))),null!=t.top&&(d.top=t.top-s.top+a),null!=t.left&&(d.left=t.left-s.left+o),"using"in t?t.using.call(e,d):u.css(d)}},pe.fn.extend({offset:function(e){if(arguments.length)return e===undefined?this:this.each(function(t){pe.offset.setOffset(this,e,t)});var t,n,r={top:0,left:0},o=this[0],i=o&&o.ownerDocument;return i?(t=i.documentElement,pe.contains(t,o)?("undefined"!=typeof o.getBoundingClientRect&&(r=o.getBoundingClientRect()),n=te(i),{top:r.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:r.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):r):void 0},position:function(){if(this[0]){var e,t,n={top:0,left:0},r=this[0];return"fixed"===pe.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),pe.nodeName(e[0],"html")||(n=e.offset()),n.top+=pe.css(e[0],"borderTopWidth",!0),n.left+=pe.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-pe.css(r,"marginTop",!0),left:t.left-n.left-pe.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&!pe.nodeName(e,"html")&&"static"===pe.css(e,"position");)e=e.offsetParent;return e||mt})}}),pe.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n=/Y/.test(t);pe.fn[e]=function(r){return ze(this,function(e,r,o){var i=te(e);if(o===undefined)return i?t in i?i[t]:i.document.documentElement[r]:e[r];i?i.scrollTo(n?pe(i).scrollLeft():o,n?o:pe(i).scrollTop()):e[r]=o},e,r,arguments.length,null)}}),pe.each(["top","left"],function(e,t){pe.cssHooks[t]=A(de.pixelPosition,function(e,n){if(n)return n=vt(e,t),pt.test(n)?pe(e).position()[t]+"px":n})}),pe.each({Height:"height",Width:"width"},function(e,t){pe.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){pe.fn[r]=function(r,o){var i=arguments.length&&(n||"boolean"!=typeof r),a=n||(!0===r||!0===o?"margin":"border");return ze(this,function(t,n,r){var o;return pe.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):r===undefined?pe.css(t,n,a):pe.style(t,n,r,a)},t,i?r:undefined,i,null)}})}),pe.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),pe.fn.size=function(){return this.length},pe.fn.andSelf=pe.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return pe});var gn=e.jQuery,vn=e.$;return pe.noConflict=function(t){return e.$===pe&&(e.$=vn),t&&e.jQuery===pe&&(e.jQuery=gn),pe},t||(e.jQuery=e.$=pe),pe}),function(e,t){"use strict";var n;e.rails!==t&&e.error("jquery-ujs has already been loaded!");var r=e(document);e.rails=n={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote]:not([disabled]), a[data-disable-with], a[data-disable]",buttonClickSelector:"button[data-remote]:not([form]):not(form button), button[data-confirm]:not([form]):not(form button)",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]), textarea[name][required]:not([disabled])",fileInputSelector:"input[name][type=file]:not([disabled])",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",csrfToken:function(){return e("meta[name=csrf-token]").attr("content")},csrfParam:function(){return e("meta[name=csrf-param]").attr("content")},CSRFProtection:function(e){var t=n.csrfToken();t&&e.setRequestHeader("X-CSRF-Token",t)},refreshCSRFTokens:function(){e('form input[name="'+n.csrfParam()+'"]').val(n.csrfToken())},fire:function(t,n,r){var o=e.Event(n);return t.trigger(o,r),!1!==o.result},confirm:function(e){return confirm(e)},ajax:function(t){return e.ajax(t)},href:function(e){return e[0].href},isRemote:function(e){return e.data("remote")!==t&&!1!==e.data("remote")},handleRemote:function(r){var o,i,a,s,l,c;if(n.fire(r,"ajax:before")){if(s=r.data("with-credentials")||null,l=r.data("type")||e.ajaxSettings&&e.ajaxSettings.dataType,r.is("form")){o=r.data("ujs:submit-button-formmethod")||r.attr("method"),i=r.data("ujs:submit-button-formaction")||r.attr("action"),a=e(r[0]).serializeArray();var u=r.data("ujs:submit-button");u&&(a.push(u),r.data("ujs:submit-button",null)),r.data("ujs:submit-button-formmethod",null),r.data("ujs:submit-button-formaction",null)}else r.is(n.inputChangeSelector)?(o=r.data("method"),i=r.data("url"),a=r.serialize(),r.data("params")&&(a=a+"&"+r.data("params"))):r.is(n.buttonClickSelector)?(o=r.data("method")||"get",i=r.data("url"),a=r.serialize(),r.data("params")&&(a=a+"&"+r.data("params"))):(o=r.data("method"),i=n.href(r),a=r.data("params")||null);return c={type:o||"GET",data:a,dataType:l,beforeSend:function(e,o){if(o.dataType===t&&e.setRequestHeader("accept","*/*;q=0.5, "+o.accepts.script),!n.fire(r,"ajax:beforeSend",[e,o]))return!1;r.trigger("ajax:send",e)},success:function(e,t,n){r.trigger("ajax:success",[e,t,n])},complete:function(e,t){r.trigger("ajax:complete",[e,t])},error:function(e,t,n){r.trigger("ajax:error",[e,t,n])},crossDomain:n.isCrossDomain(i)},s&&(c.xhrFields={withCredentials:s}),i&&(c.url=i),n.ajax(c)}return!1},isCrossDomain:function(e){var t=document.createElement("a");t.href=location.href;var n=document.createElement("a");try{return n.href=e,n.href=n.href,!((!n.protocol||":"===n.protocol)&&!n.host||t.protocol+"//"+t.host==n.protocol+"//"+n.host)}catch(r){return!0}},handleMethod:function(r){var o=n.href(r),i=r.data("method"),a=r.attr("target"),s=n.csrfToken(),l=n.csrfParam(),c=e('<form method="post" action="'+o+'"></form>'),u='<input name="_method" value="'+i+'" type="hidden" />';l===t||s===t||n.isCrossDomain(o)||(u+='<input name="'+l+'" value="'+s+'" type="hidden" />'),a&&c.attr("target",a),c.hide().append(u).appendTo("body"),c.submit()},formElements:function(t,n){return t.is("form")?e(t[0].elements).filter(n):t.find(n)},disableFormElements:function(t){n.formElements(t,n.disableSelector).each(function(){n.disableFormElement(e(this))})},disableFormElement:function(e){var n,r;n=e.is("button")?"html":"val",(r=e.data("disable-with"))!==t&&(e.data("ujs:enable-with",e[n]()),e[n](r)),e.prop("disabled",!0),e.data("ujs:disabled",!0)},enableFormElements:function(t){n.formElements(t,n.enableSelector).each(function(){n.enableFormElement(e(this))})},enableFormElement:function(e){var n=e.is("button")?"html":"val";e.data("ujs:enable-with")!==t&&(e[n](e.data("ujs:enable-with")),e.removeData("ujs:enable-with")),e.prop("disabled",!1),e.removeData("ujs:disabled")},allowAction:function(e){var t,r=e.data("confirm"),o=!1;if(!r)return!0;if(n.fire(e,"confirm")){try{o=n.confirm(r)}catch(i){(console.error||console.log).call(console,i.stack||i)}t=n.fire(e,"confirm:complete",[o])}return o&&t},blankInputs:function(t,n,r){var o,i,a,s=e(),l=n||"input,textarea",c=t.find(l),u={};return c.each(function(){(o=e(this)).is("input[type=radio]")?(a=o.attr("name"),u[a]||(0===t.find('input[type=radio]:checked[name="'+a+'"]').length&&(i=t.find('input[type=radio][name="'+a+'"]'),s=s.add(i)),u[a]=a)):(o.is("input[type=checkbox],input[type=radio]")?o.is(":checked"):!!o.val())===r&&(s=s.add(o))}),!!s.length&&s},nonBlankInputs:function(e,t){return n.blankInputs(e,t,!0)},stopEverything:function(t){return e(t.target).trigger("ujs:everythingStopped"),t.stopImmediatePropagation(),!1},disableElement:function(e){var r=e.data("disable-with");r!==t&&(e.data("ujs:enable-with",e.html()),e.html(r)),e.bind("click.railsDisable",function(e){return n.stopEverything(e)}),e.data("ujs:disabled",!0)},enableElement:function(e){e.data("ujs:enable-with")!==t&&(e.html(e.data("ujs:enable-with")),e.removeData("ujs:enable-with")),e.unbind("click.railsDisable"),e.removeData("ujs:disabled")}},n.fire(r,"rails:attachBindings")&&(e.ajaxPrefilter(function(e,t,r){e.crossDomain||n.CSRFProtection(r)}),e(window).on("pageshow.rails",function(){e(e.rails.enableSelector).each(function(){var t=e(this);t.data("ujs:disabled")&&e.rails.enableFormElement(t)}),e(e.rails.linkDisableSelector).each(function(){var t=e(this);t.data("ujs:disabled")&&e.rails.enableElement(t)})}),r.on("ajax:complete",n.linkDisableSelector,function(){n.enableElement(e(this))}),r.on("ajax:complete",n.buttonDisableSelector,function(){n.enableFormElement(e(this))}),r.on("click.rails",n.linkClickSelector,function(t){var r=e(this),o=r.data("method"),i=r.data("params"),a=t.metaKey||t.ctrlKey;if(!n.allowAction(r))return n.stopEverything(t);if(!a&&r.is(n.linkDisableSelector)&&n.disableElement(r),n.isRemote(r)){if(a&&(!o||"GET"===o)&&!i)return!0;var s=n.handleRemote(r);return!1===s?n.enableElement(r):s.fail(function(){n.enableElement(r)}),!1}return o?(n.handleMethod(r),!1):void 0}),r.on("click.rails",n.buttonClickSelector,function(t){var r=e(this);if(!n.allowAction(r)||!n.isRemote(r))return n.stopEverything(t);r.is(n.buttonDisableSelector)&&n.disableFormElement(r);var o=n.handleRemote(r);return!1===o?n.enableFormElement(r):o.fail(function(){n.enableFormElement(r)}),!1}),r.on("change.rails",n.inputChangeSelector,function(t){var r=e(this);return n.allowAction(r)&&n.isRemote(r)?(n.handleRemote(r),!1):n.stopEverything(t)}),r.on("submit.rails",n.formSubmitSelector,function(r){var o,i,a=e(this),s=n.isRemote(a);if(!n.allowAction(a))return n.stopEverything(r);if(a.attr("novalidate")===t)if(a.data("ujs:formnovalidate-button")===t){if((o=n.blankInputs(a,n.requiredInputSelector,!1))&&n.fire(a,"ajax:aborted:required",[o]))return n.stopEverything(r)}else a.data("ujs:formnovalidate-button",t);if(s){if(i=n.nonBlankInputs(a,n.fileInputSelector)){setTimeout(function(){n.disableFormElements(a)},13);var l=n.fire(a,"ajax:aborted:file",[i]);return l||setTimeout(function(){n.enableFormElements(a)},13),l}return n.handleRemote(a),!1}setTimeout(function(){n.disableFormElements(a)},13)}),r.on("click.rails",n.formInputClickSelector,function(t){var r=e(this);if(!n.allowAction(r))return n.stopEverything(t);var o=r.attr("name"),i=o?{name:o,value:r.val()}:null,a=r.closest("form");0===a.length&&(a=e("#"+r.attr("form"))),a.data("ujs:submit-button",i),a.data("ujs:formnovalidate-button",r.attr("formnovalidate")),a.data("ujs:submit-button-formaction",r.attr("formaction")),a.data("ujs:submit-button-formmethod",r.attr("formmethod"))}),r.on("ajax:send.rails",n.formSubmitSelector,function(t){this===t.target&&n.disableFormElements(e(this))}),r.on("ajax:complete.rails",n.formSubmitSelector,function(t){this===t.target&&n.enableFormElements(e(this))}),e(function(){n.refreshCSRFTokens()}))}(jQuery);
/*
 * Color Thief v2.0
 * by Lokesh Dhakar - http://www.lokeshdhakar.com
 *
 * Thanks
 * ------
 * Nick Rabinowitz - For creating quantize.js.
 * John Schulz - For clean up and optimization. @JFSIII
 * Nathan Spady - For adding drag and drop support to the demo page.
 *
 * License
 * -------
 * Copyright 2011, 2015 Lokesh Dhakar
 * Released under the MIT license
 * https://raw.githubusercontent.com/lokesh/color-thief/master/LICENSE
 *
 * @license
 */
var CanvasImage=function(e){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),document.body.appendChild(this.canvas),this.width=this.canvas.width=e.width,this.height=this.canvas.height=e.height,this.context.drawImage(e,0,0,this.width,this.height)};CanvasImage.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)},CanvasImage.prototype.update=function(e){this.context.putImageData(e,0,0)},CanvasImage.prototype.getPixelCount=function(){return this.width*this.height},CanvasImage.prototype.getImageData=function(){return this.context.getImageData(0,0,this.width,this.height)},CanvasImage.prototype.removeCanvas=function(){this.canvas.parentNode.removeChild(this.canvas)};var ColorThief=function(){};
/*!
 * quantize.js Copyright 2008 Nick Rabinowitz.
 * Licensed under the MIT license: http://www.opensource.org/licenses/mit-license.php
 * @license
 */
/*!
 * Block below copied from Protovis: http://mbostock.github.com/protovis/
 * Copyright 2010 Stanford Visualization Group
 * Licensed under the BSD License: http://www.opensource.org/licenses/bsd-license.php
 * @license
 */
if(ColorThief.prototype.getColor=function(e,t){return this.getPalette(e,5,t)[0]},ColorThief.prototype.getPalette=function(e,t,n){(void 0===t||t<2||t>256)&&(t=10),(void 0===n||n<1)&&(n=10);for(var r,o,i,a,s=new CanvasImage(e),l=s.getImageData().data,c=s.getPixelCount(),u=[],d=0;d<c;d+=n)o=l[(r=4*d)+0],i=l[r+1],a=l[r+2],l[r+3]>=125&&(o>250&&i>250&&a>250||u.push([o,i,a]));var f=MMCQ.quantize(u,t),p=f?f.palette():null;return s.removeCanvas(),p},ColorThief.prototype.getColorFromUrl=function(e,t,n){sourceImage=document.createElement("img");var r=this;sourceImage.addEventListener("load",function(){var o=r.getPalette(sourceImage,5,n)[0];t(o,e)}),sourceImage.src=e},ColorThief.prototype.getImageData=function(e,t){xhr=new XMLHttpRequest,xhr.open("GET",e,!0),xhr.responseType="arraybuffer",xhr.onload=function(){if(200==this.status){uInt8Array=new Uint8Array(this.response),e=uInt8Array.length,binaryString=new Array(e);for(var e=0;e<uInt8Array.length;e++)binaryString[e]=String.fromCharCode(uInt8Array[e]);data=binaryString.join(""),base64=window.btoa(data),t("data:image/png;base64,"+base64)}},xhr.send()},ColorThief.prototype.getColorAsync=function(e,t,n){var r=this;this.getImageData(e,function(e){sourceImage=document.createElement("img"),sourceImage.addEventListener("load",function(){var e=r.getPalette(sourceImage,5,n)[0];t(e,this)}),sourceImage.src=e})},!pv)var pv={map:function(e,t){var n={};return t?e.map(function(e,r){return n.index=r,t.call(n,e)}):e.slice()},naturalOrder:function(e,t){return e<t?-1:e>t?1:0},sum:function(e,t){var n={};return e.reduce(t?function(e,r,o){return n.index=o,e+t.call(n,r)}:function(e,t){return e+t},0)},max:function(e,t){return Math.max.apply(null,t?pv.map(e,t):e)}};var MMCQ=function(){function e(e,t,n){return(e<<2*l)+(t<<l)+n}function t(e){function t(){n.sort(e),r=!0}var n=[],r=!1;return{push:function(e){n.push(e),r=!1},peek:function(e){return r||t(),e===undefined&&(e=n.length-1),n[e]},pop:function(){return r||t(),n.pop()},size:function(){return n.length},map:function(e){return n.map(e)},debug:function(){return r||t(),n}}}function n(e,t,n,r,o,i,a){var s=this;s.r1=e,s.r2=t,s.g1=n,s.g2=r,s.b1=o,s.b2=i,s.histo=a}function r(){this.vboxes=new t(function(e,t){return pv.naturalOrder(e.vbox.count()*e.vbox.volume(),t.vbox.count()*t.vbox.volume())})}function o(t){var n,r,o,i,a=new Array(1<<3*l);return t.forEach(function(t){r=t[0]>>c,o=t[1]>>c,i=t[2]>>c,n=e(r,o,i),a[n]=(a[n]||0)+1}),a}function i(e,t){var r,o,i,a=1e6,s=0,l=1e6,u=0,d=1e6,f=0;return e.forEach(function(e){r=e[0]>>c,o=e[1]>>c,i=e[2]>>c,r<a?a=r:r>s&&(s=r),o<l?l=o:o>u&&(u=o),i<d?d=i:i>f&&(f=i)}),new n(a,s,l,u,d,f,t)}function a(t,n){function r(e){var t,r,o,i,a,s=e+"1",c=e+"2",u=0;for(l=n[s];l<=n[c];l++)if(p[l]>f/2){for(o=n.copy(),i=n.copy(),a=(t=l-n[s])<=(r=n[c]-l)?Math.min(n[c]-1,~~(l+r/2)):Math.max(n[s],~~(l-1-t/2));!p[a];)a++;for(u=h[a];!u&&p[a-1];)u=h[--a];return o[c]=a,i[s]=o[c]+1,[o,i]}}if(n.count()){var o=n.r2-n.r1+1,i=n.g2-n.g1+1,a=n.b2-n.b1+1,s=pv.max([o,i,a]);if(1==n.count())return[n.copy()];var l,c,u,d,f=0,p=[],h=[];if(s==o)for(l=n.r1;l<=n.r2;l++){for(d=0,c=n.g1;c<=n.g2;c++)for(u=n.b1;u<=n.b2;u++)d+=t[e(l,c,u)]||0;f+=d,p[l]=f}else if(s==i)for(l=n.g1;l<=n.g2;l++){for(d=0,c=n.r1;c<=n.r2;c++)for(u=n.b1;u<=n.b2;u++)d+=t[e(c,l,u)]||0;f+=d,p[l]=f}else for(l=n.b1;l<=n.b2;l++){for(d=0,c=n.r1;c<=n.r2;c++)for(u=n.g1;u<=n.g2;u++)d+=t[e(c,u,l)]||0;f+=d,p[l]=f}return p.forEach(function(e,t){h[t]=f-e}),r(s==o?"r":s==i?"g":"b")}}function s(e,n){function s(e,t){for(var n,r=1,o=0;o<u;)if((n=e.pop()).count()){var i=a(l,n),s=i[0],c=i[1];if(!s)return;if(e.push(s),c&&(e.push(c),r++),r>=t)return;if(o++>u)return}else e.push(n),o++}if(!e.length||n<2||n>256)return!1;var l=o(e);l.forEach(function(){0});var c=i(e,l),f=new t(function(e,t){return pv.naturalOrder(e.count(),t.count())});f.push(c),s(f,d*n);for(var p=new t(function(e,t){return pv.naturalOrder(e.count()*e.volume(),t.count()*t.volume())});f.size();)p.push(f.pop());s(p,n-p.size());for(var h=new r;p.size();)h.push(p.pop());return h}var l=5,c=8-l,u=1e3,d=.75;return n.prototype={volume:function(e){var t=this;return t._volume&&!e||(t._volume=(t.r2-t.r1+1)*(t.g2-t.g1+1)*(t.b2-t.b1+1)),t._volume},count:function(t){var n=this,r=n.histo;if(!n._count_set||t){var o,i,a,s=0;for(o=n.r1;o<=n.r2;o++)for(i=n.g1;i<=n.g2;i++)for(a=n.b1;a<=n.b2;a++)s+=r[e(o,i,a)]||0;n._count=s,n._count_set=!0}return n._count},copy:function(){var e=this;return new n(e.r1,e.r2,e.g1,e.g2,e.b1,e.b2,e.histo)},avg:function(t){var n=this,r=n.histo;if(!n._avg||t){var o,i,a,s,c=0,u=1<<8-l,d=0,f=0,p=0;for(i=n.r1;i<=n.r2;i++)for(a=n.g1;a<=n.g2;a++)for(s=n.b1;s<=n.b2;s++)c+=o=r[e(i,a,s)]||0,d+=o*(i+.5)*u,f+=o*(a+.5)*u,p+=o*(s+.5)*u;n._avg=c?[~~(d/c),~~(f/c),~~(p/c)]:[~~(u*(n.r1+n.r2+1)/2),~~(u*(n.g1+n.g2+1)/2),~~(u*(n.b1+n.b2+1)/2)]}return n._avg},contains:function(e){var t=this,n=e[0]>>c;return gval=e[1]>>c,bval=e[2]>>c,n>=t.r1&&n<=t.r2&&gval>=t.g1&&gval<=t.g2&&bval>=t.b1&&bval<=t.b2}},r.prototype={push:function(e){this.vboxes.push({vbox:e,color:e.avg()})},palette:function(){return this.vboxes.map(function(e){return e.color})},size:function(){return this.vboxes.size()},map:function(e){for(var t=this.vboxes,n=0;n<t.size();n++)if(t.peek(n).vbox.contains(e))return t.peek(n).color;return this.nearest(e)},nearest:function(e){for(var t,n,r,o=this.vboxes,i=0;i<o.size();i++)((n=Math.sqrt(Math.pow(e[0]-o.peek(i).color[0],2)+Math.pow(e[1]-o.peek(i).color[1],2)+Math.pow(e[2]-o.peek(i).color[2],2)))<t||t===undefined)&&(t=n,r=o.peek(i).color);return r},forcebw:function(){var e=this.vboxes;e.sort(function(e,t){return pv.naturalOrder(pv.sum(e.color),pv.sum(t.color))});var t=e[0].color;t[0]<5&&t[1]<5&&t[2]<5&&(e[0].color=[0,0,0]);var n=e.length-1,r=e[n].color;r[0]>251&&r[1]>251&&r[2]>251&&(e[n].color=[255,255,255])}},{quantize:s}}();
/*
Turbolinks 5.1.0
Copyright © 2018 Basecamp, LLC
 */
/*
Turbolinks 5.1.0
Copyright © 2018 Basecamp, LLC
 */
(function(){this.Turbolinks={supported:null!=window.history.pushState&&null!=window.requestAnimationFrame&&null!=window.addEventListener,visit:function(e,t){return Turbolinks.controller.visit(e,t)},clearCache:function(){return Turbolinks.controller.clearCache()},setProgressBarDelay:function(e){return Turbolinks.controller.setProgressBarDelay(e)}}}).call(this),function(){var e,t,n,r=[].slice;Turbolinks.copyObject=function(e){var t,n,r;for(t in n={},e)r=e[t],n[t]=r;return n},Turbolinks.closest=function(t,n){return e.call(t,n)},e=function(){var e;return null!=(e=document.documentElement.closest)?e:function(e){var n;for(n=this;n;){if(n.nodeType===Node.ELEMENT_NODE&&t.call(n,e))return n;n=n.parentNode}}}(),Turbolinks.defer=function(e){return setTimeout(e,1)},Turbolinks.throttle=function(e){var t;return t=null,function(){var n;return n=1<=arguments.length?r.call(arguments,0):[],null!=t?t:t=requestAnimationFrame(function(r){return function(){return t=null,e.apply(r,n)}}(this))}},Turbolinks.dispatch=function(e,t){var r,o,i,a,s,l;return l=(s=null!=t?t:{}).target,r=s.cancelable,o=s.data,(i=document.createEvent("Events")).initEvent(e,!0,!0===r),i.data=null!=o?o:{},i.cancelable&&!n&&(a=i.preventDefault,i.preventDefault=function(){return this.defaultPrevented||Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}}),a.call(this)}),(null!=l?l:document).dispatchEvent(i),i},n=function(){var e;return(e=document.createEvent("Events")).initEvent("test",!0,!0),e.preventDefault(),e.defaultPrevented}(),Turbolinks.match=function(e,n){return t.call(e,n)},t=function(){var e,t,n,r;return null!=(t=null!=(n=null!=(r=(e=document.documentElement).matchesSelector)?r:e.webkitMatchesSelector)?n:e.msMatchesSelector)?t:e.mozMatchesSelector}(),Turbolinks.uuid=function(){var e,t,n;for(n="",e=t=1;36>=t;e=++t)n+=9===e||14===e||19===e||24===e?"-":15===e?"4":20===e?(Math.floor(4*Math.random())+8).toString(16):Math.floor(15*Math.random()).toString(16);return n}}.call(this),function(){Turbolinks.Location=function(){function e(e){var t,n;null==e&&(e=""),(n=document.createElement("a")).href=e.toString(),this.absoluteURL=n.href,2>(t=n.hash.length)?this.requestURL=this.absoluteURL:(this.requestURL=this.absoluteURL.slice(0,-t),this.anchor=n.hash.slice(1))}var t,n,r,o;return e.wrap=function(e){return e instanceof this?e:new this(e)},e.prototype.getOrigin=function(){return this.absoluteURL.split("/",3).join("/")},e.prototype.getPath=function(){var e,t;return null!=(e=null!=(t=this.requestURL.match(/\/\/[^\/]*(\/[^?;]*)/))?t[1]:void 0)?e:"/"},e.prototype.getPathComponents=function(){return this.getPath().split("/").slice(1)},e.prototype.getLastPathComponent=function(){return this.getPathComponents().slice(-1)[0]},e.prototype.getExtension=function(){var e,t;return null!=(e=null!=(t=this.getLastPathComponent().match(/\.[^.]*$/))?t[0]:void 0)?e:""},e.prototype.isHTML=function(){return this.getExtension().match(/^(?:|\.(?:htm|html|xhtml))$/)},e.prototype.isPrefixedBy=function(e){var t;return t=n(e),this.isEqualTo(e)||o(this.absoluteURL,t)},e.prototype.isEqualTo=function(e){return this.absoluteURL===(null!=e?e.absoluteURL:void 0)},e.prototype.toCacheKey=function(){return this.requestURL},e.prototype.toJSON=function(){return this.absoluteURL},e.prototype.toString=function(){return this.absoluteURL},e.prototype.valueOf=function(){return this.absoluteURL},n=function(e){return t(e.getOrigin()+e.getPath())},t=function(e){return r(e,"/")?e:e+"/"},o=function(e,t){return e.slice(0,t.length)===t},r=function(e,t){return e.slice(-t.length)===t},e}()}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};Turbolinks.HttpRequest=function(){function t(t,n,r){this.delegate=t,this.requestCanceled=e(this.requestCanceled,this),this.requestTimedOut=e(this.requestTimedOut,this),this.requestFailed=e(this.requestFailed,this),this.requestLoaded=e(this.requestLoaded,this),this.requestProgressed=e(this.requestProgressed,this),this.url=Turbolinks.Location.wrap(n).requestURL,this.referrer=Turbolinks.Location.wrap(r).absoluteURL,this.createXHR()}return t.NETWORK_FAILURE=0,t.TIMEOUT_FAILURE=-1,t.timeout=60,t.prototype.send=function(){var e;return this.xhr&&!this.sent?(this.notifyApplicationBeforeRequestStart(),this.setProgress(0),this.xhr.send(),this.sent=!0,"function"==typeof(e=this.delegate).requestStarted?e.requestStarted():void 0):void 0},t.prototype.cancel=function(){return this.xhr&&this.sent?this.xhr.abort():void 0},t.prototype.requestProgressed=function(e){return e.lengthComputable?this.setProgress(e.loaded/e.total):void 0},t.prototype.requestLoaded=function(){return this.endRequest((e=this,function(){var t;return 200<=(t=e.xhr.status)&&300>t?e.delegate.requestCompletedWithResponse(e.xhr.responseText,e.xhr.getResponseHeader("Turbolinks-Location")):(e.failed=!0,e.delegate.requestFailedWithStatusCode(e.xhr.status,e.xhr.responseText))}));var e},t.prototype.requestFailed=function(){return this.endRequest((e=this,function(){return e.failed=!0,e.delegate.requestFailedWithStatusCode(e.constructor.NETWORK_FAILURE)}));var e},t.prototype.requestTimedOut=function(){return this.endRequest((e=this,function(){return e.failed=!0,e.delegate.requestFailedWithStatusCode(e.constructor.TIMEOUT_FAILURE)}));var e},t.prototype.requestCanceled=function(){return this.endRequest()},t.prototype.notifyApplicationBeforeRequestStart=function(){return Turbolinks.dispatch("turbolinks:request-start",{data:{url:this.url,xhr:this.xhr}})},t.prototype.notifyApplicationAfterRequestEnd=function(){return Turbolinks.dispatch("turbolinks:request-end",{data:{url:this.url,xhr:this.xhr}})},t.prototype.createXHR=function(){return this.xhr=new XMLHttpRequest,this.xhr.open("GET",this.url,!0),this.xhr.timeout=1e3*this.constructor.timeout,this.xhr.setRequestHeader("Accept","text/html, application/xhtml+xml"),this.xhr.setRequestHeader("Turbolinks-Referrer",this.referrer),this.xhr.onprogress=this.requestProgressed,this.xhr.onload=this.requestLoaded,this.xhr.onerror=this.requestFailed,this.xhr.ontimeout=this.requestTimedOut,this.xhr.onabort=this.requestCanceled},t.prototype.endRequest=function(e){return this.xhr?(this.notifyApplicationAfterRequestEnd(),null!=e&&e.call(this),this.destroy()):void 0},t.prototype.setProgress=function(e){var t;return this.progress=e,"function"==typeof(t=this.delegate).requestProgressed?t.requestProgressed(this.progress):void 0},t.prototype.destroy=function(){var e;return this.setProgress(1),"function"==typeof(e=this.delegate).requestFinished&&e.requestFinished(),this.delegate=null,this.xhr=null},t}()}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};Turbolinks.ProgressBar=function(){function t(){this.trickle=e(this.trickle,this),this.stylesheetElement=this.createStylesheetElement(),this.progressElement=this.createProgressElement()}var n;return n=300,t.defaultCSS=".turbolinks-progress-bar {\n  position: fixed;\n  display: block;\n  top: 0;\n  left: 0;\n  height: 3px;\n  background: #0076ff;\n  z-index: 9999;\n  transition: width "+n+"ms ease-out, opacity "+n/2+"ms "+n/2+"ms ease-in;\n  transform: translate3d(0, 0, 0);\n}",t.prototype.show=function(){return this.visible?void 0:(this.visible=!0,this.installStylesheetElement(),this.installProgressElement(),this.startTrickling())},t.prototype.hide=function(){return this.visible&&!this.hiding?(this.hiding=!0,this.fadeProgressElement((e=this,function(){return e.uninstallProgressElement(),e.stopTrickling(),e.visible=!1,e.hiding=!1}))):void 0;var e},t.prototype.setValue=function(e){return this.value=e,this.refresh()},t.prototype.installStylesheetElement=function(){return document.head.insertBefore(this.stylesheetElement,document.head.firstChild)},t.prototype.installProgressElement=function(){return this.progressElement.style.width=0,this.progressElement.style.opacity=1,document.documentElement.insertBefore(this.progressElement,document.body),this.refresh()},t.prototype.fadeProgressElement=function(e){return this.progressElement.style.opacity=0,setTimeout(e,1.5*n)},t.prototype.uninstallProgressElement=function(){return this.progressElement.parentNode?document.documentElement.removeChild(this.progressElement):void 0},t.prototype.startTrickling=function(){return null!=this.trickleInterval?this.trickleInterval:this.trickleInterval=setInterval(this.trickle,n)},t.prototype.stopTrickling=function(){return clearInterval(this.trickleInterval),this.trickleInterval=null},t.prototype.trickle=function(){return this.setValue(this.value+Math.random()/100)},t.prototype.refresh=function(){return requestAnimationFrame((e=this,function(){return e.progressElement.style.width=10+90*e.value+"%"}));var e},t.prototype.createStylesheetElement=function(){var e;return(e=document.createElement("style")).type="text/css",e.textContent=this.constructor.defaultCSS,e},t.prototype.createProgressElement=function(){var e;return(e=document.createElement("div")).className="turbolinks-progress-bar",e},t}()}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};Turbolinks.BrowserAdapter=function(){function t(t){this.controller=t,this.showProgressBar=e(this.showProgressBar,this),this.progressBar=new Turbolinks.ProgressBar}var n,r,o;return o=Turbolinks.HttpRequest,n=o.NETWORK_FAILURE,r=o.TIMEOUT_FAILURE,t.prototype.visitProposedToLocationWithAction=function(e,t){return this.controller.startVisitToLocationWithAction(e,t)},t.prototype.visitStarted=function(e){return e.issueRequest(),e.changeHistory(),e.loadCachedSnapshot()},t.prototype.visitRequestStarted=function(e){return this.progressBar.setValue(0),e.hasCachedSnapshot()||"restore"!==e.action?this.showProgressBarAfterDelay():this.showProgressBar()},t.prototype.visitRequestProgressed=function(e){return this.progressBar.setValue(e.progress)},t.prototype.visitRequestCompleted=function(e){return e.loadResponse()},t.prototype.visitRequestFailedWithStatusCode=function(e,t){switch(t){case n:case r:return this.reload();default:return e.loadResponse()}},t.prototype.visitRequestFinished=function(){return this.hideProgressBar()},t.prototype.visitCompleted=function(e){return e.followRedirect()},t.prototype.pageInvalidated=function(){return this.reload()},t.prototype.showProgressBarAfterDelay=function(){return this.progressBarTimeout=setTimeout(this.showProgressBar,this.controller.progressBarDelay)},t.prototype.showProgressBar=function(){return this.progressBar.show()},t.prototype.hideProgressBar=function(){return this.progressBar.hide(),clearTimeout(this.progressBarTimeout)},t.prototype.reload=function(){return window.location.reload()},t}()}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};Turbolinks.History=function(){function t(t){this.delegate=t,this.onPageLoad=e(this.onPageLoad,this),this.onPopState=e(this.onPopState,this)}return t.prototype.start=function(){return this.started?void 0:(addEventListener("popstate",this.onPopState,!1),addEventListener("load",this.onPageLoad,!1),this.started=!0)},t.prototype.stop=function(){return this.started?(removeEventListener("popstate",this.onPopState,!1),removeEventListener("load",this.onPageLoad,!1),this.started=!1):void 0},t.prototype.push=function(e,t){return e=Turbolinks.Location.wrap(e),this.update("push",e,t)},t.prototype.replace=function(e,t){return e=Turbolinks.Location.wrap(e),this.update("replace",e,t)},t.prototype.onPopState=function(e){var t,n,r,o;return this.shouldHandlePopState()&&(o=null!=(n=e.state)?n.turbolinks:void 0)?(t=Turbolinks.Location.wrap(window.location),r=o.restorationIdentifier,this.delegate.historyPoppedToLocationWithRestorationIdentifier(t,r)):void 0},t.prototype.onPageLoad=function(){return Turbolinks.defer(function(e){return function(){return e.pageLoaded=!0}}(this))},t.prototype.shouldHandlePopState=function(){return this.pageIsLoaded()},t.prototype.pageIsLoaded=function(){return this.pageLoaded||"complete"===document.readyState},t.prototype.update=function(e,t,n){var r;return r={turbolinks:{restorationIdentifier:n}},history[e+"State"](r,null,t)},t}()}.call(this),function(){Turbolinks.Snapshot=function(){function e(e){var t,n;n=e.head,t=e.body,this.head=null!=n?n:document.createElement("head"),this.body=null!=t?t:document.createElement("body")}return e.wrap=function(e){return e instanceof this?e:this.fromHTML(e)},e.fromHTML=function(e){var t;return(t=document.createElement("html")).innerHTML=e,this.fromElement(t)},e.fromElement=function(e){return new this({head:e.querySelector("head"),body:e.querySelector("body")})},e.prototype.clone=function(){return new e({head:this.head.cloneNode(!0),body:this.body.cloneNode(!0)})},e.prototype.getRootLocation=function(){var e,t;return t=null!=(e=this.getSetting("root"))?e:"/",new Turbolinks.Location(t)},e.prototype.getCacheControlValue=function(){return this.getSetting("cache-control")},e.prototype.getElementForAnchor=function(e){try{return this.body.querySelector("[id='"+e+"'], a[name='"+e+"']")}catch(t){}},e.prototype.hasAnchor=function(e){return null!=this.getElementForAnchor(e)},e.prototype.isPreviewable=function(){return"no-preview"!==this.getCacheControlValue()},e.prototype.isCacheable=function(){return"no-cache"!==this.getCacheControlValue()},e.prototype.isVisitable=function(){return"reload"!==this.getSetting("visit-control")},e.prototype.getSetting=function(e){var t,n;return null!=(t=(n=this.head.querySelectorAll("meta[name='turbolinks-"+e+"']"))[n.length-1])?t.getAttribute("content"):void 0},e}()}.call(this),function(){var e=[].slice;Turbolinks.Renderer=function(){function t(){}var n;return t.render=function(){var t,n,r;return n=arguments[0],t=arguments[1],(r=function(e,t,n){n.prototype=e.prototype;var r=new n,o=e.apply(r,t);return Object(o)===o?o:r}(this,3<=arguments.length?e.call(arguments,2):[],function(){})).delegate=n,r.render(t),r},t.prototype.renderView=function(e){return this.delegate.viewWillRender(this.newBody),e(),this.delegate.viewRendered(this.newBody)},t.prototype.invalidateView=function(){return this.delegate.viewInvalidated()},t.prototype.createScriptElement=function(e){var t;return"false"===e.getAttribute("data-turbolinks-eval")?e:((t=document.createElement("script")).textContent=e.textContent,t.async=!1,n(t,e),t)},n=function(e,t){var n,r,o,i,a,s,l;for(s=[],n=0,r=(i=t.attributes).length;r>n;n++)o=(a=i[n]).name,l=a.value,s.push(e.setAttribute(o,l));return s},t}()}.call(this),function(){Turbolinks.HeadDetails=function(){function e(e){var t,n,i,a,s,l;for(this.element=e,this.elements={},i=0,s=(l=this.element.childNodes).length;s>i;i++)(n=l[i]).nodeType===Node.ELEMENT_NODE&&(a=n.outerHTML,(null!=(t=this.elements)[a]?t[a]:t[a]={type:o(n),tracked:r(n),elements:[]}).elements.push(n))}var t,n,r,o;return e.prototype.hasElementWithKey=function(e){return e in this.elements},e.prototype.getTrackedElementSignature=function(){var e;return function(){var t,n;for(e in n=[],t=this.elements)t[e].tracked&&n.push(e);return n}.call(this).join("")},e.prototype.getScriptElementsNotInDetails=function(e){return this.getElementsMatchingTypeNotInDetails("script",e)},e.prototype.getStylesheetElementsNotInDetails=function(e){return this.getElementsMatchingTypeNotInDetails("stylesheet",e)},e.prototype.getElementsMatchingTypeNotInDetails=function(e,t){var n,r,o,i,a,s;for(r in a=[],o=this.elements)s=(i=o[r]).type,n=i.elements,s!==e||t.hasElementWithKey(r)||a.push(n[0]);return a},e.prototype.getProvisionalElements=function(){var e,t,n,r,o,i,a;for(t in n=[],r=this.elements)a=(o=r[t]).type,i=o.tracked,e=o.elements,null!=a||i?e.length>1&&n.push.apply(n,e.slice(1)):n.push.apply(n,e);return n},o=function(e){return t(e)?"script":n(e)?"stylesheet":void 0},r=function(e){return"reload"===e.getAttribute("data-turbolinks-track")},t=function(e){return"script"===e.tagName.toLowerCase()},n=function(e){var t;return"style"===(t=e.tagName.toLowerCase())||"link"===t&&"stylesheet"===e.getAttribute("rel")},e}()}.call(this),function(){var e=function(e,n){function r(){this.constructor=e}for(var o in n)t.call(n,o)&&(e[o]=n[o]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e},t={}.hasOwnProperty;Turbolinks.SnapshotRenderer=function(t){function n(e,t,n){this.currentSnapshot=e,this.newSnapshot=t,this.isPreview=n,this.currentHeadDetails=new Turbolinks.HeadDetails(this.currentSnapshot.head),this.newHeadDetails=new Turbolinks.HeadDetails(this.newSnapshot.head),this.newBody=this.newSnapshot.body}return e(n,t),n.prototype.render=function(e){return this.shouldRender()?(this.mergeHead(),this.renderView((t=this,function(){return t.replaceBody(),t.isPreview||t.focusFirstAutofocusableElement(),e()}))):this.invalidateView();var t},n.prototype.mergeHead=function(){return this.copyNewHeadStylesheetElements(),this.copyNewHeadScriptElements(),this.removeCurrentHeadProvisionalElements(),this.copyNewHeadProvisionalElements()},n.prototype.replaceBody=function(){return this.activateBodyScriptElements(),this.importBodyPermanentElements(),this.assignNewBody()},n.prototype.shouldRender=function(){return this.newSnapshot.isVisitable()&&this.trackedElementsAreIdentical()},n.prototype.trackedElementsAreIdentical=function(){return this.currentHeadDetails.getTrackedElementSignature()===this.newHeadDetails.getTrackedElementSignature()},n.prototype.copyNewHeadStylesheetElements=function(){var e,t,n,r,o;for(o=[],t=0,n=(r=this.getNewHeadStylesheetElements()).length;n>t;t++)e=r[t],o.push(document.head.appendChild(e));return o},n.prototype.copyNewHeadScriptElements=function(){var e,t,n,r,o;for(o=[],t=0,n=(r=this.getNewHeadScriptElements()).length;n>t;t++)e=r[t],o.push(document.head.appendChild(this.createScriptElement(e)));return o},n.prototype.removeCurrentHeadProvisionalElements=function(){var e,t,n,r,o;for(o=[],t=0,n=(r=this.getCurrentHeadProvisionalElements()).length;n>t;t++)e=r[t],o.push(document.head.removeChild(e));return o},n.prototype.copyNewHeadProvisionalElements=function(){var e,t,n,r,o;for(o=[],t=0,n=(r=this.getNewHeadProvisionalElements()).length;n>t;t++)e=r[t],o.push(document.head.appendChild(e));return o},n.prototype.importBodyPermanentElements=function(){var e,t,n,r,o,i;for(i=[],t=0,n=(r=this.getNewBodyPermanentElements()).length;n>t;t++)o=r[t],(e=this.findCurrentBodyPermanentElement(o))?i.push(o.parentNode.replaceChild(e,o)):i.push(void 0);return i},n.prototype.activateBodyScriptElements=function(){var e,t,n,r,o,i;for(i=[],t=0,n=(r=this.getNewBodyScriptElements()).length;n>t;t++)o=r[t],e=this.createScriptElement(o),i.push(o.parentNode.replaceChild(e,o));return i},n.prototype.assignNewBody=function(){return document.body=this.newBody},n.prototype.focusFirstAutofocusableElement=function(){var e;return null!=(e=this.findFirstAutofocusableElement())?e.focus():void 0},n.prototype.getNewHeadStylesheetElements=function(){return this.newHeadDetails.getStylesheetElementsNotInDetails(this.currentHeadDetails)},n.prototype.getNewHeadScriptElements=function(){return this.newHeadDetails.getScriptElementsNotInDetails(this.currentHeadDetails)},n.prototype.getCurrentHeadProvisionalElements=function(){return this.currentHeadDetails.getProvisionalElements()},n.prototype.getNewHeadProvisionalElements=function(){return this.newHeadDetails.getProvisionalElements()},n.prototype.getNewBodyPermanentElements=function(){return this.newBody.querySelectorAll("[id][data-turbolinks-permanent]")},n.prototype.findCurrentBodyPermanentElement=function(e){return document.body.querySelector("#"+e.id+"[data-turbolinks-permanent]")},n.prototype.getNewBodyScriptElements=function(){return this.newBody.querySelectorAll("script")},n.prototype.findFirstAutofocusableElement=function(){return document.body.querySelector("[autofocus]")},n}(Turbolinks.Renderer)}.call(this),function(){var e=function(e,n){function r(){this.constructor=e}for(var o in n)t.call(n,o)&&(e[o]=n[o]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e},t={}.hasOwnProperty;Turbolinks.ErrorRenderer=function(t){function n(e){this.html=e}return e(n,t),n.prototype.render=function(e){return this.renderView((t=this,function(){return t.replaceDocumentHTML(),t.activateBodyScriptElements(),e()}));var t},n.prototype.replaceDocumentHTML=function(){return document.documentElement.innerHTML=this.html},n.prototype.activateBodyScriptElements=function(){var e,t,n,r,o,i;for(i=[],t=0,n=(r=this.getScriptElements()).length;n>t;t++)o=r[t],e=this.createScriptElement(o),i.push(o.parentNode.replaceChild(e,o));return i},n.prototype.getScriptElements=function(){return document.documentElement.querySelectorAll("script")},n}(Turbolinks.Renderer)}.call(this),function(){Turbolinks.View=function(){function e(e){this.delegate=e,this.element=document.documentElement}return e.prototype.getRootLocation=function(){return this.getSnapshot().getRootLocation()},e.prototype.getElementForAnchor=function(e){return this.getSnapshot().getElementForAnchor(e)},e.prototype.getSnapshot=function(){return Turbolinks.Snapshot.fromElement(this.element)},e.prototype.render=function(e,t){var n,r,o;return o=e.snapshot,n=e.error,r=e.isPreview,this.markAsPreview(r),null!=o?this.renderSnapshot(o,r,t):this.renderError(n,t)},e.prototype.markAsPreview=function(e){return e?this.element.setAttribute("data-turbolinks-preview",""):this.element.removeAttribute("data-turbolinks-preview")},e.prototype.renderSnapshot=function(e,t,n){return Turbolinks.SnapshotRenderer.render(this.delegate,n,this.getSnapshot(),Turbolinks.Snapshot.wrap(e),t)},e.prototype.renderError=function(e,t){return Turbolinks.ErrorRenderer.render(this.delegate,t,e)},e}()}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};Turbolinks.ScrollManager=function(){function t(t){this.delegate=t,this.onScroll=e(this.onScroll,this),this.onScroll=Turbolinks.throttle(this.onScroll)}return t.prototype.start=function(){return this.started?void 0:(addEventListener("scroll",this.onScroll,!1),this.onScroll(),this.started=!0)},t.prototype.stop=function(){return this.started?(removeEventListener("scroll",this.onScroll,!1),this.started=!1):void 0},t.prototype.scrollToElement=function(e){return e.scrollIntoView()},t.prototype.scrollToPosition=function(e){var t,n;return t=e.x,n=e.y,window.scrollTo(t,n)},t.prototype.onScroll=function(){return this.updatePosition({x:window.pageXOffset,y:window.pageYOffset})},t.prototype.updatePosition=function(e){var t;return this.position=e,null!=(t=this.delegate)?t.scrollPositionChanged(this.position):void 0},t}()}.call(this),function(){Turbolinks.SnapshotCache=function(){function e(e){this.size=e,this.keys=[],this.snapshots={}}var t;return e.prototype.has=function(e){return t(e)in this.snapshots},e.prototype.get=function(e){var t;if(this.has(e))return t=this.read(e),this.touch(e),t},e.prototype.put=function(e,t){return this.write(e,t),this.touch(e),t},e.prototype.read=function(e){var n;return n=t(e),this.snapshots[n]},e.prototype.write=function(e,n){var r;return r=t(e),this.snapshots[r]=n},e.prototype.touch=function(e){var n,r;return r=t(e),(n=this.keys.indexOf(r))>-1&&this.keys.splice(n,1),this.keys.unshift(r),this.trim()},e.prototype.trim=function(){var e,t,n,r,o;for(o=[],e=0,n=(r=this.keys.splice(this.size)).length;n>e;e++)t=r[e],o.push(delete this.snapshots[t]);return o},t=function(e){return Turbolinks.Location.wrap(e).toCacheKey()},e}()}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};Turbolinks.Visit=function(){function t(t,n,r){this.controller=t,this.action=r,this.performScroll=e(this.performScroll,this),this.identifier=Turbolinks.uuid(),this.location=Turbolinks.Location.wrap(n),this.adapter=this.controller.adapter,this.state="initialized",this.timingMetrics={}}var n;return t.prototype.start=function(){return"initialized"===this.state?(this.recordTimingMetric("visitStart"),this.state="started",this.adapter.visitStarted(this)):void 0},t.prototype.cancel=function(){var e;return"started"===this.state?(null!=(e=this.request)&&e.cancel(),this.cancelRender(),this.state="canceled"):void 0},t.prototype.complete=function(){var e;return"started"===this.state?(this.recordTimingMetric("visitEnd"),this.state="completed","function"==typeof(e=this.adapter).visitCompleted&&e.visitCompleted(this),this.controller.visitCompleted(this)):void 0},t.prototype.fail=function(){var e;return"started"===this.state?(this.state="failed","function"==typeof(e=this.adapter).visitFailed?e.visitFailed(this):void 0):void 0},t.prototype.changeHistory=function(){var e,t;return this.historyChanged?void 0:(e=this.location.isEqualTo(this.referrer)?"replace":this.action,t=n(e),this.controller[t](this.location,this.restorationIdentifier),this.historyChanged=!0)},t.prototype.issueRequest=function(){return this.shouldIssueRequest()&&null==this.request?(this.progress=0,this.request=new Turbolinks.HttpRequest(this,this.location,this.referrer),this.request.send()):void 0},t.prototype.getCachedSnapshot=function(){var e;return!(e=this.controller.getCachedSnapshotForLocation(this.location))||null!=this.location.anchor&&!e.hasAnchor(this.location.anchor)||"restore"!==this.action&&!e.isPreviewable()?void 0:e},t.prototype.hasCachedSnapshot=function(){return null!=this.getCachedSnapshot()},t.prototype.loadCachedSnapshot=function(){var e,t;return(t=this.getCachedSnapshot())?(e=this.shouldIssueRequest(),this.render(function(){var n;return this.cacheSnapshot(),this.controller.render({snapshot:t,isPreview:e},this.performScroll),"function"==typeof(n=this.adapter).visitRendered&&n.visitRendered(this),e?void 0:this.complete()})):void 0},t.prototype.loadResponse=function(){return null!=this.response?this.render(function(){var e,t;return this.cacheSnapshot(),this.request.failed?(this.controller.render({error:this.response},this.performScroll),"function"==typeof(e=this.adapter).visitRendered&&e.visitRendered(this),this.fail()):(this.controller.render({snapshot:this.response},this.performScroll),"function"==typeof(t=this.adapter).visitRendered&&t.visitRendered(this),this.complete())}):void 0},t.prototype.followRedirect=function(){return this.redirectedToLocation&&!this.followedRedirect?(this.location=this.redirectedToLocation,this.controller.replaceHistoryWithLocationAndRestorationIdentifier(this.redirectedToLocation,this.restorationIdentifier),this.followedRedirect=!0):void 0},t.prototype.requestStarted=function(){var e;return this.recordTimingMetric("requestStart"),"function"==typeof(e=this.adapter).visitRequestStarted?e.visitRequestStarted(this):void 0},t.prototype.requestProgressed=function(e){var t;return this.progress=e,"function"==typeof(t=this.adapter).visitRequestProgressed?t.visitRequestProgressed(this):void 0},t.prototype.requestCompletedWithResponse=function(e,t){return this.response=e,null!=t&&(this.redirectedToLocation=Turbolinks.Location.wrap(t)),this.adapter.visitRequestCompleted(this)},t.prototype.requestFailedWithStatusCode=function(e,t){return this.response=t,this.adapter.visitRequestFailedWithStatusCode(this,e)},t.prototype.requestFinished=function(){var e;return this.recordTimingMetric("requestEnd"),"function"==typeof(e=this.adapter).visitRequestFinished?e.visitRequestFinished(this):void 0},t.prototype.performScroll=function(){return this.scrolled?void 0:("restore"===this.action?this.scrollToRestoredPosition()||this.scrollToTop():this.scrollToAnchor()||this.scrollToTop(),this.scrolled=!0)},t.prototype.scrollToRestoredPosition=function(){var e,t;return null!=(e=null!=(t=this.restorationData)?t.scrollPosition:void 0)?(this.controller.scrollToPosition(e),!0):void 0},t.prototype.scrollToAnchor=function(){return null!=this.location.anchor?(this.controller.scrollToAnchor(this.location.anchor),!0):void 0},t.prototype.scrollToTop=function(){return this.controller.scrollToPosition({x:0,y:0})},t.prototype.recordTimingMetric=function(e){var t;return null!=(t=this.timingMetrics)[e]?t[e]:t[e]=(new Date).getTime()},t.prototype.getTimingMetrics=function(){return Turbolinks.copyObject(this.timingMetrics)},n=function(e){switch(e){case"replace":return"replaceHistoryWithLocationAndRestorationIdentifier";case"advance":case"restore":return"pushHistoryWithLocationAndRestorationIdentifier"}},t.prototype.shouldIssueRequest=function(){return"restore"!==this.action||!this.hasCachedSnapshot()},t.prototype.cacheSnapshot=function(){return this.snapshotCached?void 0:(this.controller.cacheSnapshot(),this.snapshotCached=!0)},t.prototype.render=function(e){return this.cancelRender(),this.frame=requestAnimationFrame((t=this,function(){return t.frame=null,e.call(t)}));var t},t.prototype.cancelRender=function(){return this.frame?cancelAnimationFrame(this.frame):void 0},t}()}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};Turbolinks.Controller=function(){function t(){this.clickBubbled=e(this.clickBubbled,this),this.clickCaptured=e(this.clickCaptured,this),this.pageLoaded=e(this.pageLoaded,this),this.history=new Turbolinks.History(this),this.view=new Turbolinks.View(this),this.scrollManager=new Turbolinks.ScrollManager(this),this.restorationData={},this.clearCache(),this.setProgressBarDelay(500)}return t.prototype.start=function(){return Turbolinks.supported&&!this.started?(addEventListener("click",this.clickCaptured,!0),addEventListener("DOMContentLoaded",this.pageLoaded,!1),this.scrollManager.start(),this.startHistory(),this.started=!0,this.enabled=!0):void 0},t.prototype.disable=function(){return this.enabled=!1},t.prototype.stop=function(){return this.started?(removeEventListener("click",this.clickCaptured,!0),removeEventListener("DOMContentLoaded",this.pageLoaded,!1),this.scrollManager.stop(),this.stopHistory(),this.started=!1):void 0},t.prototype.clearCache=function(){return this.cache=new Turbolinks.SnapshotCache(10)},t.prototype.visit=function(e,t){var n,r;return null==t&&(t={}),e=Turbolinks.Location.wrap(e),this.applicationAllowsVisitingLocation(e)?this.locationIsVisitable(e)?(n=null!=(r=t.action)?r:"advance",this.adapter.visitProposedToLocationWithAction(e,n)):window.location=e:void 0},t.prototype.startVisitToLocationWithAction=function(e,t,n){var r;return Turbolinks.supported?(r=this.getRestorationDataForIdentifier(n),this.startVisit(e,t,{restorationData:r})):window.location=e},t.prototype.setProgressBarDelay=function(e){return this.progressBarDelay=e},t.prototype.startHistory=function(){return this.location=Turbolinks.Location.wrap(window.location),this.restorationIdentifier=Turbolinks.uuid(),this.history.start(),this.history.replace(this.location,this.restorationIdentifier)},t.prototype.stopHistory=function(){return this.history.stop()},t.prototype.pushHistoryWithLocationAndRestorationIdentifier=function(e,t){return this.restorationIdentifier=t,this.location=Turbolinks.Location.wrap(e),this.history.push(this.location,this.restorationIdentifier)},t.prototype.replaceHistoryWithLocationAndRestorationIdentifier=function(e,t){return this.restorationIdentifier=t,this.location=Turbolinks.Location.wrap(e),this.history.replace(this.location,this.restorationIdentifier)},t.prototype.historyPoppedToLocationWithRestorationIdentifier=function(e,t){var n;return this.restorationIdentifier=t,this.enabled?(n=this.getRestorationDataForIdentifier(this.restorationIdentifier),this.startVisit(e,"restore",{restorationIdentifier:this.restorationIdentifier,restorationData:n,historyChanged:!0}),this.location=Turbolinks.Location.wrap(e)):this.adapter.pageInvalidated()},t.prototype.getCachedSnapshotForLocation=function(e){var t;return(t=this.cache.get(e))?t.clone():void 0},t.prototype.shouldCacheSnapshot=function(){return this.view.getSnapshot().isCacheable()},t.prototype.cacheSnapshot=function(){var e;return this.shouldCacheSnapshot()?(this.notifyApplicationBeforeCachingSnapshot(),e=this.view.getSnapshot(),this.cache.put(this.lastRenderedLocation,e.clone())):void 0},t.prototype.scrollToAnchor=function(e){var t;return(t=this.view.getElementForAnchor(e))?this.scrollToElement(t):this.scrollToPosition({x:0,y:0})},t.prototype.scrollToElement=function(e){return this.scrollManager.scrollToElement(e)},t.prototype.scrollToPosition=function(e){return this.scrollManager.scrollToPosition(e)},t.prototype.scrollPositionChanged=function(e){return this.getCurrentRestorationData().scrollPosition=e},t.prototype.render=function(e,t){return this.view.render(e,t)},t.prototype.viewInvalidated=function(){return this.adapter.pageInvalidated()},t.prototype.viewWillRender=function(e){return this.notifyApplicationBeforeRender(e)},t.prototype.viewRendered=function(){return this.lastRenderedLocation=this.currentVisit.location,this.notifyApplicationAfterRender()},t.prototype.pageLoaded=function(){return this.lastRenderedLocation=this.location,this.notifyApplicationAfterPageLoad()},t.prototype.clickCaptured=function(){
return removeEventListener("click",this.clickBubbled,!1),addEventListener("click",this.clickBubbled,!1)},t.prototype.clickBubbled=function(e){var t,n,r;return this.enabled&&this.clickEventIsSignificant(e)&&(n=this.getVisitableLinkForNode(e.target))&&(r=this.getVisitableLocationForLink(n))&&this.applicationAllowsFollowingLinkToLocation(n,r)?(e.preventDefault(),t=this.getActionForLink(n),this.visit(r,{action:t})):void 0},t.prototype.applicationAllowsFollowingLinkToLocation=function(e,t){return!this.notifyApplicationAfterClickingLinkToLocation(e,t).defaultPrevented},t.prototype.applicationAllowsVisitingLocation=function(e){return!this.notifyApplicationBeforeVisitingLocation(e).defaultPrevented},t.prototype.notifyApplicationAfterClickingLinkToLocation=function(e,t){return Turbolinks.dispatch("turbolinks:click",{target:e,data:{url:t.absoluteURL},cancelable:!0})},t.prototype.notifyApplicationBeforeVisitingLocation=function(e){return Turbolinks.dispatch("turbolinks:before-visit",{data:{url:e.absoluteURL},cancelable:!0})},t.prototype.notifyApplicationAfterVisitingLocation=function(e){return Turbolinks.dispatch("turbolinks:visit",{data:{url:e.absoluteURL}})},t.prototype.notifyApplicationBeforeCachingSnapshot=function(){return Turbolinks.dispatch("turbolinks:before-cache")},t.prototype.notifyApplicationBeforeRender=function(e){return Turbolinks.dispatch("turbolinks:before-render",{data:{newBody:e}})},t.prototype.notifyApplicationAfterRender=function(){return Turbolinks.dispatch("turbolinks:render")},t.prototype.notifyApplicationAfterPageLoad=function(e){return null==e&&(e={}),Turbolinks.dispatch("turbolinks:load",{data:{url:this.location.absoluteURL,timing:e}})},t.prototype.startVisit=function(e,t,n){var r;return null!=(r=this.currentVisit)&&r.cancel(),this.currentVisit=this.createVisit(e,t,n),this.currentVisit.start(),this.notifyApplicationAfterVisitingLocation(e)},t.prototype.createVisit=function(e,t,n){var r,o,i,a,s;return a=(o=null!=n?n:{}).restorationIdentifier,i=o.restorationData,r=o.historyChanged,(s=new Turbolinks.Visit(this,e,t)).restorationIdentifier=null!=a?a:Turbolinks.uuid(),s.restorationData=Turbolinks.copyObject(i),s.historyChanged=r,s.referrer=this.location,s},t.prototype.visitCompleted=function(e){return this.notifyApplicationAfterPageLoad(e.getTimingMetrics())},t.prototype.clickEventIsSignificant=function(e){return!(e.defaultPrevented||e.target.isContentEditable||e.which>1||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)},t.prototype.getVisitableLinkForNode=function(e){return this.nodeIsVisitable(e)?Turbolinks.closest(e,"a[href]:not([target]):not([download])"):void 0},t.prototype.getVisitableLocationForLink=function(e){var t;return t=new Turbolinks.Location(e.getAttribute("href")),this.locationIsVisitable(t)?t:void 0},t.prototype.getActionForLink=function(e){var t;return null!=(t=e.getAttribute("data-turbolinks-action"))?t:"advance"},t.prototype.nodeIsVisitable=function(e){var t;return!(t=Turbolinks.closest(e,"[data-turbolinks]"))||"false"!==t.getAttribute("data-turbolinks")},t.prototype.locationIsVisitable=function(e){return e.isPrefixedBy(this.view.getRootLocation())&&e.isHTML()},t.prototype.getCurrentRestorationData=function(){return this.getRestorationDataForIdentifier(this.restorationIdentifier)},t.prototype.getRestorationDataForIdentifier=function(e){var t;return null!=(t=this.restorationData)[e]?t[e]:t[e]={}},t}()}.call(this),function(){!function(){var e,t;if((e=t=document.currentScript)&&!t.hasAttribute("data-turbolinks-suppress-warning"))for(;e=e.parentNode;)if(e===document.body)return console.warn("You are loading Turbolinks from a <script> element inside the <body> element. This is probably not what you meant to do!\n\nLoad your application\u2019s JavaScript bundle inside the <head> element instead. <script> elements in <body> are evaluated with each page change.\n\nFor more information, see: https://github.com/turbolinks/turbolinks#working-with-script-elements\n\n\u2014\u2014\nSuppress this warning by adding a `data-turbolinks-suppress-warning` attribute to: %s",t.outerHTML)}()}.call(this),function(){var e,t,n;Turbolinks.start=function(){return t()?(null==Turbolinks.controller&&(Turbolinks.controller=e()),Turbolinks.controller.start()):void 0},t=function(){return null==window.Turbolinks&&(window.Turbolinks=Turbolinks),n()},e=function(){var e;return(e=new Turbolinks.Controller).adapter=new Turbolinks.BrowserAdapter(e),e},(n=function(){return window.Turbolinks===Turbolinks})()&&Turbolinks.start()}.call(this),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).SimpleMDE=e()}}(function(){var e;return function t(e,n,r){function o(a,s){if(!n[a]){if(!e[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(i)return i(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[a]={exports:{}};e[a][0].call(u.exports,function(t){var n=e[a][1][t];return o(n||t)},u,u.exports,t,e,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t,n){"use strict";function r(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=0,n=e.length;n>t;++t)l[t]=e[t],c[e.charCodeAt(t)]=t;c["-".charCodeAt(0)]=62,c["_".charCodeAt(0)]=63}function o(e){var t,n,r,o,i,a,s=e.length;if(s%4>0)throw new Error("Invalid string. Length must be a multiple of 4");i="="===e[s-2]?2:"="===e[s-1]?1:0,a=new u(3*s/4-i),r=i>0?s-4:s;var l=0;for(t=0,n=0;r>t;t+=4,n+=3)o=c[e.charCodeAt(t)]<<18|c[e.charCodeAt(t+1)]<<12|c[e.charCodeAt(t+2)]<<6|c[e.charCodeAt(t+3)],a[l++]=o>>16&255,a[l++]=o>>8&255,a[l++]=255&o;return 2===i?(o=c[e.charCodeAt(t)]<<2|c[e.charCodeAt(t+1)]>>4,a[l++]=255&o):1===i&&(o=c[e.charCodeAt(t)]<<10|c[e.charCodeAt(t+1)]<<4|c[e.charCodeAt(t+2)]>>2,a[l++]=o>>8&255,a[l++]=255&o),a}function i(e){return l[e>>18&63]+l[e>>12&63]+l[e>>6&63]+l[63&e]}function a(e,t,n){for(var r,o=[],a=t;n>a;a+=3)r=(e[a]<<16)+(e[a+1]<<8)+e[a+2],o.push(i(r));return o.join("")}function s(e){for(var t,n=e.length,r=n%3,o="",i=[],s=16383,c=0,u=n-r;u>c;c+=s)i.push(a(e,c,c+s>u?u:c+s));return 1===r?(t=e[n-1],o+=l[t>>2],o+=l[t<<4&63],o+="=="):2===r&&(t=(e[n-2]<<8)+e[n-1],o+=l[t>>10],o+=l[t>>4&63],o+=l[t<<2&63],o+="="),i.push(o),i.join("")}n.toByteArray=o,n.fromByteArray=s;var l=[],c=[],u="undefined"!=typeof Uint8Array?Uint8Array:Array;r()},{}],2:[function(){},{}],3:[function(e,t,n){(function(t){"use strict";function r(){try{var e=new Uint8Array(1);return e.foo=function(){return 42},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}function o(){return a.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function i(e,t){if(o()<t)throw new RangeError("Invalid typed array length");return a.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=a.prototype:(null===e&&(e=new a(t)),e.length=t),e}function a(e,t,n){if(!(a.TYPED_ARRAY_SUPPORT||this instanceof a))return new a(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return u(this,e)}return s(this,e,t,n)}function s(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?p(e,t,n,r):"string"==typeof t?d(e,t,n):h(e,t)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number')}function c(e,t,n,r){return l(t),0>=t?i(e,t):void 0!==n?"string"==typeof r?i(e,t).fill(n,r):i(e,t).fill(n):i(e,t)}function u(e,t){if(l(t),e=i(e,0>t?0:0|m(t)),!a.TYPED_ARRAY_SUPPORT)for(var n=0;t>n;n++)e[n]=0;return e}function d(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!a.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');return(e=i(e,0|v(t,n))).write(t,n),e}function f(e,t){var n=0|m(t.length);e=i(e,n);for(var r=0;n>r;r+=1)e[r]=255&t[r];return e}function p(e,t,n,r){if(t.byteLength,0>n||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),a.TYPED_ARRAY_SUPPORT?(e=t).__proto__=a.prototype:e=f(e,t),e}function h(e,t){if(a.isBuffer(t)){var n=0|m(t.length);return 0===(e=i(e,n)).length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||X(t.length)?i(e,0):f(e,t);if("Buffer"===t.type&&Z(t.data))return f(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function m(e){if(e>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|e}function g(e){return+e!=e&&(e=0),a.alloc(+e)}function v(e,t){if(a.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"binary":case"raw":case"raws":return n;case"utf8":case"utf-8":case void 0:return U(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Y(e).length;default:if(r)return U(e).length;t=(""+t).toLowerCase(),r=!0}}function y(e,t,n){var r=!1;if((void 0===t||0>t)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),0>=n)return"";if((t>>>=0)>=(n>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return N(this,t,n);case"utf8":case"utf-8":return L(this,t,n);case"ascii":return _(this,t,n);case"binary":return A(this,t,n);case"base64":return j(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function b(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function w(e,t,n,r){function o(e,t){return 1===i?e[t]:e.readUInt16BE(t*i)}var i=1,a=e.length,s=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;i=2,a/=2,s/=2,n/=2}for(var l=-1,c=0;a>n+c;c++)if(o(e,n+c)===o(t,-1===l?0:c-l)){if(-1===l&&(l=c),c-l+1===s)return(n+l)*i}else-1!==l&&(c-=c-l),l=-1;return-1}function x(e,t,n,r){n=Number(n)||0;var o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;var i=t.length;if(i%2!=0)throw new Error("Invalid hex string");r>i/2&&(r=i/2);for(var a=0;r>a;a++){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function S(e,t,n,r){return V(U(t,e.length-n),e,n,r)}function C(e,t,n,r){return V(G(t),e,n,r)}function E(e,t,n,r){return C(e,t,n,r)}function T(e,t,n,r){return V(Y(t),e,n,r)}function k(e,t,n,r){return V($(t,e.length-n),e,n,r)}function j(e,t,n){return 0===t&&n===e.length?Q.fromByteArray(e):Q.fromByteArray(e.slice(t,n))}function L(e,t,n){n=Math.min(e.length,n);for(var r=[],o=t;n>o;){var i,a,s,l,c=e[o],u=null,d=c>239?4:c>223?3:c>191?2:1;if(n>=o+d)switch(d){case 1:128>c&&(u=c);break;case 2:128==(192&(i=e[o+1]))&&((l=(31&c)<<6|63&i)>127&&(u=l));break;case 3:i=e[o+1],a=e[o+2],128==(192&i)&&128==(192&a)&&((l=(15&c)<<12|(63&i)<<6|63&a)>2047&&(55296>l||l>57343)&&(u=l));break;case 4:i=e[o+1],a=e[o+2],s=e[o+3],128==(192&i)&&128==(192&a)&&128==(192&s)&&((l=(15&c)<<18|(63&i)<<12|(63&a)<<6|63&s)>65535&&1114112>l&&(u=l))}null===u?(u=65533,d=1):u>65535&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),o+=d}return O(r)}function O(e){var t=e.length;if(J>=t)return String.fromCharCode.apply(String,e);for(var n="",r=0;t>r;)n+=String.fromCharCode.apply(String,e.slice(r,r+=J));return n}function _(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;n>o;o++)r+=String.fromCharCode(127&e[o]);return r}function A(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;n>o;o++)r+=String.fromCharCode(e[o]);return r}function N(e,t,n){var r=e.length;(!t||0>t)&&(t=0),(!n||0>n||n>r)&&(n=r);for(var o="",i=t;n>i;i++)o+=q(e[i]);return o}function M(e,t,n){for(var r=e.slice(t,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function P(e,t,n){if(e%1!=0||0>e)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function I(e,t,n,r,o,i){if(!a.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||i>t)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function D(e,t,n,r){0>t&&(t=65535+t+1);for(var o=0,i=Math.min(e.length-n,2);i>o;o++)e[n+o]=(t&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function R(e,t,n,r){0>t&&(t=4294967295+t+1);for(var o=0,i=Math.min(e.length-n,4);i>o;o++)e[n+o]=t>>>8*(r?o:3-o)&255}function W(e,t,n,r){if(n+r>e.length)throw new RangeError("Index out of range");if(0>n)throw new RangeError("Index out of range")}function H(e,t,n,r,o){return o||W(e,t,n,4,3.4028234663852886e38,-3.4028234663852886e38),K.write(e,t,n,r,23,4),n+4}function B(e,t,n,r,o){return o||W(e,t,n,8,1.7976931348623157e308,-1.7976931348623157e308),K.write(e,t,n,r,52,8),n+8}function F(e){if((e=z(e).replace(ee,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}function z(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function q(e){return 16>e?"0"+e.toString(16):e.toString(16)}function U(e,t){t=t||1/0;for(var n,r=e.length,o=null,i=[],a=0;r>a;a++){if((n=e.charCodeAt(a))>55295&&57344>n){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(56320>n){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,128>n){if((t-=1)<0)break;i.push(n)}else if(2048>n){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(65536>n){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(1114112>n))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function G(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t}function $(e,t){for(var n,r,o,i=[],a=0;a<e.length&&!((t-=2)<0);a++)r=(n=e.charCodeAt(a))>>8,o=n%256,i.push(o),i.push(r);return i}function Y(e){return Q.toByteArray(F(e))}function V(e,t,n,r){for(var o=0;r>o&&!(o+n>=t.length||o>=e.length);o++)t[o+n]=e[o];return o}function X(e){return e!=e}var Q=e("base64-js"),K=e("ieee754"),Z=e("isarray");n.Buffer=a,n.SlowBuffer=g,n.INSPECT_MAX_BYTES=50,a.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:r(),n.kMaxLength=o(),a.poolSize=8192,a._augment=function(e){return e.__proto__=a.prototype,e},a.from=function(e,t,n){return s(null,e,t,n)},a.TYPED_ARRAY_SUPPORT&&(a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0})),a.alloc=function(e,t,n){return c(null,e,t,n)},a.allocUnsafe=function(e){return u(null,e)},a.allocUnsafeSlow=function(e){return u(null,e)},a.isBuffer=function(e){return!(null==e||!e._isBuffer)},a.compare=function(e,t){if(!a.isBuffer(e)||!a.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,o=0,i=Math.min(n,r);i>o;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return r>n?-1:n>r?1:0},a.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(e,t){if(!Z(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return a.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;n++)t+=e[n].length;var r=a.allocUnsafe(t),o=0;for(n=0;n<e.length;n++){var i=e[n];if(!a.isBuffer(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(r,o),o+=i.length}return r},a.byteLength=v,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;e>t;t+=2)b(this,t,t+1);return this},a.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;e>t;t+=4)b(this,t,t+3),b(this,t+1,t+2);return this},a.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?L(this,0,e):y.apply(this,arguments)},a.prototype.equals=function(e){if(!a.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===a.compare(this,e)},a.prototype.inspect=function(){var e="",t=n.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},a.prototype.compare=function(e,t,n,r,o){if(!a.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),0>t||n>e.length||0>r||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(this===e)return 0;for(var i=(o>>>=0)-(r>>>=0),s=(n>>>=0)-(t>>>=0),l=Math.min(i,s),c=this.slice(r,o),u=e.slice(t,n),d=0;l>d;++d)if(c[d]!==u[d]){i=c[d],s=u[d];break}return s>i?-1:i>s?1:0},a.prototype.indexOf=function(e,t,n){if("string"==typeof t?(n=t,t=0):t>2147483647?t=2147483647:-2147483648>t&&(t=-2147483648),t>>=0,0===this.length)return-1;if(t>=this.length)return-1;if(0>t&&(t=Math.max(this.length+t,0)),"string"==typeof e&&(e=a.from(e,n)),a.isBuffer(e))return 0===e.length?-1:w(this,e,t,n);if("number"==typeof e)return a.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,e,t):w(this,[e],t,n);throw new TypeError("val must be string, number or Buffer")},a.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},a.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(0>n||0>t)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return x(this,e,t,n);case"utf8":case"utf-8":return S(this,e,t,n);case"ascii":return C(this,e,t,n);case"binary":return E(this,e,t,n);case"base64":return T(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var J=4096;a.prototype.slice=function(e,t){var n,r=this.length;if(0>(e=~~e)?0>(e+=r)&&(e=0):e>r&&(e=r),0>(t=void 0===t?r:~~t)?0>(t+=r)&&(t=0):t>r&&(t=r),e>t&&(t=e),a.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=a.prototype;else{var o=t-e;n=new a(o,void 0);for(var i=0;o>i;i++)n[i]=this[i+e]}return n},a.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||P(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r},a.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||P(e,t,this.length);for(var r=this[e+--t],o=1;t>0&&(o*=256);)r+=this[e+--t]*o;return r},a.prototype.readUInt8=function(e,t){return t||P(e,1,this.length),this[e]},a.prototype.readUInt16LE=function(e,t){return t||P(e,2,this.length),this[e]|this[e+1]<<8},a.prototype.readUInt16BE=function(e,t){return t||P(e,2,this.length),this[e]<<8|this[e+1]},a.prototype.readUInt32LE=function(e,t){return t||P(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},a.prototype.readUInt32BE=function(e,t){return t||P(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},a.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||P(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*t)),r},a.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||P(e,t,this.length);for(var r=t,o=1,i=this[e+--r];r>0&&(o*=256);)i+=this[e+--r]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*t)),i},a.prototype.readInt8=function(e,t){return t||P(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},a.prototype.readInt16LE=function(e,t){t||P(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt16BE=function(e,t){t||P(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt32LE=function(e,t){return t||P(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},a.prototype.readInt32BE=function(e,t){return t||P(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},a.prototype.readFloatLE=function(e,t){return t||P(e,4,this.length),K.read(this,e,!0,23,4)},a.prototype.readFloatBE=function(e,t){return t||P(e,4,this.length),K.read(this,e,!1,23,4)},a.prototype.readDoubleLE=function(e,t){return t||P(e,8,this.length),K.read(this,e,!0,52,8)},a.prototype.readDoubleBE=function(e,t){return t||P(e,8,this.length),K.read(this,e,!1,52,8)},a.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||I(this,e,t,n,Math.pow(2,8*n)-1,0);var o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},a.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||I(this,e,t,n,Math.pow(2,8*n)-1,0);var o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},a.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,1,255,0),a.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},a.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):D(this,e,t,!0),t+2},a.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):D(this,e,t,!1),t+2},a.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):R(this,e,t,!0),t+4},a.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):R(this,e,t,!1),t+4},a.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);I(this,e,t,n,o-1,-o)}var i=0,a=1,s=0;for(this[t]=255&e;++i<n&&(a*=256);)0>e&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+n},a.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);I(this,e,t,n,o-1,-o)}var i=n-1,a=1,s=0;for(this[t+i]=255&e;--i>=0&&(a*=256);)0>e&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+n},a.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,1,127,-128),a.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),0>e&&(e=255+e+1),this[t]=255&e,t+1},a.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):D(this,e,t,!0),t+2},a.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):D(this,e,t,!1),t+2},a.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,4,2147483647,-2147483648),a.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):R(this,e,t,!0),t+4},a.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,4,2147483647,-2147483648),0>e&&(e=4294967295+e+1),a.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):R(this,e,t,!1),t+4},a.prototype.writeFloatLE=function(e,t,n){return H(this,e,t,!0,n)},a.prototype.writeFloatBE=function(e,t,n){return H(this,e,t,!1,n)},a.prototype.writeDoubleLE=function(e,t,n){return B(this,e,t,!0,n)},a.prototype.writeDoubleBE=function(e,t,n){return B(this,e,t,!1,n)},a.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&n>r&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(0>t)throw new RangeError("targetStart out of bounds");if(0>n||n>=this.length)throw new RangeError("sourceStart out of bounds");if(0>r)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var o,i=r-n;if(this===e&&t>n&&r>t)for(o=i-1;o>=0;o--)e[o+t]=this[o+n];else if(1e3>i||!a.TYPED_ARRAY_SUPPORT)for(o=0;i>o;o++)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+i),t);return i},a.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var o=e.charCodeAt(0);256>o&&(e=o)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!a.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(0>t||this.length<t||this.length<n)throw new RangeError("Out of range index");if(t>=n)return this;var i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;n>i;i++)this[i]=e;else{var s=a.isBuffer(e)?e:U(new a(e,r).toString()),l=s.length;for(i=0;n-t>i;i++)this[i+t]=s[i%l]}return this};var ee=/[^+\/0-9A-Za-z-_]/g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":1,ieee754:15,isarray:16}],4:[function(e,t){"use strict";function n(e){return"function"!=typeof(e=e||{}).codeMirrorInstance||"function"!=typeof e.codeMirrorInstance.defineMode?void console.log("CodeMirror Spell Checker: You must provide an instance of CodeMirror via the option `codeMirrorInstance`"):(String.prototype.includes||(String.prototype.includes=function(){return-1!==String.prototype.indexOf.apply(this,arguments)}),void e.codeMirrorInstance.defineMode("spell-checker",function(t){if(!n.aff_loading){n.aff_loading=!0;var o=new XMLHttpRequest;o.open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.aff",!0),o.onload=function(){4===o.readyState&&200===o.status&&(n.aff_data=o.responseText,n.num_loaded++,2==n.num_loaded&&(n.typo=new r("en_US",n.aff_data,n.dic_data,{platform:"any"})))},o.send(null)}if(!n.dic_loading){n.dic_loading=!0;var i=new XMLHttpRequest;i.open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.dic",!0),i.onload=function(){4===i.readyState&&200===i.status&&(n.dic_data=i.responseText,n.num_loaded++,2==n.num_loaded&&(n.typo=new r("en_US",n.aff_data,n.dic_data,{platform:"any"})))},i.send(null)}var a='!"#$%&()*+,-./:;<=>?@[\\]^_`{|}~ ',s={token:function(e){var t=e.peek(),r="";if(a.includes(t))return e.next(),null;for(;null!=(t=e.peek())&&!a.includes(t);)r+=t,e.next();return n.typo&&!n.typo.check(r)?"spell-error":null}},l=e.codeMirrorInstance.getMode(t,t.backdrop||"text/plain");return e.codeMirrorInstance.overlayMode(l,s,!0)}))}var r=e("typo-js");n.num_loaded=0,n.aff_loading=!1,n.dic_loading=!1,n.aff_data="",n.dic_data="",n.typo,t.exports=n},{"typo-js":18}],5:[function(t,n,r){var o;o=function(e){"use strict";function t(e){var t=e.getWrapperElement();e.state.fullScreenRestore={scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset,width:t.style.width,height:t.style.height},t.style.width="",t.style.height="auto",t.className+=" CodeMirror-fullscreen",document.documentElement.style.overflow="hidden",e.refresh()}function n(e){var t=e.getWrapperElement();t.className=t.className.replace(/\s*CodeMirror-fullscreen\b/,""),document.documentElement.style.overflow="";var n=e.state.fullScreenRestore;t.style.width=n.width,t.style.height=n.height,window.scrollTo(n.scrollLeft,n.scrollTop),e.refresh()}e.defineOption("fullScreen",!1,function(r,o,i){i==e.Init&&(i=!1),!i!=!o&&(o?t(r):n(r))})},"object"==typeof r&&"object"==typeof n?o(t("../../lib/codemirror")):"function"==typeof e&&e.amd?e(["../../lib/codemirror"],o):o(CodeMirror)},{"../../lib/codemirror":10}],6:[function(t,n,r){var o;o=function(e){function t(e){e.state.placeholder&&(e.state.placeholder.parentNode.removeChild(e.state.placeholder),e.state.placeholder=null)}function n(e){t(e);var n=e.state.placeholder=document.createElement("pre");n.style.cssText="height: 0; overflow: visible",n.className="CodeMirror-placeholder";var r=e.getOption("placeholder");"string"==typeof r&&(r=document.createTextNode(r)),n.appendChild(r),e.display.lineSpace.insertBefore(n,e.display.lineSpace.firstChild)}function r(e){i(e)&&n(e)}function o(e){var r=e.getWrapperElement(),o=i(e);r.className=r.className.replace(" CodeMirror-empty","")+(o?" CodeMirror-empty":""),o?n(e):t(e)}function i(e){return 1===e.lineCount()&&""===e.getLine(0)}e.defineOption("placeholder","",function(n,i,a){var s=a&&a!=e.Init;if(i&&!s)n.on("blur",r),n.on("change",o),n.on("swapDoc",o),o(n);else if(!i&&s){n.off("blur",r),n.off("change",o),n.off("swapDoc",o),t(n);var l=n.getWrapperElement();l.className=l.className.replace(" CodeMirror-empty","")}i&&!n.hasFocus()&&r(n)})},"object"==typeof r&&"object"==typeof n?o(t("../../lib/codemirror")):"function"==typeof e&&e.amd?e(["../../lib/codemirror"],o):o(CodeMirror)},{"../../lib/codemirror":10}],7:[function(t,n,r){var o;o=function(e){"use strict";var t=/^(\s*)(>[> ]*|[*+-]\s|(\d+)([.)]))(\s*)/,n=/^(\s*)(>[> ]*|[*+-]|(\d+)[.)])(\s*)$/,r=/[*+-]\s/;e.commands.newlineAndIndentContinueMarkdownList=function(o){if(o.getOption("disableInput"))return e.Pass;for(var i=o.listSelections(),a=[],s=0;s<i.length;s++){var l=i[s].head,c=o.getStateAfter(l.line),u=!1!==c.list,d=0!==c.quote,f=o.getLine(l.line),p=t.exec(f);if(!i[s].empty()||!u&&!d||!p)return void o.execCommand("newlineAndIndent");if(n.test(f))o.replaceRange("",{line:l.line,ch:0},{line:l.line,ch:l.ch+1}),a[s]="\n";else{var h=p[1],m=p[5],g=r.test(p[2])||p[2].indexOf(">")>=0?p[2]:parseInt(p[3],10)+1+p[4];a[s]="\n"+h+g+m}}o.replaceSelections(a)}},"object"==typeof r&&"object"==typeof n?o(t("../../lib/codemirror")):"function"==typeof e&&e.amd?e(["../../lib/codemirror"],o):o(CodeMirror)},{"../../lib/codemirror":10}],8:[function(t,n,r){var o;o=function(e){"use strict";e.overlayMode=function(t,n,r){return{startState:function(){return{base:e.startState(t),overlay:e.startState(n),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(r){return{base:e.copyState(t,r.base),overlay:e.copyState(n,r.overlay),basePos:r.basePos,baseCur:null,overlayPos:r.overlayPos,overlayCur:null}},token:function(e,o){return(e!=o.streamSeen||Math.min(o.basePos,o.overlayPos)<e.start)&&(o.streamSeen=e,o.basePos=o.overlayPos=e.start),e.start==o.basePos&&(o.baseCur=t.token(e,o.base),o.basePos=e.pos),e.start==o.overlayPos&&(e.pos=e.start,o.overlayCur=n.token(e,o.overlay),o.overlayPos=e.pos),e.pos=Math.min(o.basePos,o.overlayPos),null==o.overlayCur?o.baseCur:null!=o.baseCur&&o.overlay.combineTokens||r&&null==o.overlay.combineTokens?o.baseCur+" "+o.overlayCur:o.overlayCur},indent:t.indent&&function(e,n){return t.indent(e.base,n)},electricChars:t.electricChars,innerMode:function(e){return{state:e.base,mode:t}},blankLine:function(e){t.blankLine&&t.blankLine(e.base),n.blankLine&&n.blankLine(e.overlay)}}}},"object"==typeof r&&"object"==typeof n?o(t("../../lib/codemirror")):"function"==typeof e&&e.amd?e(["../../lib/codemirror"],o):o(CodeMirror)},{"../../lib/codemirror":10}],9:[function(t,n,r){var o;o=function(e){"use strict";function t(e){e.operation(function(){a(e)})}function n(e){e.state.markedSelection.length&&e.operation(function(){o(e)})}function r(e,t,n,r){if(0!=c(t,n))for(var o=e.state.markedSelection,i=e.state.markedSelectionStyle,a=t.line;;){var u=a==t.line?t:l(a,0),d=a+s,f=d>=n.line,p=f?n:l(d,0),h=e.markText(u,p,{className:i});if(null==r?o.push(h):o.splice(r++,0,h),f)break;a=d}}function o(e){for(var t=e.state.markedSelection,n=0;n<t.length;++n)t[n].clear();t.length=0}function i(e){o(e);for(var t=e.listSelections(),n=0;n<t.length;n++)r(e,t[n].from(),t[n].to())}function a(e){if(!e.somethingSelected())return o(e);if(e.listSelections().length>1)return i(e);var t=e.getCursor("start"),n=e.getCursor("end"),a=e.state.markedSelection;if(!a.length)return r(e,t,n);var l=a[0].find(),u=a[a.length-1].find();if(!l||!u||n.line-t.line<s||c(t,u.to)>=0||c(n,l.from)<=0)return i(e);for(;c(t,l.from)>0;)a.shift().clear(),l=a[0].find();for(c(t,l.from)<0&&(l.to.line-t.line<s?(a.shift().clear(),r(e,t,l.to,0)):r(e,t,l.from,0));c(n,u.to)<0;)a.pop().clear(),u=a[a.length-1].find()
;c(n,u.to)>0&&(n.line-u.from.line<s?(a.pop().clear(),r(e,u.from,n)):r(e,u.to,n))}e.defineOption("styleSelectedText",!1,function(r,a,s){var l=s&&s!=e.Init;a&&!l?(r.state.markedSelection=[],r.state.markedSelectionStyle="string"==typeof a?a:"CodeMirror-selectedtext",i(r),r.on("cursorActivity",t),r.on("change",n)):!a&&l&&(r.off("cursorActivity",t),r.off("change",n),o(r),r.state.markedSelection=r.state.markedSelectionStyle=null)});var s=8,l=e.Pos,c=e.cmpPos},"object"==typeof r&&"object"==typeof n?o(t("../../lib/codemirror")):"function"==typeof e&&e.amd?e(["../../lib/codemirror"],o):o(CodeMirror)},{"../../lib/codemirror":10}],10:[function(t,n,r){!function(t){if("object"==typeof r&&"object"==typeof n)n.exports=t();else{if("function"==typeof e&&e.amd)return e([],t);(this||window).CodeMirror=t()}}(function(){"use strict";function e(n,r){if(!(this instanceof e))return new e(n,r);this.options=r=r?Wo(r):{},Wo(ea,r,!1),p(r);var o=r.value;"string"==typeof o&&(o=new Ea(o,r.mode,null,r.lineSeparator)),this.doc=o;var i=new e.inputStyles[r.inputStyle](this),a=this.display=new t(n,o,i);a.wrapper.CodeMirror=this,c(this),s(this),r.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),r.autofocus&&!Oi&&a.input.focus(),v(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new Ao,keySeq:null,specialChars:null};var l=this;for(var u in bi&&11>wi&&setTimeout(function(){l.display.input.reset(!0)},20),zt(this),Qo(),wt(this),this.curOp.forceUpdate=!0,Qr(this,o),r.autofocus&&!Oi||l.hasFocus()?setTimeout(Ho(vn,this),20):yn(this),ta)ta.hasOwnProperty(u)&&ta[u](this,r[u],na);S(this),r.finishInit&&r.finishInit(this);for(var d=0;d<aa.length;++d)aa[d](this);St(this),xi&&r.lineWrapping&&"optimizelegibility"==getComputedStyle(a.lineDiv).textRendering&&(a.lineDiv.style.textRendering="auto")}function t(e,t,n){var r=this;this.input=n,r.scrollbarFiller=qo("div",null,"CodeMirror-scrollbar-filler"),r.scrollbarFiller.setAttribute("cm-not-content","true"),r.gutterFiller=qo("div",null,"CodeMirror-gutter-filler"),r.gutterFiller.setAttribute("cm-not-content","true"),r.lineDiv=qo("div",null,"CodeMirror-code"),r.selectionDiv=qo("div",null,null,"position: relative; z-index: 1"),r.cursorDiv=qo("div",null,"CodeMirror-cursors"),r.measure=qo("div",null,"CodeMirror-measure"),r.lineMeasure=qo("div",null,"CodeMirror-measure"),r.lineSpace=qo("div",[r.measure,r.lineMeasure,r.selectionDiv,r.cursorDiv,r.lineDiv],null,"position: relative; outline: none"),r.mover=qo("div",[qo("div",[r.lineSpace],"CodeMirror-lines")],null,"position: relative"),r.sizer=qo("div",[r.mover],"CodeMirror-sizer"),r.sizerWidth=null,r.heightForcer=qo("div",null,null,"position: absolute; height: "+Ia+"px; width: 1px;"),r.gutters=qo("div",null,"CodeMirror-gutters"),r.lineGutter=null,r.scroller=qo("div",[r.sizer,r.heightForcer,r.gutters],"CodeMirror-scroll"),r.scroller.setAttribute("tabIndex","-1"),r.wrapper=qo("div",[r.scrollbarFiller,r.gutterFiller,r.scroller],"CodeMirror"),bi&&8>wi&&(r.gutters.style.zIndex=-1,r.scroller.style.paddingRight=0),xi||gi&&Oi||(r.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(r.wrapper):e(r.wrapper)),r.viewFrom=r.viewTo=t.first,r.reportedViewFrom=r.reportedViewTo=t.first,r.view=[],r.renderedView=null,r.externalMeasured=null,r.viewOffset=0,r.lastWrapHeight=r.lastWrapWidth=0,r.updateLineNumbers=null,r.nativeBarWidth=r.barHeight=r.barWidth=0,r.scrollbarsClipped=!1,r.lineNumWidth=r.lineNumInnerWidth=r.lineNumChars=null,r.alignWidgets=!1,r.cachedCharWidth=r.cachedTextHeight=r.cachedPaddingH=null,r.maxLine=null,r.maxLineLength=0,r.maxLineChanged=!1,r.wheelDX=r.wheelDY=r.wheelStartX=r.wheelStartY=null,r.shift=!1,r.selForContextMenu=null,r.activeTouch=null,n.init(r)}function n(t){t.doc.mode=e.getMode(t.options,t.doc.modeOption),r(t)}function r(e){e.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),e.doc.frontier=e.doc.first,He(e,100),e.state.modeGen++,e.curOp&&It(e)}function o(e){e.options.lineWrapping?(Za(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(Ka(e.display.wrapper,"CodeMirror-wrap"),f(e)),a(e),It(e),st(e),setTimeout(function(){y(e)},100)}function i(e){var t=yt(e.display),n=e.options.lineWrapping,r=n&&Math.max(5,e.display.scroller.clientWidth/bt(e.display)-3);return function(o){if(Sr(e.doc,o))return 0;var i=0;if(o.widgets)for(var a=0;a<o.widgets.length;a++)o.widgets[a].height&&(i+=o.widgets[a].height);return n?i+(Math.ceil(o.text.length/r)||1)*t:i+t}}function a(e){var t=e.doc,n=i(e);t.iter(function(e){var t=n(e);t!=e.height&&eo(e,t)})}function s(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),st(e)}function l(e){c(e),It(e),setTimeout(function(){x(e)},20)}function c(e){var t=e.display.gutters,n=e.options.gutters;Uo(t);for(var r=0;r<n.length;++r){var o=n[r],i=t.appendChild(qo("div",null,"CodeMirror-gutter "+o));"CodeMirror-linenumbers"==o&&(e.display.lineGutter=i,i.style.width=(e.display.lineNumWidth||1)+"px")}t.style.display=r?"":"none",u(e)}function u(e){var t=e.display.gutters.offsetWidth;e.display.sizer.style.marginLeft=t+"px"}function d(e){if(0==e.height)return 0;for(var t,n=e.text.length,r=e;t=mr(r);){r=(o=t.find(0,!0)).from.line,n+=o.from.ch-o.to.ch}for(r=e;t=gr(r);){var o=t.find(0,!0);n-=r.text.length-o.from.ch,n+=(r=o.to.line).text.length-o.to.ch}return n}function f(e){var t=e.display,n=e.doc;t.maxLine=Kr(n,n.first),t.maxLineLength=d(t.maxLine),t.maxLineChanged=!0,n.iter(function(e){var n=d(e);n>t.maxLineLength&&(t.maxLineLength=n,t.maxLine=e)})}function p(e){var t=Po(e.gutters,"CodeMirror-linenumbers");-1==t&&e.lineNumbers?e.gutters=e.gutters.concat(["CodeMirror-linenumbers"]):t>-1&&!e.lineNumbers&&(e.gutters=e.gutters.slice(0),e.gutters.splice(t,1))}function h(e){var t=e.display,n=t.gutters.offsetWidth,r=Math.round(e.doc.height+Ue(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?n:0,docHeight:r,scrollHeight:r+$e(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:n}}function m(e,t,n){this.cm=n;var r=this.vert=qo("div",[qo("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),o=this.horiz=qo("div",[qo("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");e(r),e(o),_a(r,"scroll",function(){r.clientHeight&&t(r.scrollTop,"vertical")}),_a(o,"scroll",function(){o.clientWidth&&t(o.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,bi&&8>wi&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")}function g(){}function v(t){t.display.scrollbars&&(t.display.scrollbars.clear(),t.display.scrollbars.addClass&&Ka(t.display.wrapper,t.display.scrollbars.addClass)),t.display.scrollbars=new e.scrollbarModel[t.options.scrollbarStyle](function(e){t.display.wrapper.insertBefore(e,t.display.scrollbarFiller),_a(e,"mousedown",function(){t.state.focused&&setTimeout(function(){t.display.input.focus()},0)}),e.setAttribute("cm-not-content","true")},function(e,n){"horizontal"==n?on(t,e):rn(t,e)},t),t.display.scrollbars.addClass&&Za(t.display.wrapper,t.display.scrollbars.addClass)}function y(e,t){t||(t=h(e));var n=e.display.barWidth,r=e.display.barHeight;b(e,t);for(var o=0;4>o&&n!=e.display.barWidth||r!=e.display.barHeight;o++)n!=e.display.barWidth&&e.options.lineWrapping&&A(e),b(e,h(e)),n=e.display.barWidth,r=e.display.barHeight}function b(e,t){var n=e.display,r=n.scrollbars.update(t);n.sizer.style.paddingRight=(n.barWidth=r.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=r.bottom)+"px",n.heightForcer.style.borderBottom=r.bottom+"px solid transparent",r.right&&r.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=r.bottom+"px",n.scrollbarFiller.style.width=r.right+"px"):n.scrollbarFiller.style.display="",r.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=r.bottom+"px",n.gutterFiller.style.width=t.gutterWidth+"px"):n.gutterFiller.style.display=""}function w(e,t,n){var r=n&&null!=n.top?Math.max(0,n.top):e.scroller.scrollTop;r=Math.floor(r-qe(e));var o=n&&null!=n.bottom?n.bottom:r+e.wrapper.clientHeight,i=no(t,r),a=no(t,o);if(n&&n.ensure){var s=n.ensure.from.line,l=n.ensure.to.line;i>s?(i=s,a=no(t,ro(Kr(t,s))+e.wrapper.clientHeight)):Math.min(l,t.lastLine())>=a&&(i=no(t,ro(Kr(t,l))-e.wrapper.clientHeight),a=l)}return{from:i,to:Math.max(a,i+1)}}function x(e){var t=e.display,n=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var r=E(t)-t.scroller.scrollLeft+e.doc.scrollLeft,o=t.gutters.offsetWidth,i=r+"px",a=0;a<n.length;a++)if(!n[a].hidden){e.options.fixedGutter&&n[a].gutter&&(n[a].gutter.style.left=i);var s=n[a].alignable;if(s)for(var l=0;l<s.length;l++)s[l].style.left=i}e.options.fixedGutter&&(t.gutters.style.left=r+o+"px")}}function S(e){if(!e.options.lineNumbers)return!1;var t=e.doc,n=C(e.options,t.first+t.size-1),r=e.display;if(n.length!=r.lineNumChars){var o=r.measure.appendChild(qo("div",[qo("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),i=o.firstChild.offsetWidth,a=o.offsetWidth-i;return r.lineGutter.style.width="",r.lineNumInnerWidth=Math.max(i,r.lineGutter.offsetWidth-a)+1,r.lineNumWidth=r.lineNumInnerWidth+a,r.lineNumChars=r.lineNumInnerWidth?n.length:-1,r.lineGutter.style.width=r.lineNumWidth+"px",u(e),!0}return!1}function C(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function E(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function T(e,t,n){var r=e.display;this.viewport=t,this.visible=w(r,e.doc,t),this.editorIsHidden=!r.wrapper.offsetWidth,this.wrapperHeight=r.wrapper.clientHeight,this.wrapperWidth=r.wrapper.clientWidth,this.oldDisplayWidth=Ye(e),this.force=n,this.dims=M(e),this.events=[]}function k(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=$e(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=$e(e)+"px",t.scrollbarsClipped=!0)}function j(e,t){var n=e.display,r=e.doc;if(t.editorIsHidden)return Rt(e),!1;if(!t.force&&t.visible.from>=n.viewFrom&&t.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&0==Ft(e))return!1;S(e)&&(Rt(e),t.dims=M(e));var o=r.first+r.size,i=Math.max(t.visible.from-e.options.viewportMargin,r.first),a=Math.min(o,t.visible.to+e.options.viewportMargin);n.viewFrom<i&&i-n.viewFrom<20&&(i=Math.max(r.first,n.viewFrom)),n.viewTo>a&&n.viewTo-a<20&&(a=Math.min(o,n.viewTo)),Ri&&(i=wr(e.doc,i),a=xr(e.doc,a));var s=i!=n.viewFrom||a!=n.viewTo||n.lastWrapHeight!=t.wrapperHeight||n.lastWrapWidth!=t.wrapperWidth;Bt(e,i,a),n.viewOffset=ro(Kr(e.doc,n.viewFrom)),e.display.mover.style.top=n.viewOffset+"px";var l=Ft(e);if(!s&&0==l&&!t.force&&n.renderedView==n.view&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var c=$o();return l>4&&(n.lineDiv.style.display="none"),P(e,n.updateLineNumbers,t.dims),l>4&&(n.lineDiv.style.display=""),n.renderedView=n.view,c&&$o()!=c&&c.offsetHeight&&c.focus(),Uo(n.cursorDiv),Uo(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,s&&(n.lastWrapHeight=t.wrapperHeight,n.lastWrapWidth=t.wrapperWidth,He(e,400)),n.updateLineNumbers=null,!0}function L(e,t){for(var n=t.viewport,r=!0;(r&&e.options.lineWrapping&&t.oldDisplayWidth!=Ye(e)||(n&&null!=n.top&&(n={top:Math.min(e.doc.height+Ue(e.display)-Ve(e),n.top)}),t.visible=w(e.display,e.doc,n),!(t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)))&&j(e,t);r=!1){A(e);var o=h(e);Pe(e),y(e,o),_(e,o)}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function O(e,t){var n=new T(e,t);if(j(e,n)){A(e),L(e,n);var r=h(e);Pe(e),y(e,r),_(e,r),n.finish()}}function _(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+$e(e)+"px"}function A(e){for(var t=e.display,n=t.lineDiv.offsetTop,r=0;r<t.view.length;r++){var o,i=t.view[r];if(!i.hidden){if(bi&&8>wi){var a=i.node.offsetTop+i.node.offsetHeight;o=a-n,n=a}else{var s=i.node.getBoundingClientRect();o=s.bottom-s.top}var l=i.line.height-o;if(2>o&&(o=yt(t)),(l>.001||-.001>l)&&(eo(i.line,o),N(i.line),i.rest))for(var c=0;c<i.rest.length;c++)N(i.rest[c])}}}function N(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t)e.widgets[t].height=e.widgets[t].node.parentNode.offsetHeight}function M(e){for(var t=e.display,n={},r={},o=t.gutters.clientLeft,i=t.gutters.firstChild,a=0;i;i=i.nextSibling,++a)n[e.options.gutters[a]]=i.offsetLeft+i.clientLeft+o,r[e.options.gutters[a]]=i.clientWidth;return{fixedPos:E(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:n,gutterWidth:r,wrapperWidth:t.wrapper.clientWidth}}function P(e,t,n){function r(t){var n=t.nextSibling;return xi&&_i&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),n}for(var o=e.display,i=e.options.lineNumbers,a=o.lineDiv,s=a.firstChild,l=o.view,c=o.viewFrom,u=0;u<l.length;u++){var d=l[u];if(d.hidden);else if(d.node&&d.node.parentNode==a){for(;s!=d.node;)s=r(s);var f=i&&null!=t&&c>=t&&d.lineNumber;d.changes&&(Po(d.changes,"gutter")>-1&&(f=!1),I(e,d,c,n)),f&&(Uo(d.lineNumber),d.lineNumber.appendChild(document.createTextNode(C(e.options,c)))),s=d.node.nextSibling}else{var p=q(e,d,c,n);a.insertBefore(p,s)}c+=d.size}for(;s;)s=r(s)}function I(e,t,n,r){for(var o=0;o<t.changes.length;o++){var i=t.changes[o];"text"==i?H(e,t):"gutter"==i?F(e,t,n,r):"class"==i?B(t):"widget"==i&&z(e,t,r)}t.changes=null}function D(e){return e.node==e.text&&(e.node=qo("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),bi&&8>wi&&(e.node.style.zIndex=2)),e.node}function R(e){var t=e.bgClass?e.bgClass+" "+(e.line.bgClass||""):e.line.bgClass;if(t&&(t+=" CodeMirror-linebackground"),e.background)t?e.background.className=t:(e.background.parentNode.removeChild(e.background),e.background=null);else if(t){var n=D(e);e.background=n.insertBefore(qo("div",null,t),n.firstChild)}}function W(e,t){var n=e.display.externalMeasured;return n&&n.line==t.line?(e.display.externalMeasured=null,t.measure=n.measure,n.built):Wr(e,t)}function H(e,t){var n=t.text.className,r=W(e,t);t.text==t.node&&(t.node=r.pre),t.text.parentNode.replaceChild(r.pre,t.text),t.text=r.pre,r.bgClass!=t.bgClass||r.textClass!=t.textClass?(t.bgClass=r.bgClass,t.textClass=r.textClass,B(t)):n&&(t.text.className=n)}function B(e){R(e),e.line.wrapClass?D(e).className=e.line.wrapClass:e.node!=e.text&&(e.node.className="");var t=e.textClass?e.textClass+" "+(e.line.textClass||""):e.line.textClass;e.text.className=t||""}function F(e,t,n,r){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var o=D(t);t.gutterBackground=qo("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px; width: "+r.gutterTotalWidth+"px"),o.insertBefore(t.gutterBackground,t.text)}var i=t.line.gutterMarkers;if(e.options.lineNumbers||i){o=D(t);var a=t.gutter=qo("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px");if(e.display.input.setUneditable(a),o.insertBefore(a,t.text),t.line.gutterClass&&(a.className+=" "+t.line.gutterClass),!e.options.lineNumbers||i&&i["CodeMirror-linenumbers"]||(t.lineNumber=a.appendChild(qo("div",C(e.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+r.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),i)for(var s=0;s<e.options.gutters.length;++s){var l=e.options.gutters[s],c=i.hasOwnProperty(l)&&i[l];c&&a.appendChild(qo("div",[c],"CodeMirror-gutter-elt","left: "+r.gutterLeft[l]+"px; width: "+r.gutterWidth[l]+"px"))}}}function z(e,t,n){t.alignable&&(t.alignable=null);for(var r=t.node.firstChild;r;r=o){var o=r.nextSibling;"CodeMirror-linewidget"==r.className&&t.node.removeChild(r)}U(e,t,n)}function q(e,t,n,r){var o=W(e,t);return t.text=t.node=o.pre,o.bgClass&&(t.bgClass=o.bgClass),o.textClass&&(t.textClass=o.textClass),B(t),F(e,t,n,r),U(e,t,r),t.node}function U(e,t,n){if(G(e,t.line,t,n,!0),t.rest)for(var r=0;r<t.rest.length;r++)G(e,t.rest[r],t,n,!1)}function G(e,t,n,r,o){if(t.widgets)for(var i=D(n),a=0,s=t.widgets;a<s.length;++a){var l=s[a],c=qo("div",[l.node],"CodeMirror-linewidget");l.handleMouseEvents||c.setAttribute("cm-ignore-events","true"),$(l,c,n,r),e.display.input.setUneditable(c),o&&l.above?i.insertBefore(c,n.gutter||n.text):i.appendChild(c),To(l,"redraw")}}function $(e,t,n,r){if(e.noHScroll){(n.alignable||(n.alignable=[])).push(t);var o=r.wrapperWidth;t.style.left=r.fixedPos+"px",e.coverGutter||(o-=r.gutterTotalWidth,t.style.paddingLeft=r.gutterTotalWidth+"px"),t.style.width=o+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-r.gutterTotalWidth+"px"))}function Y(e){return Wi(e.line,e.ch)}function V(e,t){return Hi(e,t)<0?t:e}function X(e,t){return Hi(e,t)<0?e:t}function Q(e){e.state.focused||(e.display.input.focus(),vn(e))}function K(e,t,n,r,o){var i=e.doc;e.display.shift=!1,r||(r=i.sel);var a=e.state.pasteIncoming||"paste"==o,s=i.splitLines(t),l=null;if(a&&r.ranges.length>1)if(Bi&&Bi.text.join("\n")==t){if(r.ranges.length%Bi.text.length==0){l=[];for(var c=0;c<Bi.text.length;c++)l.push(i.splitLines(Bi.text[c]))}}else s.length==r.ranges.length&&(l=Io(s,function(e){return[e]}));for(c=r.ranges.length-1;c>=0;c--){var u=r.ranges[c],d=u.from(),f=u.to();u.empty()&&(n&&n>0?d=Wi(d.line,d.ch-n):e.state.overwrite&&!a?f=Wi(f.line,Math.min(Kr(i,f.line).text.length,f.ch+Mo(s).length)):Bi&&Bi.lineWise&&Bi.text.join("\n")==t&&(d=f=Wi(d.line,0)));var p=e.curOp.updateInput,h={from:d,to:f,text:l?l[c%l.length]:s,origin:o||(a?"paste":e.state.cutIncoming?"cut":"+input")};kn(e.doc,h),To(e,"inputRead",e,h)}t&&!a&&J(e,t),Wn(e),e.curOp.updateInput=p,e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=!1}function Z(e,t){var n=e.clipboardData&&e.clipboardData.getData("text/plain");return n?(e.preventDefault(),t.isReadOnly()||t.options.disableInput||Ot(t,function(){K(t,n,0,null,"paste")}),!0):void 0}function J(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var n=e.doc.sel,r=n.ranges.length-1;r>=0;r--){var o=n.ranges[r];if(!(o.head.ch>100||r&&n.ranges[r-1].head.line==o.head.line)){var i=e.getModeAt(o.head),a=!1;if(i.electricChars){for(var s=0;s<i.electricChars.length;s++)if(t.indexOf(i.electricChars.charAt(s))>-1){a=Bn(e,o.head.line,"smart");break}}else i.electricInput&&i.electricInput.test(Kr(e.doc,o.head.line).text.slice(0,o.head.ch))&&(a=Bn(e,o.head.line,"smart"));a&&To(e,"electricInput",e,o.head.line)}}}function ee(e){for(var t=[],n=[],r=0;r<e.doc.sel.ranges.length;r++){var o=e.doc.sel.ranges[r].head.line,i={anchor:Wi(o,0),head:Wi(o+1,0)};n.push(i),t.push(e.getRange(i.anchor,i.head))}return{text:t,ranges:n}}function te(e){e.setAttribute("autocorrect","off"),e.setAttribute("autocapitalize","off"),e.setAttribute("spellcheck","false")}function ne(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new Ao,this.inaccurateSelection=!1,this.hasSelection=!1,this.composing=null}function re(){var e=qo("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none"),t=qo("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return xi?e.style.width="1000px":e.setAttribute("wrap","off"),Li&&(e.style.border="1px solid black"),te(e),t}function oe(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Ao,this.gracePeriod=!1}function ie(e,t){var n=Je(e,t.line);if(!n||n.hidden)return null;var r=Kr(e.doc,t.line),o=Qe(n,r,t.line),i=oo(r),a="left";i&&(a=ui(i,t.ch)%2?"right":"left");var s=nt(o.map,t.ch,a);return s.offset="right"==s.collapse?s.end:s.start,s}function ae(e,t){return t&&(e.bad=!0),e}function se(e,t,n){var r;if(t==e.display.lineDiv){if(!(r=e.display.lineDiv.childNodes[n]))return ae(e.clipPos(Wi(e.display.viewTo-1)),!0);t=null,n=0}else for(r=t;;r=r.parentNode){if(!r||r==e.display.lineDiv)return null;if(r.parentNode&&r.parentNode==e.display.lineDiv)break}for(var o=0;o<e.display.view.length;o++){var i=e.display.view[o];if(i.node==r)return le(i,t,n)}}function le(e,t,n){function r(t,n,r){for(var o=-1;o<(u?u.length:0);o++)for(var i=0>o?c.map:u[o],a=0;a<i.length;a+=3){var s=i[a+2];if(s==t||s==n){var l=to(0>o?e.line:e.rest[o]),d=i[a]+r;return(0>r||s!=t)&&(d=i[a+(r?1:0)]),Wi(l,d)}}}var o=e.text.firstChild,i=!1;if(!t||!Va(o,t))return ae(Wi(to(e.line),0),!0);if(t==o&&(i=!0,t=o.childNodes[n],n=0,!t)){var a=e.rest?Mo(e.rest):e.line;return ae(Wi(to(a),a.text.length),i)}var s=3==t.nodeType?t:null,l=t;for(s||1!=t.childNodes.length||3!=t.firstChild.nodeType||(s=t.firstChild,n&&(n=s.nodeValue.length));l.parentNode!=o;)l=l.parentNode;var c=e.measure,u=c.maps,d=r(s,l,n);if(d)return ae(d,i);for(var f=l.nextSibling,p=s?s.nodeValue.length-n:0;f;f=f.nextSibling){if(d=r(f,f.firstChild,0))return ae(Wi(d.line,d.ch-p),i);p+=f.textContent.length}var h=l.previousSibling;for(p=n;h;h=h.previousSibling){if(d=r(h,h.firstChild,-1))return ae(Wi(d.line,d.ch+p),i);p+=f.textContent.length}}function ce(e,t,n,r,o){function i(e){return function(t){return t.id==e}}function a(t){if(1==t.nodeType){var n=t.getAttribute("cm-text");if(null!=n)return""==n&&(n=t.textContent.replace(/\u200b/g,"")),void(s+=n);var u,d=t.getAttribute("cm-marker");if(d){var f=e.findMarks(Wi(r,0),Wi(o+1,0),i(+d));return void(f.length&&(u=f[0].find())&&(s+=Zr(e.doc,u.from,u.to).join(c)))}if("false"==t.getAttribute("contenteditable"))return;for(var p=0;p<t.childNodes.length;p++)a(t.childNodes[p]);/^(pre|div|p)$/i.test(t.nodeName)&&(l=!0)}else if(3==t.nodeType){var h=t.nodeValue;if(!h)return;l&&(s+=c,l=!1),s+=h}}for(var s="",l=!1,c=e.doc.lineSeparator();a(t),t!=n;)t=t.nextSibling;return s}function ue(e,t){this.ranges=e,this.primIndex=t}function de(e,t){this.anchor=e,this.head=t}function fe(e,t){var n=e[t];e.sort(function(e,t){return Hi(e.from(),t.from())}),t=Po(e,n);for(var r=1;r<e.length;r++){var o=e[r],i=e[r-1];if(Hi(i.to(),o.from())>=0){var a=X(i.from(),o.from()),s=V(i.to(),o.to()),l=i.empty()?o.from()==o.head:i.from()==i.head;t>=r&&--t,e.splice(--r,2,new de(l?s:a,l?a:s))}}return new ue(e,t)}function pe(e,t){return new ue([new de(e,t||e)],0)}function he(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function me(e,t){if(t.line<e.first)return Wi(e.first,0);var n=e.first+e.size-1;return t.line>n?Wi(n,Kr(e,n).text.length):ge(t,Kr(e,t.line).text.length)}function ge(e,t){var n=e.ch;return null==n||n>t?Wi(e.line,t):0>n?Wi(e.line,0):e}function ve(e,t){return t>=e.first&&t<e.first+e.size}function ye(e,t){for(var n=[],r=0;r<t.length;r++)n[r]=me(e,t[r]);return n}function be(e,t,n,r){if(e.cm&&e.cm.display.shift||e.extend){var o=t.anchor;if(r){var i=Hi(n,o)<0;i!=Hi(r,o)<0?(o=n,n=r):i!=Hi(n,r)<0&&(n=r)}return new de(o,n)}return new de(r||n,n)}function we(e,t,n,r){ke(e,new ue([be(e,e.sel.primary(),t,n)],0),r)}function xe(e,t,n){for(var r=[],o=0;o<e.sel.ranges.length;o++)r[o]=be(e,e.sel.ranges[o],t[o],null);ke(e,fe(r,e.sel.primIndex),n)}function Se(e,t,n,r){var o=e.sel.ranges.slice(0);o[t]=n,ke(e,fe(o,e.sel.primIndex),r)}function Ce(e,t,n,r){ke(e,pe(t,n),r)}function Ee(e,t,n){var r={ranges:t.ranges,update:function(t){this.ranges=[];for(var n=0;n<t.length;n++)this.ranges[n]=new de(me(e,t[n].anchor),me(e,t[n].head))},origin:n&&n.origin};return Ma(e,"beforeSelectionChange",e,r),e.cm&&Ma(e.cm,"beforeSelectionChange",e.cm,r),r.ranges!=t.ranges?fe(r.ranges,r.ranges.length-1):t}function Te(e,t,n){var r=e.history.done,o=Mo(r);o&&o.ranges?(r[r.length-1]=t,je(e,t,n)):ke(e,t,n)}function ke(e,t,n){je(e,t,n),fo(e,e.sel,e.cm?e.cm.curOp.id:NaN,n)}function je(e,t,n){(Oo(e,"beforeSelectionChange")||e.cm&&Oo(e.cm,"beforeSelectionChange"))&&(t=Ee(e,t,n)),Le(e,_e(e,t,n&&n.bias||(Hi(t.primary().head,e.sel.primary().head)<0?-1:1),!0)),n&&!1===n.scroll||!e.cm||Wn(e.cm)}function Le(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=e.cm.curOp.selectionChanged=!0,Lo(e.cm)),To(e,"cursorActivity",e))}function Oe(e){Le(e,_e(e,e.sel,null,!1),Ra)}function _e(e,t,n,r){for(var o,i=0;i<t.ranges.length;i++){var a=t.ranges[i],s=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[i],l=Ne(e,a.anchor,s&&s.anchor,n,r),c=Ne(e,a.head,s&&s.head,n,r);(o||l!=a.anchor||c!=a.head)&&(o||(o=t.ranges.slice(0,i)),o[i]=new de(l,c))}return o?fe(o,t.primIndex):t}function Ae(e,t,n,r,o){var i=Kr(e,t.line);if(i.markedSpans)for(var a=0;a<i.markedSpans.length;++a){var s=i.markedSpans[a],l=s.marker;if((null==s.from||(l.inclusiveLeft?s.from<=t.ch:s.from<t.ch))&&(null==s.to||(l.inclusiveRight?s.to>=t.ch:s.to>t.ch))){if(o&&(Ma(l,"beforeCursorEnter"),l.explicitlyCleared)){if(i.markedSpans){--a;continue}break}if(!l.atomic)continue;if(n){var c,u=l.find(0>r?1:-1);if((0>r?l.inclusiveRight:l.inclusiveLeft)&&(u=Me(e,u,-r,u&&u.line==t.line?i:null)),u&&u.line==t.line&&(c=Hi(u,n))&&(0>r?0>c:c>0))return Ae(e,u,t,r,o)}var d=l.find(0>r?-1:1);return(0>r?l.inclusiveLeft:l.inclusiveRight)&&(d=Me(e,d,r,d.line==t.line?i:null)),d?Ae(e,d,t,r,o):null}}return t}function Ne(e,t,n,r,o){var i=r||1,a=Ae(e,t,n,i,o)||!o&&Ae(e,t,n,i,!0)||Ae(e,t,n,-i,o)||!o&&Ae(e,t,n,-i,!0);return a||(e.cantEdit=!0,Wi(e.first,0))}function Me(e,t,n,r){return 0>n&&0==t.ch?t.line>e.first?me(e,Wi(t.line-1)):null:n>0&&t.ch==(r||Kr(e,t.line)).text.length?t.line<e.first+e.size-1?Wi(t.line+1,0):null:new Wi(t.line,t.ch+n)}function Pe(e){e.display.input.showSelection(e.display.input.prepareSelection())}function Ie(e,t){for(var n=e.doc,r={},o=r.cursors=document.createDocumentFragment(),i=r.selection=document.createDocumentFragment(),a=0;a<n.sel.ranges.length;a++)if(!1!==t||a!=n.sel.primIndex){var s=n.sel.ranges[a];if(!(s.from().line>=e.display.viewTo||s.to().line<e.display.viewFrom)){var l=s.empty();(l||e.options.showCursorWhenSelecting)&&De(e,s.head,o),l||Re(e,s,i)}}return r}function De(e,t,n){var r=pt(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),o=n.appendChild(qo("div"," ","CodeMirror-cursor"));if(o.style.left=r.left+"px",o.style.top=r.top+"px",o.style.height=Math.max(0,r.bottom-r.top)*e.options.cursorHeight+"px",r.other){var i=n.appendChild(qo("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));i.style.display="",i.style.left=r.other.left+"px",i.style.top=r.other.top+"px",i.style.height=.85*(r.other.bottom-r.other.top)+"px"}}function Re(e,t,n){function r(e,t,n,r){0>t&&(t=0),t=Math.round(t),r=Math.round(r),s.appendChild(qo("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px; top: "+t+"px; width: "+(null==n?u-e:n)+"px; height: "+(r-t)+"px"))}function o(t,n,o){function i(n,r){return ft(e,Wi(t,n),"div",d,r)}var s,l,d=Kr(a,t),f=d.text.length;return ti(oo(d),n||0,null==o?f:o,function(e,t,a){var d,p,h,m=i(e,"left");if(e==t)d=m,p=h=m.left;else{if(d=i(t-1,"right"),"rtl"==a){var g=m;m=d,d=g}p=m.left,h=d.right}null==n&&0==e&&(p=c),d.top-m.top>3&&(r(p,m.top,null,m.bottom),p=c,m.bottom<d.top&&r(p,m.bottom,null,d.top)),null==o&&t==f&&(h=u),(!s||m.top<s.top||m.top==s.top&&m.left<s.left)&&(s=m),(!l||d.bottom>l.bottom||d.bottom==l.bottom&&d.right>l.right)&&(l=d),c+1>p&&(p=c),r(p,d.top,h-p,d.bottom)}),{start:s,end:l}}var i=e.display,a=e.doc,s=document.createDocumentFragment(),l=Ge(e.display),c=l.left,u=Math.max(i.sizerWidth,Ye(e)-i.sizer.offsetLeft)-l.right,d=t.from(),f=t.to();if(d.line==f.line)o(d.line,d.ch,f.ch);else{var p=Kr(a,d.line),h=Kr(a,f.line),m=yr(p)==yr(h),g=o(d.line,d.ch,m?p.text.length+1:null).end,v=o(f.line,m?0:null,f.ch).start;m&&(g.top<v.top-2?(r(g.right,g.top,null,g.bottom),r(c,v.top,v.left,v.bottom)):r(g.right,g.top,v.left-g.right,g.bottom)),g.bottom<v.top&&r(c,g.bottom,null,v.top)}n.appendChild(s)}function We(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var n=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval(function(){t.cursorDiv.style.visibility=(n=!n)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function He(e,t){e.doc.mode.startState&&e.doc.frontier<e.display.viewTo&&e.state.highlight.set(t,Ho(Be,e))}function Be(e){var t=e.doc;if(t.frontier<t.first&&(t.frontier=t.first),!(t.frontier>=e.display.viewTo)){var n=+new Date+e.options.workTime,r=la(t.mode,ze(e,t.frontier)),o=[];t.iter(t.frontier,Math.min(t.first+t.size,e.display.viewTo+500),function(i){if(t.frontier>=e.display.viewFrom){var a=i.styles,s=i.text.length>e.options.maxHighlightLength,l=Pr(e,i,s?la(t.mode,r):r,!0);i.styles=l.styles;var c=i.styleClasses,u=l.classes;u?i.styleClasses=u:c&&(i.styleClasses=null);for(var d=!a||a.length!=i.styles.length||c!=u&&(!c||!u||c.bgClass!=u.bgClass||c.textClass!=u.textClass),f=0;!d&&f<a.length;++f)d=a[f]!=i.styles[f];d&&o.push(t.frontier),i.stateAfter=s?r:la(t.mode,r)}else i.text.length<=e.options.maxHighlightLength&&Dr(e,i.text,r),i.stateAfter=t.frontier%5==0?la(t.mode,r):null;return++t.frontier,+new Date>n?(He(e,e.options.workDelay),!0):void 0}),o.length&&Ot(e,function(){for(var t=0;t<o.length;t++)Dt(e,o[t],"text")})}}function Fe(e,t,n){for(var r,o,i=e.doc,a=n?-1:t-(e.doc.mode.innerMode?1e3:100),s=t;s>a;--s){if(s<=i.first)return i.first;var l=Kr(i,s-1);if(l.stateAfter&&(!n||s<=i.frontier))return s;var c=Ba(l.text,null,e.options.tabSize);(null==o||r>c)&&(o=s-1,r=c)}return o}function ze(e,t,n){var r=e.doc,o=e.display;if(!r.mode.startState)return!0;var i=Fe(e,t,n),a=i>r.first&&Kr(r,i-1).stateAfter;return a=a?la(r.mode,a):ca(r.mode),r.iter(i,t,function(n){Dr(e,n.text,a);var s=i==t-1||i%5==0||i>=o.viewFrom&&i<o.viewTo;n.stateAfter=s?la(r.mode,a):null,++i}),n&&(r.frontier=i),a}function qe(e){return e.lineSpace.offsetTop}function Ue(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function Ge(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=Go(e.measure,qo("pre","x")),n=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,r={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};return isNaN(r.left)||isNaN(r.right)||(e.cachedPaddingH=r),r}function $e(e){return Ia-e.display.nativeBarWidth}function Ye(e){return e.display.scroller.clientWidth-$e(e)-e.display.barWidth}function Ve(e){return e.display.scroller.clientHeight-$e(e)-e.display.barHeight}function Xe(e,t,n){var r=e.options.lineWrapping,o=r&&Ye(e);if(!t.measure.heights||r&&t.measure.width!=o){var i=t.measure.heights=[];if(r){t.measure.width=o;for(var a=t.text.firstChild.getClientRects(),s=0;s<a.length-1;s++){var l=a[s],c=a[s+1];Math.abs(l.bottom-c.bottom)>2&&i.push((l.bottom+c.top)/2-n.top)}}i.push(n.bottom-n.top)}}function Qe(e,t,n){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var r=0;r<e.rest.length;r++)if(e.rest[r]==t)return{map:e.measure.maps[r],cache:e.measure.caches[r]};for(r=0;r<e.rest.length;r++)if(to(e.rest[r])>n)return{map:e.measure.maps[r],cache:e.measure.caches[r],before:!0}}function Ke(e,t){var n=to(t=yr(t)),r=e.display.externalMeasured=new Mt(e.doc,t,n);r.lineN=n;var o=r.built=Wr(e,r);return r.text=o.pre,Go(e.display.lineMeasure,o.pre),r}function Ze(e,t,n,r){return tt(e,et(e,t),n,r)}function Je(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[Wt(e,t)];var n=e.display.externalMeasured;return n&&t>=n.lineN&&t<n.lineN+n.size?n:void 0}function et(e,t){var n=to(t),r=Je(e,n);r&&!r.text?r=null:r&&r.changes&&(I(e,r,n,M(e)),e.curOp.forceUpdate=!0),r||(r=Ke(e,t));var o=Qe(r,t,n);return{line:t,view:r,rect:null,map:o.map,cache:o.cache,before:o.before,hasHeights:!1}}function tt(e,t,n,r,o){t.before&&(n=-1);var i,a=n+(r||"");return t.cache.hasOwnProperty(a)?i=t.cache[a]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(Xe(e,t.view,t.rect),t.hasHeights=!0),(i=rt(e,t,n,r)).bogus||(t.cache[a]=i)),{left:i.left,right:i.right,top:o?i.rtop:i.top,bottom:o?i.rbottom:i.bottom}}function nt(e,t,n){for(var r,o,i,a,s=0;s<e.length;s+=3){var l=e[s],c=e[s+1];if(l>t?(o=0,i=1,a="left"):c>t?i=(o=t-l)+1:(s==e.length-3||t==c&&e[s+3]>t)&&(o=(i=c-l)-1,t>=c&&(a="right")),null!=o){if(r=e[s+2],l==c&&n==(r.insertLeft?"left":"right")&&(a=n),
"left"==n&&0==o)for(;s&&e[s-2]==e[s-3]&&e[s-1].insertLeft;)r=e[2+(s-=3)],a="left";if("right"==n&&o==c-l)for(;s<e.length-3&&e[s+3]==e[s+4]&&!e[s+5].insertLeft;)r=e[(s+=3)+2],a="right";break}}return{node:r,start:o,end:i,collapse:a,coverStart:l,coverEnd:c}}function rt(e,t,n,r){var o,i=nt(t.map,n,r),a=i.node,s=i.start,l=i.end,c=i.collapse;if(3==a.nodeType){for(var u=0;4>u;u++){for(;s&&zo(t.line.text.charAt(i.coverStart+s));)--s;for(;i.coverStart+l<i.coverEnd&&zo(t.line.text.charAt(i.coverStart+l));)++l;if(bi&&9>wi&&0==s&&l==i.coverEnd-i.coverStart)o=a.parentNode.getBoundingClientRect();else if(bi&&e.options.lineWrapping){o=(d=Ua(a,s,l).getClientRects()).length?d["right"==r?d.length-1:0]:Ui}else o=Ua(a,s,l).getBoundingClientRect()||Ui;if(o.left||o.right||0==s)break;l=s,s-=1,c="right"}bi&&11>wi&&(o=ot(e.display.measure,o))}else{var d;s>0&&(c=r="right"),o=e.options.lineWrapping&&(d=a.getClientRects()).length>1?d["right"==r?d.length-1:0]:a.getBoundingClientRect()}if(bi&&9>wi&&!s&&(!o||!o.left&&!o.right)){var f=a.parentNode.getClientRects()[0];o=f?{left:f.left,right:f.left+bt(e.display),top:f.top,bottom:f.bottom}:Ui}var p=o.top-t.rect.top,h=o.bottom-t.rect.top,m=(p+h)/2,g=t.view.measure.heights;for(u=0;u<g.length-1&&!(m<g[u]);u++);var v=u?g[u-1]:0,y=g[u],b={left:("right"==c?o.right:o.left)-t.rect.left,right:("left"==c?o.left:o.right)-t.rect.left,top:v,bottom:y};return o.left||o.right||(b.bogus=!0),e.options.singleCursorHeightPerLine||(b.rtop=p,b.rbottom=h),b}function ot(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!ei(e))return t;var n=screen.logicalXDPI/screen.deviceXDPI,r=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*n,right:t.right*n,top:t.top*r,bottom:t.bottom*r}}function it(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function at(e){e.display.externalMeasure=null,Uo(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)it(e.display.view[t])}function st(e){at(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function lt(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function ct(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function ut(e,t,n,r){if(t.widgets)for(var o=0;o<t.widgets.length;++o)if(t.widgets[o].above){var i=Tr(t.widgets[o]);n.top+=i,n.bottom+=i}if("line"==r)return n;r||(r="local");var a=ro(t);if("local"==r?a+=qe(e.display):a-=e.display.viewOffset,"page"==r||"window"==r){var s=e.display.lineSpace.getBoundingClientRect();a+=s.top+("window"==r?0:ct());var l=s.left+("window"==r?0:lt());n.left+=l,n.right+=l}return n.top+=a,n.bottom+=a,n}function dt(e,t,n){if("div"==n)return t;var r=t.left,o=t.top;if("page"==n)r-=lt(),o-=ct();else if("local"==n||!n){var i=e.display.sizer.getBoundingClientRect();r+=i.left,o+=i.top}var a=e.display.lineSpace.getBoundingClientRect();return{left:r-a.left,top:o-a.top}}function ft(e,t,n,r,o){return r||(r=Kr(e.doc,t.line)),ut(e,r,Ze(e,r,t.ch,o),n)}function pt(e,t,n,r,o,i){function a(t,a){var s=tt(e,o,t,a?"right":"left",i);return a?s.left=s.right:s.right=s.left,ut(e,r,s,n)}function s(e,t){var n=l[t],r=n.level%2;return e==ni(n)&&t&&n.level<l[t-1].level?(e=ri(n=l[--t])-(n.level%2?0:1),r=!0):e==ri(n)&&t<l.length-1&&n.level<l[t+1].level&&(e=ni(n=l[++t])-n.level%2,r=!1),r&&e==n.to&&e>n.from?a(e-1):a(e,r)}r=r||Kr(e.doc,t.line),o||(o=et(e,r));var l=oo(r),c=t.ch;if(!l)return a(c);var u=s(c,ui(l,c));return null!=as&&(u.other=s(c,as)),u}function ht(e,t){var n=0;t=me(e.doc,t);e.options.lineWrapping||(n=bt(e.display)*t.ch);var r=Kr(e.doc,t.line),o=ro(r)+qe(e.display);return{left:n,right:n,top:o,bottom:o+r.height}}function mt(e,t,n,r){var o=Wi(e,t);return o.xRel=r,n&&(o.outside=!0),o}function gt(e,t,n){var r=e.doc;if(0>(n+=e.display.viewOffset))return mt(r.first,0,!0,-1);var o=no(r,n),i=r.first+r.size-1;if(o>i)return mt(r.first+r.size-1,Kr(r,i).text.length,!0,1);0>t&&(t=0);for(var a=Kr(r,o);;){var s=vt(e,a,o,t,n),l=gr(a),c=l&&l.find(0,!0);if(!l||!(s.ch>c.from.ch||s.ch==c.from.ch&&s.xRel>0))return s;o=to(a=c.to.line)}}function vt(e,t,n,r,o){function i(r){var o=pt(e,Wi(n,r),"line",t,c);return s=!0,a>o.bottom?o.left-l:a<o.top?o.left+l:(s=!1,o.left)}var a=o-ro(t),s=!1,l=2*e.display.wrapper.clientWidth,c=et(e,t),u=oo(t),d=t.text.length,f=oi(t),p=ii(t),h=i(f),m=s,g=i(p),v=s;if(r>g)return mt(n,p,v,1);for(;;){if(u?p==f||p==fi(t,f,1):1>=p-f){for(var y=h>r||g-r>=r-h?f:p,b=r-(y==f?h:g);zo(t.text.charAt(y));)++y;return mt(n,y,y==f?m:v,-1>b?-1:b>1?1:0)}var w=Math.ceil(d/2),x=f+w;if(u){x=f;for(var S=0;w>S;++S)x=fi(t,x,1)}var C=i(x);C>r?(p=x,g=C,(v=s)&&(g+=1e3),d=w):(f=x,h=C,m=s,d-=w)}}function yt(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==Fi){Fi=qo("pre");for(var t=0;49>t;++t)Fi.appendChild(document.createTextNode("x")),Fi.appendChild(qo("br"));Fi.appendChild(document.createTextNode("x"))}Go(e.measure,Fi);var n=Fi.offsetHeight/50;return n>3&&(e.cachedTextHeight=n),Uo(e.measure),n||1}function bt(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=qo("span","xxxxxxxxxx"),n=qo("pre",[t]);Go(e.measure,n);var r=t.getBoundingClientRect(),o=(r.right-r.left)/10;return o>2&&(e.cachedCharWidth=o),o||10}function wt(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++$i},Gi?Gi.ops.push(e.curOp):e.curOp.ownsGroup=Gi={ops:[e.curOp],delayedCallbacks:[]}}function xt(e){var t=e.delayedCallbacks,n=0;do{for(;n<t.length;n++)t[n].call(null);for(var r=0;r<e.ops.length;r++){var o=e.ops[r];if(o.cursorActivityHandlers)for(;o.cursorActivityCalled<o.cursorActivityHandlers.length;)o.cursorActivityHandlers[o.cursorActivityCalled++].call(null,o.cm)}}while(n<t.length)}function St(e){var t=e.curOp.ownsGroup;if(t)try{xt(t)}finally{Gi=null;for(var n=0;n<t.ops.length;n++)t.ops[n].cm.curOp=null;Ct(t)}}function Ct(e){for(var t=e.ops,n=0;n<t.length;n++)Et(t[n]);for(n=0;n<t.length;n++)Tt(t[n]);for(n=0;n<t.length;n++)kt(t[n]);for(n=0;n<t.length;n++)jt(t[n]);for(n=0;n<t.length;n++)Lt(t[n])}function Et(e){var t=e.cm,n=t.display;k(t),e.updateMaxLine&&f(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<n.viewFrom||e.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new T(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function Tt(e){e.updatedDisplay=e.mustUpdate&&j(e.cm,e.update)}function kt(e){var t=e.cm,n=t.display;e.updatedDisplay&&A(t),e.barMeasure=h(t),n.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=Ze(t,n.maxLine,n.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+e.adjustWidthTo+$e(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+e.adjustWidthTo-Ye(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=n.input.prepareSelection(e.focus))}function jt(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&on(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var n=e.focus&&e.focus==$o()&&(!document.hasFocus||document.hasFocus());e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,n),(e.updatedDisplay||e.startHeight!=t.doc.height)&&y(t,e.barMeasure),e.updatedDisplay&&_(t,e.barMeasure),e.selectionChanged&&We(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),n&&Q(e.cm)}function Lt(e){var t=e.cm,n=t.display,r=t.doc;if(e.updatedDisplay&&L(t,e.update),null==n.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null==e.scrollTop||n.scroller.scrollTop==e.scrollTop&&!e.forceScroll||(r.scrollTop=Math.max(0,Math.min(n.scroller.scrollHeight-n.scroller.clientHeight,e.scrollTop)),n.scrollbars.setScrollTop(r.scrollTop),n.scroller.scrollTop=r.scrollTop),null==e.scrollLeft||n.scroller.scrollLeft==e.scrollLeft&&!e.forceScroll||(r.scrollLeft=Math.max(0,Math.min(n.scroller.scrollWidth-n.scroller.clientWidth,e.scrollLeft)),n.scrollbars.setScrollLeft(r.scrollLeft),n.scroller.scrollLeft=r.scrollLeft,x(t)),e.scrollToPos){var o=Pn(t,me(r,e.scrollToPos.from),me(r,e.scrollToPos.to),e.scrollToPos.margin);e.scrollToPos.isCursor&&t.state.focused&&Mn(t,o)}var i=e.maybeHiddenMarkers,a=e.maybeUnhiddenMarkers;if(i)for(var s=0;s<i.length;++s)i[s].lines.length||Ma(i[s],"hide");if(a)for(s=0;s<a.length;++s)a[s].lines.length&&Ma(a[s],"unhide");n.wrapper.offsetHeight&&(r.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&Ma(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function Ot(e,t){if(e.curOp)return t();wt(e);try{return t()}finally{St(e)}}function _t(e,t){return function(){if(e.curOp)return t.apply(e,arguments);wt(e);try{return t.apply(e,arguments)}finally{St(e)}}}function At(e){return function(){if(this.curOp)return e.apply(this,arguments);wt(this);try{return e.apply(this,arguments)}finally{St(this)}}}function Nt(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);wt(t);try{return e.apply(this,arguments)}finally{St(t)}}}function Mt(e,t,n){this.line=t,this.rest=br(t),this.size=this.rest?to(Mo(this.rest))-n+1:1,this.node=this.text=null,this.hidden=Sr(e,t)}function Pt(e,t,n){for(var r,o=[],i=t;n>i;i=r){var a=new Mt(e.doc,Kr(e.doc,i),i);r=i+a.size,o.push(a)}return o}function It(e,t,n,r){null==t&&(t=e.doc.first),null==n&&(n=e.doc.first+e.doc.size),r||(r=0);var o=e.display;if(r&&n<o.viewTo&&(null==o.updateLineNumbers||o.updateLineNumbers>t)&&(o.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=o.viewTo)Ri&&wr(e.doc,t)<o.viewTo&&Rt(e);else if(n<=o.viewFrom)Ri&&xr(e.doc,n+r)>o.viewFrom?Rt(e):(o.viewFrom+=r,o.viewTo+=r);else if(t<=o.viewFrom&&n>=o.viewTo)Rt(e);else if(t<=o.viewFrom){(i=Ht(e,n,n+r,1))?(o.view=o.view.slice(i.index),o.viewFrom=i.lineN,o.viewTo+=r):Rt(e)}else if(n>=o.viewTo){var i;(i=Ht(e,t,t,-1))?(o.view=o.view.slice(0,i.index),o.viewTo=i.lineN):Rt(e)}else{var a=Ht(e,t,t,-1),s=Ht(e,n,n+r,1);a&&s?(o.view=o.view.slice(0,a.index).concat(Pt(e,a.lineN,s.lineN)).concat(o.view.slice(s.index)),o.viewTo+=r):Rt(e)}var l=o.externalMeasured;l&&(n<l.lineN?l.lineN+=r:t<l.lineN+l.size&&(o.externalMeasured=null))}function Dt(e,t,n){e.curOp.viewChanged=!0;var r=e.display,o=e.display.externalMeasured;if(o&&t>=o.lineN&&t<o.lineN+o.size&&(r.externalMeasured=null),!(t<r.viewFrom||t>=r.viewTo)){var i=r.view[Wt(e,t)];if(null!=i.node){var a=i.changes||(i.changes=[]);-1==Po(a,n)&&a.push(n)}}}function Rt(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function Wt(e,t){if(t>=e.display.viewTo)return null;if(0>(t-=e.display.viewFrom))return null;for(var n=e.display.view,r=0;r<n.length;r++)if(0>(t-=n[r].size))return r}function Ht(e,t,n,r){var o,i=Wt(e,t),a=e.display.view;if(!Ri||n==e.doc.first+e.doc.size)return{index:i,lineN:n};for(var s=0,l=e.display.viewFrom;i>s;s++)l+=a[s].size;if(l!=t){if(r>0){if(i==a.length-1)return null;o=l+a[i].size-t,i++}else o=l-t;t+=o,n+=o}for(;wr(e.doc,n)!=n;){if(i==(0>r?0:a.length-1))return null;n+=r*a[i-(0>r?1:0)].size,i+=r}return{index:i,lineN:n}}function Bt(e,t,n){var r=e.display;0==r.view.length||t>=r.viewTo||n<=r.viewFrom?(r.view=Pt(e,t,n),r.viewFrom=t):(r.viewFrom>t?r.view=Pt(e,t,r.viewFrom).concat(r.view):r.viewFrom<t&&(r.view=r.view.slice(Wt(e,t))),r.viewFrom=t,r.viewTo<n?r.view=r.view.concat(Pt(e,r.viewTo,n)):r.viewTo>n&&(r.view=r.view.slice(0,Wt(e,n)))),r.viewTo=n}function Ft(e){for(var t=e.display.view,n=0,r=0;r<t.length;r++){var o=t[r];o.hidden||o.node&&!o.changes||++n}return n}function zt(e){function t(){o.activeTouch&&(i=setTimeout(function(){o.activeTouch=null},1e3),(a=o.activeTouch).end=+new Date)}function n(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}function r(e,t){if(null==t.left)return!0;var n=t.left-e.left,r=t.top-e.top;return n*n+r*r>400}var o=e.display;_a(o.scroller,"mousedown",_t(e,Yt)),_a(o.scroller,"dblclick",bi&&11>wi?_t(e,function(t){if(!jo(e,t)){var n=$t(e,t);if(n&&!Zt(e,t)&&!Gt(e.display,t)){ja(t);var r=e.findWordAt(n);we(e.doc,r.anchor,r.head)}}}):function(t){jo(e,t)||ja(t)}),Ii||_a(o.scroller,"contextmenu",function(t){bn(e,t)});var i,a={end:0};_a(o.scroller,"touchstart",function(t){if(!jo(e,t)&&!n(t)){clearTimeout(i);var r=+new Date;o.activeTouch={start:r,moved:!1,prev:r-a.end<=300?a:null},1==t.touches.length&&(o.activeTouch.left=t.touches[0].pageX,o.activeTouch.top=t.touches[0].pageY)}}),_a(o.scroller,"touchmove",function(){o.activeTouch&&(o.activeTouch.moved=!0)}),_a(o.scroller,"touchend",function(n){var i=o.activeTouch;if(i&&!Gt(o,n)&&null!=i.left&&!i.moved&&new Date-i.start<300){var a,s=e.coordsChar(o.activeTouch,"page");a=!i.prev||r(i,i.prev)?new de(s,s):!i.prev.prev||r(i,i.prev.prev)?e.findWordAt(s):new de(Wi(s.line,0),me(e.doc,Wi(s.line+1,0))),e.setSelection(a.anchor,a.head),e.focus(),ja(n)}t()}),_a(o.scroller,"touchcancel",t),_a(o.scroller,"scroll",function(){o.scroller.clientHeight&&(rn(e,o.scroller.scrollTop),on(e,o.scroller.scrollLeft,!0),Ma(e,"scroll",e))}),_a(o.scroller,"mousewheel",function(t){an(e,t)}),_a(o.scroller,"DOMMouseScroll",function(t){an(e,t)}),_a(o.wrapper,"scroll",function(){o.wrapper.scrollTop=o.wrapper.scrollLeft=0}),o.dragFunctions={enter:function(t){jo(e,t)||Oa(t)},over:function(t){jo(e,t)||(tn(e,t),Oa(t))},start:function(t){en(e,t)},drop:_t(e,Jt),leave:function(t){jo(e,t)||nn(e)}};var s=o.input.getField();_a(s,"keyup",function(t){hn.call(e,t)}),_a(s,"keydown",_t(e,fn)),_a(s,"keypress",_t(e,mn)),_a(s,"focus",Ho(vn,e)),_a(s,"blur",Ho(yn,e))}function qt(t,n,r){if(!n!=!(r&&r!=e.Init)){var o=t.display.dragFunctions,i=n?_a:Na;i(t.display.scroller,"dragstart",o.start),i(t.display.scroller,"dragenter",o.enter),i(t.display.scroller,"dragover",o.over),i(t.display.scroller,"dragleave",o.leave),i(t.display.scroller,"drop",o.drop)}}function Ut(e){var t=e.display;t.lastWrapHeight==t.wrapper.clientHeight&&t.lastWrapWidth==t.wrapper.clientWidth||(t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize())}function Gt(e,t){for(var n=So(t);n!=e.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==e.sizer&&n!=e.mover)return!0}function $t(e,t,n,r){var o=e.display;if(!n&&"true"==So(t).getAttribute("cm-not-content"))return null;var i,a,s=o.lineSpace.getBoundingClientRect();try{i=t.clientX-s.left,a=t.clientY-s.top}catch(t){return null}var l,c=gt(e,i,a);if(r&&1==c.xRel&&(l=Kr(e.doc,c.line).text).length==c.ch){var u=Ba(l,l.length,e.options.tabSize)-l.length;c=Wi(c.line,Math.max(0,Math.round((i-Ge(e.display).left)/bt(e.display))-u))}return c}function Yt(e){var t=this,n=t.display;if(!(jo(t,e)||n.activeTouch&&n.input.supportsTouch())){if(n.shift=e.shiftKey,Gt(n,e))return void(xi||(n.scroller.draggable=!1,setTimeout(function(){n.scroller.draggable=!0},100)));if(!Zt(t,e)){var r=$t(t,e);switch(window.focus(),Co(e)){case 1:t.state.selectingText?t.state.selectingText(e):r?Vt(t,e,r):So(e)==n.scroller&&ja(e);break;case 2:xi&&(t.state.lastMiddleDown=+new Date),r&&we(t.doc,r),setTimeout(function(){n.input.focus()},20),ja(e);break;case 3:Ii?bn(t,e):gn(t)}}}}function Vt(e,t,n){bi?setTimeout(Ho(Q,e),0):e.curOp.focus=$o();var r,o=+new Date;qi&&qi.time>o-400&&0==Hi(qi.pos,n)?r="triple":zi&&zi.time>o-400&&0==Hi(zi.pos,n)?(r="double",qi={time:o,pos:n}):(r="single",zi={time:o,pos:n});var i,a=e.doc.sel,s=_i?t.metaKey:t.ctrlKey;e.options.dragDrop&&es&&!e.isReadOnly()&&"single"==r&&(i=a.contains(n))>-1&&(Hi((i=a.ranges[i]).from(),n)<0||n.xRel>0)&&(Hi(i.to(),n)>0||n.xRel<0)?Xt(e,t,n,s):Qt(e,t,n,r,s)}function Xt(e,t,n,r){var o=e.display,i=+new Date,a=_t(e,function(s){xi&&(o.scroller.draggable=!1),e.state.draggingText=!1,Na(document,"mouseup",a),Na(o.scroller,"drop",a),Math.abs(t.clientX-s.clientX)+Math.abs(t.clientY-s.clientY)<10&&(ja(s),!r&&+new Date-200<i&&we(e.doc,n),xi||bi&&9==wi?setTimeout(function(){document.body.focus(),o.input.focus()},20):o.input.focus())});xi&&(o.scroller.draggable=!0),e.state.draggingText=a,o.scroller.dragDrop&&o.scroller.dragDrop(),_a(document,"mouseup",a),_a(o.scroller,"drop",a)}function Qt(e,t,n,r,o){function i(t){if(0!=Hi(g,t))if(g=t,"rect"==r){for(var o=[],i=e.options.tabSize,a=Ba(Kr(c,n.line).text,n.ch,i),s=Ba(Kr(c,t.line).text,t.ch,i),l=Math.min(a,s),p=Math.max(a,s),h=Math.min(n.line,t.line),m=Math.min(e.lastLine(),Math.max(n.line,t.line));m>=h;h++){var v=Kr(c,h).text,y=Fa(v,l,i);l==p?o.push(new de(Wi(h,y),Wi(h,y))):v.length>y&&o.push(new de(Wi(h,y),Wi(h,Fa(v,p,i))))}o.length||o.push(new de(n,n)),ke(c,fe(f.ranges.slice(0,d).concat(o),d),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var b=u,w=b.anchor,x=t;if("single"!=r){if("double"==r)var S=e.findWordAt(t);else S=new de(Wi(t.line,0),me(c,Wi(t.line+1,0)));Hi(S.anchor,w)>0?(x=S.head,w=X(b.from(),S.anchor)):(x=S.anchor,w=V(b.to(),S.head))}(o=f.ranges.slice(0))[d]=new de(me(c,w),x),ke(c,fe(o,d),Wa)}}function a(t){var n=++y,o=$t(e,t,!0,"rect"==r);if(o)if(0!=Hi(o,g)){e.curOp.focus=$o(),i(o);var s=w(l,c);(o.line>=s.to||o.line<s.from)&&setTimeout(_t(e,function(){y==n&&a(t)}),150)}else{var u=t.clientY<v.top?-20:t.clientY>v.bottom?20:0;u&&setTimeout(_t(e,function(){y==n&&(l.scroller.scrollTop+=u,a(t))}),50)}}function s(t){e.state.selectingText=!1,y=1/0,ja(t),l.input.focus(),Na(document,"mousemove",b),Na(document,"mouseup",x),c.history.lastSelOrigin=null}var l=e.display,c=e.doc;ja(t);var u,d,f=c.sel,p=f.ranges;if(o&&!t.shiftKey?(d=c.sel.contains(n),u=d>-1?p[d]:new de(n,n)):(u=c.sel.primary(),d=c.sel.primIndex),Ai?t.shiftKey&&t.metaKey:t.altKey)r="rect",o||(u=new de(n,n)),n=$t(e,t,!0,!0),d=-1;else if("double"==r){var h=e.findWordAt(n);u=e.display.shift||c.extend?be(c,u,h.anchor,h.head):h}else if("triple"==r){var m=new de(Wi(n.line,0),me(c,Wi(n.line+1,0)));u=e.display.shift||c.extend?be(c,u,m.anchor,m.head):m}else u=be(c,u,n);o?-1==d?(d=p.length,ke(c,fe(p.concat([u]),d),{scroll:!1,origin:"*mouse"})):p.length>1&&p[d].empty()&&"single"==r&&!t.shiftKey?(ke(c,fe(p.slice(0,d).concat(p.slice(d+1)),0),{scroll:!1,origin:"*mouse"}),f=c.sel):Se(c,d,u,Wa):(d=0,ke(c,new ue([u],0),Wa),f=c.sel);var g=n,v=l.wrapper.getBoundingClientRect(),y=0,b=_t(e,function(e){Co(e)?a(e):s(e)}),x=_t(e,s);e.state.selectingText=x,_a(document,"mousemove",b),_a(document,"mouseup",x)}function Kt(e,t,n,r){try{var o=t.clientX,i=t.clientY}catch(t){return!1}if(o>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;r&&ja(t);var a=e.display,s=a.lineDiv.getBoundingClientRect();if(i>s.bottom||!Oo(e,n))return xo(t);i-=s.top-a.viewOffset;for(var l=0;l<e.options.gutters.length;++l){var c=a.gutters.childNodes[l];if(c&&c.getBoundingClientRect().right>=o){var u=no(e.doc,i),d=e.options.gutters[l];return Ma(e,n,e,u,d,t),xo(t)}}}function Zt(e,t){return Kt(e,t,"gutterClick",!0)}function Jt(e){var t=this;if(nn(t),!jo(t,e)&&!Gt(t.display,e)){ja(e),bi&&(Yi=+new Date);var n=$t(t,e,!0),r=e.dataTransfer.files;if(n&&!t.isReadOnly())if(r&&r.length&&window.FileReader&&window.File)for(var o=r.length,i=Array(o),a=0,s=function(e,r){if(!t.options.allowDropFileTypes||-1!=Po(t.options.allowDropFileTypes,e.type)){var s=new FileReader;s.onload=_t(t,function(){var e=s.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(e)&&(e=""),i[r]=e,++a==o){var l={from:n=me(t.doc,n),to:n,text:t.doc.splitLines(i.join(t.doc.lineSeparator())),origin:"paste"};kn(t.doc,l),Te(t.doc,pe(n,Ji(l)))}}),s.readAsText(e)}},l=0;o>l;++l)s(r[l],l);else{if(t.state.draggingText&&t.doc.sel.contains(n)>-1)return t.state.draggingText(e),void setTimeout(function(){t.display.input.focus()},20);try{if(i=e.dataTransfer.getData("Text")){if(t.state.draggingText&&!(_i?e.altKey:e.ctrlKey))var c=t.listSelections();if(je(t.doc,pe(n,n)),c)for(l=0;l<c.length;++l)Nn(t.doc,"",c[l].anchor,c[l].head,"drag");t.replaceSelection(i,"around","paste"),t.display.input.focus()}}catch(e){}}}}function en(e,t){if(bi&&(!e.state.draggingText||+new Date-Yi<100))Oa(t);else if(!jo(e,t)&&!Gt(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!Ti)){var n=qo("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",Ei&&(n.width=n.height=1,e.display.wrapper.appendChild(n),n._top=n.offsetTop),t.dataTransfer.setDragImage(n,0,0),Ei&&n.parentNode.removeChild(n)}}function tn(e,t){var n=$t(e,t);if(n){var r=document.createDocumentFragment();De(e,n,r),e.display.dragCursor||(e.display.dragCursor=qo("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),Go(e.display.dragCursor,r)}}function nn(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function rn(e,t){Math.abs(e.doc.scrollTop-t)<2||(e.doc.scrollTop=t,gi||O(e,{top:t}),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t),e.display.scrollbars.setScrollTop(t),gi&&O(e),He(e,100))}function on(e,t,n){(n?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)||(t=Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth),e.doc.scrollLeft=t,x(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function an(e,t){var n=Qi(t),r=n.x,o=n.y,i=e.display,a=i.scroller,s=a.scrollWidth>a.clientWidth,l=a.scrollHeight>a.clientHeight;if(r&&s||o&&l){if(o&&_i&&xi)e:for(var c=t.target,u=i.view;c!=a;c=c.parentNode)for(var d=0;d<u.length;d++)if(u[d].node==c){e.display.currentWheelTarget=c;break e}if(r&&!gi&&!Ei&&null!=Xi)return o&&l&&rn(e,Math.max(0,Math.min(a.scrollTop+o*Xi,a.scrollHeight-a.clientHeight))),on(e,Math.max(0,Math.min(a.scrollLeft+r*Xi,a.scrollWidth-a.clientWidth))),(!o||o&&l)&&ja(t),void(i.wheelStartX=null);if(o&&null!=Xi){var f=o*Xi,p=e.doc.scrollTop,h=p+i.wrapper.clientHeight;0>f?p=Math.max(0,p+f-50):h=Math.min(e.doc.height,h+f+50),O(e,{top:p,bottom:h})}20>Vi&&(null==i.wheelStartX?(i.wheelStartX=a.scrollLeft,i.wheelStartY=a.scrollTop,i.wheelDX=r,i.wheelDY=o,setTimeout(function(){if(null!=i.wheelStartX){var e=a.scrollLeft-i.wheelStartX,t=a.scrollTop-i.wheelStartY,n=t&&i.wheelDY&&t/i.wheelDY||e&&i.wheelDX&&e/i.wheelDX;i.wheelStartX=i.wheelStartY=null,n&&(Xi=(Xi*Vi+n)/(Vi+1),++Vi)}},200)):(i.wheelDX+=r,i.wheelDY+=o))}}function sn(e,t,n){if("string"==typeof t&&!(t=ua[t]))return!1;e.display.input.ensurePolled();var r=e.display.shift,o=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),n&&(e.display.shift=!1),o=t(e)!=Da}finally{e.display.shift=r,e.state.suppressEdits=!1}return o}function ln(e,t,n){for(var r=0;r<e.state.keyMaps.length;r++){var o=fa(t,e.state.keyMaps[r],n,e);if(o)return o}return e.options.extraKeys&&fa(t,e.options.extraKeys,n,e)||fa(t,e.options.keyMap,n,e)}function cn(e,t,n,r){var o=e.state.keySeq;if(o){if(pa(t))return"handled";Ki.set(50,function(){e.state.keySeq==o&&(e.state.keySeq=null,e.display.input.reset())}),t=o+" "+t}var i=ln(e,t,r);return"multi"==i&&(e.state.keySeq=t),"handled"==i&&To(e,"keyHandled",e,t,n),"handled"!=i&&"multi"!=i||(ja(n),We(e)),o&&!i&&/\'$/.test(t)?(ja(n),!0):!!i}function un(e,t){var n=ha(t,!0);return!!n&&(t.shiftKey&&!e.state.keySeq?cn(e,"Shift-"+n,t,function(t){return sn(e,t,!0)})||cn(e,n,t,function(t){return("string"==typeof t?/^go[A-Z]/.test(t):t.motion)?sn(e,t):void 0}):cn(e,n,t,function(t){return sn(e,t)}))}function dn(e,t,n){return cn(e,"'"+n+"'",t,function(t){return sn(e,t,!0)})}function fn(e){var t=this;if(t.curOp.focus=$o(),!jo(t,e)){bi&&11>wi&&27==e.keyCode&&(e.returnValue=!1);var n=e.keyCode;t.display.shift=16==n||e.shiftKey;var r=un(t,e);Ei&&(Zi=r?n:null,!r&&88==n&&!rs&&(_i?e.metaKey:e.ctrlKey)&&t.replaceSelection("",null,"cut")),18!=n||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||pn(t)}}function pn(e){function t(e){18!=e.keyCode&&e.altKey||(Ka(n,"CodeMirror-crosshair"),Na(document,"keyup",t),Na(document,"mouseover",t))}var n=e.display.lineDiv;Za(n,"CodeMirror-crosshair"),_a(document,"keyup",t),_a(document,"mouseover",t)}function hn(e){16==e.keyCode&&(this.doc.sel.shift=!1),jo(this,e)}function mn(e){var t=this;if(!(Gt(t.display,e)||jo(t,e)||e.ctrlKey&&!e.altKey||_i&&e.metaKey)){var n=e.keyCode,r=e.charCode;if(Ei&&n==Zi)return Zi=null,void ja(e);if(!Ei||e.which&&!(e.which<10)||!un(t,e))dn(t,e,String.fromCharCode(null==r?n:r))||t.display.input.onKeyPress(e)}}function gn(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,yn(e))},100)}function vn(e){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(Ma(e,"focus",e),e.state.focused=!0,Za(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),xi&&setTimeout(function(){e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),We(e))}function yn(e){e.state.delayingBlurEvent||(e.state.focused&&(Ma(e,"blur",e),e.state.focused=!1,Ka(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function bn(e,t){Gt(e.display,t)||wn(e,t)||jo(e,t,"contextmenu")||e.display.input.onContextMenu(t)}function wn(e,t){return!!Oo(e,"gutterContextMenu")&&Kt(e,t,"gutterContextMenu",!1)}function xn(e,t){if(Hi(e,t.from)<0)return e;if(Hi(e,t.to)<=0)return Ji(t);var n=e.line+t.text.length-(t.to.line-t.from.line)-1,r=e.ch;return e.line==t.to.line&&(r+=Ji(t).ch-t.to.ch),Wi(n,r)}function Sn(e,t){for(var n=[],r=0;r<e.sel.ranges.length;r++){var o=e.sel.ranges[r];n.push(new de(xn(o.anchor,t),xn(o.head,t)))}return fe(n,e.sel.primIndex)}function Cn(e,t,n){return e.line==t.line?Wi(n.line,e.ch-t.ch+n.ch):Wi(n.line+(e.line-t.line),e.ch)}function En(e,t,n){for(var r=[],o=Wi(e.first,0),i=o,a=0;a<t.length;a++){var s=t[a],l=Cn(s.from,o,i),c=Cn(Ji(s),o,i);if(o=s.to,i=c,"around"==n){var u=e.sel.ranges[a],d=Hi(u.head,u.anchor)<0;r[a]=new de(d?c:l,d?l:c)}else r[a]=new de(l,l)}return new ue(r,e.sel.primIndex)}function Tn(e,t,n){var r={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){this.canceled=!0}};return n&&(r.update=function(t,n,r,o){t&&(this.from=me(e,t)),n&&(this.to=me(e,n)),r&&(this.text=r),void 0!==o&&(this.origin=o)}),Ma(e,"beforeChange",e,r),e.cm&&Ma(e.cm,"beforeChange",e.cm,r),r.canceled?null:{from:r.from,to:r.to,text:r.text,origin:r.origin}}function kn(e,t,n){if(e.cm){if(!e.cm.curOp)return _t(e.cm,kn)(e,t,n);if(e.cm.state.suppressEdits)return}if(!(Oo(e,"beforeChange")||e.cm&&Oo(e.cm,"beforeChange"))||(t=Tn(e,t,!0))){var r=Di&&!n&&lr(e,t.from,t.to);if(r)for(var o=r.length-1;o>=0;--o)jn(e,{from:r[o].from,to:r[o].to,text:o?[""]:t.text});else jn(e,t)}}function jn(e,t){if(1!=t.text.length||""!=t.text[0]||0!=Hi(t.from,t.to)){var n=Sn(e,t);co(e,t,n,e.cm?e.cm.curOp.id:NaN),_n(e,t,n,ir(e,t));var r=[];Xr(e,function(e,n){n||-1!=Po(r,e.history)||(wo(e.history,t),r.push(e.history)),_n(e,t,null,ir(e,t))})}}function Ln(e,t,n){if(!e.cm||!e.cm.state.suppressEdits){for(var r,o=e.history,i=e.sel,a="undo"==t?o.done:o.undone,s="undo"==t?o.undone:o.done,l=0;l<a.length&&(r=a[l],n?!r.ranges||r.equals(e.sel):r.ranges);l++);if(l!=a.length){for(o.lastOrigin=o.lastSelOrigin=null;(r=a.pop()).ranges;){if(po(r,s),n&&!r.equals(e.sel))return void ke(e,r,{clearRedo:!1});i=r}var c=[];po(i,s),s.push({changes:c,generation:o.generation}),o.generation=r.generation||++o.maxGeneration;var u=Oo(e,"beforeChange")||e.cm&&Oo(e.cm,"beforeChange");for(l=r.changes.length-1;l>=0;--l){var d=r.changes[l];if(d.origin=t,u&&!Tn(e,d,!1))return void(a.length=0);c.push(ao(e,d));var f=l?Sn(e,d):Mo(a);_n(e,d,f,sr(e,d)),!l&&e.cm&&e.cm.scrollIntoView({from:d.from,to:Ji(d)});var p=[];Xr(e,function(e,t){t||-1!=Po(p,e.history)||(wo(e.history,d),p.push(e.history)),_n(e,d,null,sr(e,d))})}}}}function On(e,t){if(0!=t&&(e.first+=t,e.sel=new ue(Io(e.sel.ranges,function(e){return new de(Wi(e.anchor.line+t,e.anchor.ch),Wi(e.head.line+t,e.head.ch))}),e.sel.primIndex),e.cm)){It(e.cm,e.first,e.first-t,t);for(var n=e.cm.display,r=n.viewFrom;r<n.viewTo;r++)Dt(e.cm,r,"gutter")}}function _n(e,t,n,r){if(e.cm&&!e.cm.curOp)return _t(e.cm,_n)(e,t,n,r);if(t.to.line<e.first)On(e,t.text.length-1-(t.to.line-t.from.line));else if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var o=t.text.length-1-(e.first-t.from.line);On(e,o),t={from:Wi(e.first,0),to:Wi(t.to.line+o,t.to.ch),text:[Mo(t.text)],origin:t.origin}}var i=e.lastLine();t.to.line>i&&(t={from:t.from,to:Wi(i,Kr(e,i).text.length),text:[t.text[0]],origin:t.origin}),t.removed=Zr(e,t.from,t.to),n||(n=Sn(e,t)),e.cm?An(e.cm,t,r):$r(e,t,r),je(e,n,Ra)}}function An(e,t,n){var r=e.doc,o=e.display,a=t.from,s=t.to,l=!1,c=a.line;e.options.lineWrapping||(c=to(yr(Kr(r,a.line))),r.iter(c,s.line+1,function(e){return e==o.maxLine?(l=!0,!0):void 0})),r.sel.contains(t.from,t.to)>-1&&Lo(e),$r(r,t,n,i(e)),e.options.lineWrapping||(r.iter(c,a.line+t.text.length,function(e){var t=d(e);t>o.maxLineLength&&(o.maxLine=e,o.maxLineLength=t,o.maxLineChanged=!0,l=!1)}),l&&(e.curOp.updateMaxLine=!0)),r.frontier=Math.min(r.frontier,a.line),He(e,400);var u=t.text.length-(s.line-a.line)-1;t.full?It(e):a.line!=s.line||1!=t.text.length||Gr(e.doc,t)?It(e,a.line,s.line+1,u):Dt(e,a.line,"text");var f=Oo(e,"changes"),p=Oo(e,"change");if(p||f){var h={from:a,to:s,text:t.text,removed:t.removed,origin:t.origin};p&&To(e,"change",e,h),f&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(h)}e.display.selForContextMenu=null}function Nn(e,t,n,r,o){if(r||(r=n),Hi(r,n)<0){var i=r;r=n,n=i}"string"==typeof t&&(t=e.splitLines(t)),kn(e,{from:n,to:r,text:t,origin:o})}function Mn(e,t){if(!jo(e,"scrollCursorIntoView")){var n=e.display,r=n.sizer.getBoundingClientRect(),o=null;if(t.top+r.top<0?o=!0:t.bottom+r.top>(window.innerHeight||document.documentElement.clientHeight)&&(o=!1),null!=o&&!ji){var i=qo("div","\u200b",null,"position: absolute; top: "+(t.top-n.viewOffset-qe(e.display))+"px; height: "+(t.bottom-t.top+$e(e)+n.barHeight)+"px; left: "+t.left+"px; width: 2px;");e.display.lineSpace.appendChild(i),i.scrollIntoView(o),e.display.lineSpace.removeChild(i)}}}function Pn(e,t,n,r){null==r&&(r=0);for(var o=0;5>o;o++){var i=!1,a=pt(e,t),s=n&&n!=t?pt(e,n):a,l=Dn(e,Math.min(a.left,s.left),Math.min(a.top,s.top)-r,Math.max(a.left,s.left),Math.max(a.bottom,s.bottom)+r),c=e.doc.scrollTop,u=e.doc.scrollLeft;if(null!=l.scrollTop&&(rn(e,l.scrollTop),Math.abs(e.doc.scrollTop-c)>1&&(i=!0)),null!=l.scrollLeft&&(on(e,l.scrollLeft),Math.abs(e.doc.scrollLeft-u)>1&&(i=!0)),!i)break}return a}function In(e,t,n,r,o){var i=Dn(e,t,n,r,o);null!=i.scrollTop&&rn(e,i.scrollTop),null!=i.scrollLeft&&on(e,i.scrollLeft)}function Dn(e,t,n,r,o){var i=e.display,a=yt(e.display);0>n&&(n=0);var s=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:i.scroller.scrollTop,l=Ve(e),c={};o-n>l&&(o=n+l);var u=e.doc.height+Ue(i),d=a>n,f=o>u-a;if(s>n)c.scrollTop=d?0:n;else if(o>s+l){var p=Math.min(n,(f?u:o)-l);p!=s&&(c.scrollTop=p)}var h=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:i.scroller.scrollLeft,m=Ye(e)-(e.options.fixedGutter?i.gutters.offsetWidth:0),g=r-t>m;return g&&(r=t+m),10>t?c.scrollLeft=0:h>t?c.scrollLeft=Math.max(0,t-(g?0:10)):r>m+h-3&&(c.scrollLeft=r+(g?0:10)-m),c}function Rn(e,t,n){null==t&&null==n||Hn(e),null!=t&&(e.curOp.scrollLeft=(null==e.curOp.scrollLeft?e.doc.scrollLeft:e.curOp.scrollLeft)+t),null!=n&&(e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+n)}function Wn(e){Hn(e);var t=e.getCursor(),n=t,r=t;e.options.lineWrapping||(n=t.ch?Wi(t.line,t.ch-1):t,r=Wi(t.line,t.ch+1)),e.curOp.scrollToPos={from:n,to:r,margin:e.options.cursorScrollMargin,isCursor:!0}}function Hn(e){var t=e.curOp.scrollToPos;if(t){e.curOp.scrollToPos=null;var n=ht(e,t.from),r=ht(e,t.to),o=Dn(e,Math.min(n.left,r.left),Math.min(n.top,r.top)-t.margin,Math.max(n.right,r.right),Math.max(n.bottom,r.bottom)+t.margin);e.scrollTo(o.scrollLeft,o.scrollTop)}}function Bn(e,t,n,r){var o,i=e.doc;null==n&&(n="add"),"smart"==n&&(i.mode.indent?o=ze(e,t):n="prev");var a=e.options.tabSize,s=Kr(i,t),l=Ba(s.text,null,a);s.stateAfter&&(s.stateAfter=null);var c,u=s.text.match(/^\s*/)[0];if(r||/\S/.test(s.text)){if("smart"==n&&((c=i.mode.indent(o,s.text.slice(u.length),s.text))==Da||c>150)){if(!r)return;n="prev"}}else c=0,n="not";"prev"==n?c=t>i.first?Ba(Kr(i,t-1).text,null,a):0:"add"==n?c=l+e.options.indentUnit:"subtract"==n?c=l-e.options.indentUnit:"number"==typeof n&&(c=l+n),
c=Math.max(0,c);var d="",f=0;if(e.options.indentWithTabs)for(var p=Math.floor(c/a);p;--p)f+=a,d+="\t";if(c>f&&(d+=No(c-f)),d!=u)return Nn(i,d,Wi(t,0),Wi(t,u.length),"+input"),s.stateAfter=null,!0;for(p=0;p<i.sel.ranges.length;p++){var h=i.sel.ranges[p];if(h.head.line==t&&h.head.ch<u.length){Se(i,p,new de(f=Wi(t,u.length),f));break}}}function Fn(e,t,n,r){var o=t,i=t;return"number"==typeof t?i=Kr(e,he(e,t)):o=to(t),null==o?null:(r(i,o)&&e.cm&&Dt(e.cm,o,n),i)}function zn(e,t){for(var n=e.doc.sel.ranges,r=[],o=0;o<n.length;o++){for(var i=t(n[o]);r.length&&Hi(i.from,Mo(r).to)<=0;){var a=r.pop();if(Hi(a.from,i.from)<0){i.from=a.from;break}}r.push(i)}Ot(e,function(){for(var t=r.length-1;t>=0;t--)Nn(e.doc,"",r[t].from,r[t].to,"+delete");Wn(e)})}function qn(e,t,n,r,o){function i(){var t=s+n;return!(t<e.first||t>=e.first+e.size)&&(s=t,u=Kr(e,t))}function a(e){var t=(o?fi:pi)(u,l,n,!0);if(null==t){if(e||!i())return!1;l=o?(0>n?ii:oi)(u):0>n?u.text.length:0}else l=t;return!0}var s=t.line,l=t.ch,c=n,u=Kr(e,s);if("char"==r)a();else if("column"==r)a(!0);else if("word"==r||"group"==r)for(var d=null,f="group"==r,p=e.cm&&e.cm.getHelper(t,"wordChars"),h=!0;!(0>n)||a(!h);h=!1){var m=u.text.charAt(l)||"\n",g=Bo(m,p)?"w":f&&"\n"==m?"n":!f||/\s/.test(m)?null:"p";if(!f||h||g||(g="s"),d&&d!=g){0>n&&(n=1,a());break}if(g&&(d=g),n>0&&!a(!h))break}var v=Ne(e,Wi(s,l),t,c,!0);return Hi(t,v)||(v.hitSide=!0),v}function Un(e,t,n,r){var o,i=e.doc,a=t.left;if("page"==r){var s=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);o=t.top+n*(s-(0>n?1.5:.5)*yt(e.display))}else"line"==r&&(o=n>0?t.bottom+3:t.top-3);for(;;){var l=gt(e,a,o);if(!l.outside)break;if(0>n?0>=o:o>=i.height){l.hitSide=!0;break}o+=5*n}return l}function Gn(t,n,r,o){e.defaults[t]=n,r&&(ta[t]=o?function(e,t,n){n!=na&&r(e,t,n)}:r)}function $n(e){for(var t,n,r,o,i=e.split(/-(?!$)/),a=(e=i[i.length-1],0);a<i.length-1;a++){var s=i[a];if(/^(cmd|meta|m)$/i.test(s))o=!0;else if(/^a(lt)?$/i.test(s))t=!0;else if(/^(c|ctrl|control)$/i.test(s))n=!0;else{if(!/^s(hift)$/i.test(s))throw new Error("Unrecognized modifier name: "+s);r=!0}}return t&&(e="Alt-"+e),n&&(e="Ctrl-"+e),o&&(e="Cmd-"+e),r&&(e="Shift-"+e),e}function Yn(e){return"string"==typeof e?da[e]:e}function Vn(e,t,n,r,o){if(r&&r.shared)return Xn(e,t,n,r,o);if(e.cm&&!e.cm.curOp)return _t(e.cm,Vn)(e,t,n,r,o);var i=new va(e,o),a=Hi(t,n);if(r&&Wo(r,i,!1),a>0||0==a&&!1!==i.clearWhenEmpty)return i;if(i.replacedWith&&(i.collapsed=!0,i.widgetNode=qo("span",[i.replacedWith],"CodeMirror-widget"),r.handleMouseEvents||i.widgetNode.setAttribute("cm-ignore-events","true"),r.insertLeft&&(i.widgetNode.insertLeft=!0)),i.collapsed){if(vr(e,t.line,t,n,i)||t.line!=n.line&&vr(e,n.line,t,n,i))throw new Error("Inserting collapsed marker partially overlapping an existing one");Ri=!0}i.addToHistory&&co(e,{from:t,to:n,origin:"markText"},e.sel,NaN);var s,l=t.line,c=e.cm;if(e.iter(l,n.line+1,function(e){c&&i.collapsed&&!c.options.lineWrapping&&yr(e)==c.display.maxLine&&(s=!0),i.collapsed&&l!=t.line&&eo(e,0),nr(e,new Jn(i,l==t.line?t.ch:null,l==n.line?n.ch:null)),++l}),i.collapsed&&e.iter(t.line,n.line+1,function(t){Sr(e,t)&&eo(t,0)}),i.clearOnEnter&&_a(i,"beforeCursorEnter",function(){i.clear()}),i.readOnly&&(Di=!0,(e.history.done.length||e.history.undone.length)&&e.clearHistory()),i.collapsed&&(i.id=++ga,i.atomic=!0),c){if(s&&(c.curOp.updateMaxLine=!0),i.collapsed)It(c,t.line,n.line+1);else if(i.className||i.title||i.startStyle||i.endStyle||i.css)for(var u=t.line;u<=n.line;u++)Dt(c,u,"text");i.atomic&&Oe(c.doc),To(c,"markerAdded",c,i)}return i}function Xn(e,t,n,r,o){(r=Wo(r)).shared=!1;var i=[Vn(e,t,n,r,o)],a=i[0],s=r.widgetNode;return Xr(e,function(e){s&&(r.widgetNode=s.cloneNode(!0)),i.push(Vn(e,me(e,t),me(e,n),r,o));for(var l=0;l<e.linked.length;++l)if(e.linked[l].isParent)return;a=Mo(i)}),new ya(i,a)}function Qn(e){return e.findMarks(Wi(e.first,0),e.clipPos(Wi(e.lastLine())),function(e){return e.parent})}function Kn(e,t){for(var n=0;n<t.length;n++){var r=t[n],o=r.find(),i=e.clipPos(o.from),a=e.clipPos(o.to);if(Hi(i,a)){var s=Vn(e,i,a,r.primary,r.primary.type);r.markers.push(s),s.parent=r}}}function Zn(e){for(var t=0;t<e.length;t++){var n=e[t],r=[n.primary.doc];Xr(n.primary.doc,function(e){r.push(e)});for(var o=0;o<n.markers.length;o++){var i=n.markers[o];-1==Po(r,i.doc)&&(i.parent=null,n.markers.splice(o--,1))}}}function Jn(e,t,n){this.marker=e,this.from=t,this.to=n}function er(e,t){if(e)for(var n=0;n<e.length;++n){var r=e[n];if(r.marker==t)return r}}function tr(e,t){for(var n,r=0;r<e.length;++r)e[r]!=t&&(n||(n=[])).push(e[r]);return n}function nr(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}function rr(e,t,n){if(e)for(var r,o=0;o<e.length;++o){var i=e[o],a=i.marker;if(null==i.from||(a.inclusiveLeft?i.from<=t:i.from<t)||i.from==t&&"bookmark"==a.type&&(!n||!i.marker.insertLeft)){var s=null==i.to||(a.inclusiveRight?i.to>=t:i.to>t);(r||(r=[])).push(new Jn(a,i.from,s?null:i.to))}}return r}function or(e,t,n){if(e)for(var r,o=0;o<e.length;++o){var i=e[o],a=i.marker;if(null==i.to||(a.inclusiveRight?i.to>=t:i.to>t)||i.from==t&&"bookmark"==a.type&&(!n||i.marker.insertLeft)){var s=null==i.from||(a.inclusiveLeft?i.from<=t:i.from<t);(r||(r=[])).push(new Jn(a,s?null:i.from-t,null==i.to?null:i.to-t))}}return r}function ir(e,t){if(t.full)return null;var n=ve(e,t.from.line)&&Kr(e,t.from.line).markedSpans,r=ve(e,t.to.line)&&Kr(e,t.to.line).markedSpans;if(!n&&!r)return null;var o=t.from.ch,i=t.to.ch,a=0==Hi(t.from,t.to),s=rr(n,o,a),l=or(r,i,a),c=1==t.text.length,u=Mo(t.text).length+(c?o:0);if(s)for(var d=0;d<s.length;++d){if(null==(f=s[d]).to)(p=er(l,f.marker))?c&&(f.to=null==p.to?null:p.to+u):f.to=o}if(l)for(d=0;d<l.length;++d){var f,p;if(null!=(f=l[d]).to&&(f.to+=u),null==f.from)(p=er(s,f.marker))||(f.from=u,c&&(s||(s=[])).push(f));else f.from+=u,c&&(s||(s=[])).push(f)}s&&(s=ar(s)),l&&l!=s&&(l=ar(l));var h=[s];if(!c){var m,g=t.text.length-2;if(g>0&&s)for(d=0;d<s.length;++d)null==s[d].to&&(m||(m=[])).push(new Jn(s[d].marker,null,null));for(d=0;g>d;++d)h.push(m);h.push(l)}return h}function ar(e){for(var t=0;t<e.length;++t){var n=e[t];null!=n.from&&n.from==n.to&&!1!==n.marker.clearWhenEmpty&&e.splice(t--,1)}return e.length?e:null}function sr(e,t){var n=go(e,t),r=ir(e,t);if(!n)return r;if(!r)return n;for(var o=0;o<n.length;++o){var i=n[o],a=r[o];if(i&&a)e:for(var s=0;s<a.length;++s){for(var l=a[s],c=0;c<i.length;++c)if(i[c].marker==l.marker)continue e;i.push(l)}else a&&(n[o]=a)}return n}function lr(e,t,n){var r=null;if(e.iter(t.line,n.line+1,function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var n=e.markedSpans[t].marker;!n.readOnly||r&&-1!=Po(r,n)||(r||(r=[])).push(n)}}),!r)return null;for(var o=[{from:t,to:n}],i=0;i<r.length;++i)for(var a=r[i],s=a.find(0),l=0;l<o.length;++l){var c=o[l];if(!(Hi(c.to,s.from)<0||Hi(c.from,s.to)>0)){var u=[l,1],d=Hi(c.from,s.from),f=Hi(c.to,s.to);(0>d||!a.inclusiveLeft&&!d)&&u.push({from:c.from,to:s.from}),(f>0||!a.inclusiveRight&&!f)&&u.push({from:s.to,to:c.to}),o.splice.apply(o,u),l+=u.length-1}}return o}function cr(e){var t=e.markedSpans;if(t){for(var n=0;n<t.length;++n)t[n].marker.detachLine(e);e.markedSpans=null}}function ur(e,t){if(t){for(var n=0;n<t.length;++n)t[n].marker.attachLine(e);e.markedSpans=t}}function dr(e){return e.inclusiveLeft?-1:0}function fr(e){return e.inclusiveRight?1:0}function pr(e,t){var n=e.lines.length-t.lines.length;if(0!=n)return n;var r=e.find(),o=t.find(),i=Hi(r.from,o.from)||dr(e)-dr(t);if(i)return-i;var a=Hi(r.to,o.to)||fr(e)-fr(t);return a||t.id-e.id}function hr(e,t){var n,r=Ri&&e.markedSpans;if(r)for(var o,i=0;i<r.length;++i)(o=r[i]).marker.collapsed&&null==(t?o.from:o.to)&&(!n||pr(n,o.marker)<0)&&(n=o.marker);return n}function mr(e){return hr(e,!0)}function gr(e){return hr(e,!1)}function vr(e,t,n,r,o){var i=Kr(e,t),a=Ri&&i.markedSpans;if(a)for(var s=0;s<a.length;++s){var l=a[s];if(l.marker.collapsed){var c=l.marker.find(0),u=Hi(c.from,n)||dr(l.marker)-dr(o),d=Hi(c.to,r)||fr(l.marker)-fr(o);if(!(u>=0&&0>=d||0>=u&&d>=0)&&(0>=u&&(l.marker.inclusiveRight&&o.inclusiveLeft?Hi(c.to,n)>=0:Hi(c.to,n)>0)||u>=0&&(l.marker.inclusiveRight&&o.inclusiveLeft?Hi(c.from,r)<=0:Hi(c.from,r)<0)))return!0}}}function yr(e){for(var t;t=mr(e);)e=t.find(-1,!0).line;return e}function br(e){for(var t,n;t=gr(e);)e=t.find(1,!0).line,(n||(n=[])).push(e);return n}function wr(e,t){var n=Kr(e,t),r=yr(n);return n==r?t:to(r)}function xr(e,t){if(t>e.lastLine())return t;var n,r=Kr(e,t);if(!Sr(e,r))return t;for(;n=gr(r);)r=n.find(1,!0).line;return to(r)+1}function Sr(e,t){var n=Ri&&t.markedSpans;if(n)for(var r,o=0;o<n.length;++o)if((r=n[o]).marker.collapsed){if(null==r.from)return!0;if(!r.marker.widgetNode&&0==r.from&&r.marker.inclusiveLeft&&Cr(e,t,r))return!0}}function Cr(e,t,n){if(null==n.to){var r=n.marker.find(1,!0);return Cr(e,r.line,er(r.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==t.text.length)return!0;for(var o,i=0;i<t.markedSpans.length;++i)if((o=t.markedSpans[i]).marker.collapsed&&!o.marker.widgetNode&&o.from==n.to&&(null==o.to||o.to!=n.from)&&(o.marker.inclusiveLeft||n.marker.inclusiveRight)&&Cr(e,t,o))return!0}function Er(e,t,n){ro(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&Rn(e,null,n)}function Tr(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!Va(document.body,e.node)){var n="position: relative;";e.coverGutter&&(n+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(n+="width: "+t.display.wrapper.clientWidth+"px;"),Go(t.display.measure,qo("div",[e.node],null,n))}return e.height=e.node.parentNode.offsetHeight}function kr(e,t,n,r){var o=new ba(e,n,r),i=e.cm;return i&&o.noHScroll&&(i.display.alignWidgets=!0),Fn(e,t,"widget",function(t){var n=t.widgets||(t.widgets=[]);if(null==o.insertAt?n.push(o):n.splice(Math.min(n.length-1,Math.max(0,o.insertAt)),0,o),o.line=t,i&&!Sr(e,t)){var r=ro(t)<e.scrollTop;eo(t,t.height+Tr(o)),r&&Rn(i,null,o.height),i.curOp.forceUpdate=!0}return!0}),o}function jr(e,t,n,r){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),cr(e),ur(e,n);var o=r?r(e):1;o!=e.height&&eo(e,o)}function Lr(e){e.parent=null,cr(e)}function Or(e,t){if(e)for(;;){var n=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;e=e.slice(0,n.index)+e.slice(n.index+n[0].length);var r=n[1]?"bgClass":"textClass";null==t[r]?t[r]=n[2]:new RegExp("(?:^|s)"+n[2]+"(?:$|s)").test(t[r])||(t[r]+=" "+n[2])}return e}function _r(t,n){if(t.blankLine)return t.blankLine(n);if(t.innerMode){var r=e.innerMode(t,n);return r.mode.blankLine?r.mode.blankLine(r.state):void 0}}function Ar(t,n,r,o){for(var i=0;10>i;i++){o&&(o[0]=e.innerMode(t,r).mode);var a=t.token(n,r);if(n.pos>n.start)return a}throw new Error("Mode "+t.name+" failed to advance stream.")}function Nr(e,t,n,r){function o(e){return{start:d.start,end:d.pos,string:d.current(),type:i||null,state:e?la(a.mode,u):u}}var i,a=e.doc,s=a.mode;t=me(a,t);var l,c=Kr(a,t.line),u=ze(e,t.line,n),d=new ma(c.text,e.options.tabSize);for(r&&(l=[]);(r||d.pos<t.ch)&&!d.eol();)d.start=d.pos,i=Ar(s,d,u),r&&l.push(o(!0));return r?l:o()}function Mr(e,t,n,r,o,i,a){var s=n.flattenSpans;null==s&&(s=e.options.flattenSpans);var l,c=0,u=null,d=new ma(t,e.options.tabSize),f=e.options.addModeClass&&[null];for(""==t&&Or(_r(n,r),i);!d.eol();){if(d.pos>e.options.maxHighlightLength?(s=!1,a&&Dr(e,t,r,d.pos),d.pos=t.length,l=null):l=Or(Ar(n,d,r,f),i),f){var p=f[0].name;p&&(l="m-"+(l?p+" "+l:p))}if(!s||u!=l){for(;c<d.start;)o(c=Math.min(d.start,c+5e4),u);u=l}d.start=d.pos}for(;c<d.pos;){var h=Math.min(d.pos,c+5e4);o(h,u),c=h}}function Pr(e,t,n,r){var o=[e.state.modeGen],i={};Mr(e,t.text,e.doc.mode,n,function(e,t){o.push(e,t)},i,r);for(var a=0;a<e.state.overlays.length;++a){var s=e.state.overlays[a],l=1,c=0;Mr(e,t.text,s.mode,!0,function(e,t){for(var n=l;e>c;){var r=o[l];r>e&&o.splice(l,1,e,o[l+1],r),l+=2,c=Math.min(e,r)}if(t)if(s.opaque)o.splice(n,l-n,e,"cm-overlay "+t),l=n+2;else for(;l>n;n+=2){var i=o[n+1];o[n+1]=(i?i+" ":"")+"cm-overlay "+t}},i)}return{styles:o,classes:i.bgClass||i.textClass?i:null}}function Ir(e,t,n){if(!t.styles||t.styles[0]!=e.state.modeGen){var r=ze(e,to(t)),o=Pr(e,t,t.text.length>e.options.maxHighlightLength?la(e.doc.mode,r):r);t.stateAfter=r,t.styles=o.styles,o.classes?t.styleClasses=o.classes:t.styleClasses&&(t.styleClasses=null),n===e.doc.frontier&&e.doc.frontier++}return t.styles}function Dr(e,t,n,r){var o=e.doc.mode,i=new ma(t,e.options.tabSize);for(i.start=i.pos=r||0,""==t&&_r(o,n);!i.eol();)Ar(o,i,n),i.start=i.pos}function Rr(e,t){if(!e||/^\s*$/.test(e))return null;var n=t.addModeClass?Sa:xa;return n[e]||(n[e]=e.replace(/\S+/g,"cm-$&"))}function Wr(e,t){var n=qo("span",null,null,xi?"padding-right: .1px":null),r={pre:qo("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:e,splitSpaces:(bi||xi)&&e.getOption("lineWrapping")};t.measure={};for(var o=0;o<=(t.rest?t.rest.length:0);o++){var i,a=o?t.rest[o-1]:t.line;r.pos=0,r.addToken=Br,Jo(e.display.measure)&&(i=oo(a))&&(r.addToken=zr(r.addToken,i)),r.map=[],Ur(a,r,Ir(e,a,t!=e.display.externalMeasured&&to(a))),a.styleClasses&&(a.styleClasses.bgClass&&(r.bgClass=Vo(a.styleClasses.bgClass,r.bgClass||"")),a.styleClasses.textClass&&(r.textClass=Vo(a.styleClasses.textClass,r.textClass||""))),0==r.map.length&&r.map.push(0,0,r.content.appendChild(Zo(e.display.measure))),0==o?(t.measure.map=r.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(r.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(xi){var s=r.content.lastChild;(/\bcm-tab\b/.test(s.className)||s.querySelector&&s.querySelector(".cm-tab"))&&(r.content.className="cm-tab-wrap-hack")}return Ma(e,"renderLine",e,t.line,r.pre),r.pre.className&&(r.textClass=Vo(r.pre.className,r.textClass||"")),r}function Hr(e){var t=qo("span","\u2022","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function Br(e,t,n,r,o,i,a){if(t){var s=e.splitSpaces?t.replace(/ {3,}/g,Fr):t,l=e.cm.state.specialChars,c=!1;if(l.test(t))for(var u=document.createDocumentFragment(),d=0;;){l.lastIndex=d;var f=l.exec(t),p=f?f.index-d:t.length-d;if(p){var h=document.createTextNode(s.slice(d,d+p));bi&&9>wi?u.appendChild(qo("span",[h])):u.appendChild(h),e.map.push(e.pos,e.pos+p,h),e.col+=p,e.pos+=p}if(!f)break;if(d+=p+1,"\t"==f[0]){var m=e.cm.options.tabSize,g=m-e.col%m;(h=u.appendChild(qo("span",No(g),"cm-tab"))).setAttribute("role","presentation"),h.setAttribute("cm-text","\t"),e.col+=g}else if("\r"==f[0]||"\n"==f[0]){(h=u.appendChild(qo("span","\r"==f[0]?"\u240d":"\u2424","cm-invalidchar"))).setAttribute("cm-text",f[0]),e.col+=1}else{(h=e.cm.options.specialCharPlaceholder(f[0])).setAttribute("cm-text",f[0]),bi&&9>wi?u.appendChild(qo("span",[h])):u.appendChild(h),e.col+=1}e.map.push(e.pos,e.pos+1,h),e.pos++}else{e.col+=t.length;u=document.createTextNode(s);e.map.push(e.pos,e.pos+t.length,u),bi&&9>wi&&(c=!0),e.pos+=t.length}if(n||r||o||c||a){var v=n||"";r&&(v+=r),o&&(v+=o);var y=qo("span",[u],v,a);return i&&(y.title=i),e.content.appendChild(y)}e.content.appendChild(u)}}function Fr(e){for(var t=" ",n=0;n<e.length-2;++n)t+=" ";return t+" "}function zr(e,t){return function(n,r,o,i,a,s,l){o=o?o+" cm-force-border":"cm-force-border";for(var c=n.pos,u=c+r.length;;){for(var d=0;d<t.length;d++){var f=t[d];if(f.to>c&&f.from<=c)break}if(f.to>=u)return e(n,r,o,i,a,s,l);e(n,r.slice(0,f.to-c),o,i,null,s,l),i=null,r=r.slice(f.to-c),c=f.to}}}function qr(e,t,n,r){var o=!r&&n.widgetNode;o&&e.map.push(e.pos,e.pos+t,o),!r&&e.cm.display.input.needsContentAttribute&&(o||(o=e.content.appendChild(document.createElement("span"))),o.setAttribute("cm-marker",n.id)),o&&(e.cm.display.input.setUneditable(o),e.content.appendChild(o)),e.pos+=t}function Ur(e,t,n){var r=e.markedSpans,o=e.text,i=0;if(r)for(var a,s,l,c,u,d,f,p=o.length,h=0,m=1,g="",v=0;;){if(v==h){l=c=u=d=s="",f=null,v=1/0;for(var y,b=[],w=0;w<r.length;++w){var x=r[w],S=x.marker;"bookmark"==S.type&&x.from==h&&S.widgetNode?b.push(S):x.from<=h&&(null==x.to||x.to>h||S.collapsed&&x.to==h&&x.from==h)?(null!=x.to&&x.to!=h&&v>x.to&&(v=x.to,c=""),S.className&&(l+=" "+S.className),S.css&&(s=(s?s+";":"")+S.css),S.startStyle&&x.from==h&&(u+=" "+S.startStyle),S.endStyle&&x.to==v&&(y||(y=[])).push(S.endStyle,x.to),S.title&&!d&&(d=S.title),S.collapsed&&(!f||pr(f.marker,S)<0)&&(f=x)):x.from>h&&v>x.from&&(v=x.from)}if(y)for(w=0;w<y.length;w+=2)y[w+1]==v&&(c+=" "+y[w]);if(!f||f.from==h)for(w=0;w<b.length;++w)qr(t,0,b[w]);if(f&&(f.from||0)==h){if(qr(t,(null==f.to?p+1:f.to)-h,f.marker,null==f.from),null==f.to)return;f.to==h&&(f=!1)}}if(h>=p)break;for(var C=Math.min(p,v);;){if(g){var E=h+g.length;if(!f){var T=E>C?g.slice(0,C-h):g;t.addToken(t,T,a?a+l:l,u,h+T.length==v?c:"",d,s)}if(E>=C){g=g.slice(C-h),h=C;break}h=E,u=""}g=o.slice(i,i=n[m++]),a=Rr(n[m++],t.cm.options)}}else for(m=1;m<n.length;m+=2)t.addToken(t,o.slice(i,i=n[m]),Rr(n[m+1],t.cm.options))}function Gr(e,t){return 0==t.from.ch&&0==t.to.ch&&""==Mo(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function $r(e,t,n,r){function o(e){return n?n[e]:null}function i(e,n,o){jr(e,n,o,r),To(e,"change",e,t)}function a(e,t){for(var n=e,i=[];t>n;++n)i.push(new wa(c[n],o(n),r));return i}var s=t.from,l=t.to,c=t.text,u=Kr(e,s.line),d=Kr(e,l.line),f=Mo(c),p=o(c.length-1),h=l.line-s.line;if(t.full)e.insert(0,a(0,c.length)),e.remove(c.length,e.size-c.length);else if(Gr(e,t)){var m=a(0,c.length-1);i(d,d.text,p),h&&e.remove(s.line,h),m.length&&e.insert(s.line,m)}else if(u==d)if(1==c.length)i(u,u.text.slice(0,s.ch)+f+u.text.slice(l.ch),p);else{(m=a(1,c.length-1)).push(new wa(f+u.text.slice(l.ch),p,r)),i(u,u.text.slice(0,s.ch)+c[0],o(0)),e.insert(s.line+1,m)}else if(1==c.length)i(u,u.text.slice(0,s.ch)+c[0]+d.text.slice(l.ch),o(0)),e.remove(s.line+1,h);else{i(u,u.text.slice(0,s.ch)+c[0],o(0)),i(d,f+d.text.slice(l.ch),p);m=a(1,c.length-1);h>1&&e.remove(s.line+1,h-1),e.insert(s.line+1,m)}To(e,"change",e,t)}function Yr(e){this.lines=e,this.parent=null;for(var t=0,n=0;t<e.length;++t)e[t].parent=this,n+=e[t].height;this.height=n}function Vr(e){this.children=e;for(var t=0,n=0,r=0;r<e.length;++r){var o=e[r];t+=o.chunkSize(),n+=o.height,o.parent=this}this.size=t,this.height=n,this.parent=null}function Xr(e,t,n){function r(e,o,i){if(e.linked)for(var a=0;a<e.linked.length;++a){var s=e.linked[a];if(s.doc!=o){var l=i&&s.sharedHist;n&&!l||(t(s.doc,l),r(s.doc,e,l))}}}r(e,null,!0)}function Qr(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,a(e),n(e),e.options.lineWrapping||f(e),e.options.mode=t.modeOption,It(e)}function Kr(e,t){if(0>(t-=e.first)||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var n=e;!n.lines;)for(var r=0;;++r){var o=n.children[r],i=o.chunkSize();if(i>t){n=o;break}t-=i}return n.lines[t]}function Zr(e,t,n){var r=[],o=t.line;return e.iter(t.line,n.line+1,function(e){var i=e.text;o==n.line&&(i=i.slice(0,n.ch)),o==t.line&&(i=i.slice(t.ch)),r.push(i),++o}),r}function Jr(e,t,n){var r=[];return e.iter(t,n,function(e){r.push(e.text)}),r}function eo(e,t){var n=t-e.height;if(n)for(var r=e;r;r=r.parent)r.height+=n}function to(e){if(null==e.parent)return null;for(var t=e.parent,n=Po(t.lines,e),r=t.parent;r;t=r,r=r.parent)for(var o=0;r.children[o]!=t;++o)n+=r.children[o].chunkSize();return n+t.first}function no(e,t){var n=e.first;e:do{for(var r=0;r<e.children.length;++r){var o=e.children[r],i=o.height;if(i>t){e=o;continue e}t-=i,n+=o.chunkSize()}return n}while(!e.lines);for(r=0;r<e.lines.length;++r){var a=e.lines[r].height;if(a>t)break;t-=a}return n+r}function ro(e){for(var t=0,n=(e=yr(e)).parent,r=0;r<n.lines.length;++r){var o=n.lines[r];if(o==e)break;t+=o.height}for(var i=n.parent;i;i=(n=i).parent)for(r=0;r<i.children.length;++r){var a=i.children[r];if(a==n)break;t+=a.height}return t}function oo(e){var t=e.order;return null==t&&(t=e.order=ss(e.text)),t}function io(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function ao(e,t){var n={from:Y(t.from),to:Ji(t),text:Zr(e,t.from,t.to)};return ho(e,n,t.from.line,t.to.line+1),Xr(e,function(e){ho(e,n,t.from.line,t.to.line+1)},!0),n}function so(e){for(;e.length;){if(!Mo(e).ranges)break;e.pop()}}function lo(e,t){return t?(so(e.done),Mo(e.done)):e.done.length&&!Mo(e.done).ranges?Mo(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),Mo(e.done)):void 0}function co(e,t,n,r){var o=e.history;o.undone.length=0;var i,a=+new Date;if((o.lastOp==r||o.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&e.cm&&o.lastModTime>a-e.cm.options.historyEventDelay||"*"==t.origin.charAt(0)))&&(i=lo(o,o.lastOp==r))){var s=Mo(i.changes);0==Hi(t.from,t.to)&&0==Hi(t.from,s.to)?s.to=Ji(t):i.changes.push(ao(e,t))}else{var l=Mo(o.done);for(l&&l.ranges||po(e.sel,o.done),i={changes:[ao(e,t)],generation:o.generation},o.done.push(i);o.done.length>o.undoDepth;)o.done.shift(),o.done[0].ranges||o.done.shift()}o.done.push(n),o.generation=++o.maxGeneration,o.lastModTime=o.lastSelTime=a,o.lastOp=o.lastSelOp=r,o.lastOrigin=o.lastSelOrigin=t.origin,s||Ma(e,"historyAdded")}function uo(e,t,n,r){var o=t.charAt(0);return"*"==o||"+"==o&&n.ranges.length==r.ranges.length&&n.somethingSelected()==r.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function fo(e,t,n,r){var o=e.history,i=r&&r.origin;n==o.lastSelOp||i&&o.lastSelOrigin==i&&(o.lastModTime==o.lastSelTime&&o.lastOrigin==i||uo(e,i,Mo(o.done),t))?o.done[o.done.length-1]=t:po(t,o.done),o.lastSelTime=+new Date,o.lastSelOrigin=i,o.lastSelOp=n,r&&!1!==r.clearRedo&&so(o.undone)}function po(e,t){var n=Mo(t);n&&n.ranges&&n.equals(e)||t.push(e)}function ho(e,t,n,r){var o=t["spans_"+e.id],i=0;e.iter(Math.max(e.first,n),Math.min(e.first+e.size,r),function(n){n.markedSpans&&((o||(o=t["spans_"+e.id]={}))[i]=n.markedSpans),++i})}function mo(e){if(!e)return null;for(var t,n=0;n<e.length;++n)e[n].marker.explicitlyCleared?t||(t=e.slice(0,n)):t&&t.push(e[n]);return t?t.length?t:null:e}function go(e,t){var n=t["spans_"+e.id];if(!n)return null;for(var r=0,o=[];r<t.text.length;++r)o.push(mo(n[r]));return o}function vo(e,t,n){for(var r=0,o=[];r<e.length;++r){var i=e[r];if(i.ranges)o.push(n?ue.prototype.deepCopy.call(i):i);else{var a=i.changes,s=[];o.push({changes:s});for(var l=0;l<a.length;++l){var c,u=a[l];if(s.push({from:u.from,to:u.to,text:u.text}),t)for(var d in u)(c=d.match(/^spans_(\d+)$/))&&Po(t,Number(c[1]))>-1&&(Mo(s)[d]=u[d],delete u[d])}}}return o}function yo(e,t,n,r){n<e.line?e.line+=r:t<e.line&&(e.line=t,e.ch=0)}function bo(e,t,n,r){for(var o=0;o<e.length;++o){var i=e[o],a=!0;if(i.ranges){i.copied||((i=e[o]=i.deepCopy()).copied=!0);for(var s=0;s<i.ranges.length;s++)yo(i.ranges[s].anchor,t,n,r),yo(i.ranges[s].head,t,n,r)}else{for(s=0;s<i.changes.length;++s){var l=i.changes[s];if(n<l.from.line)l.from=Wi(l.from.line+r,l.from.ch),l.to=Wi(l.to.line+r,l.to.ch);else if(t<=l.to.line){a=!1;break}}a||(e.splice(0,o+1),o=0)}}}function wo(e,t){var n=t.from.line,r=t.to.line,o=t.text.length-(r-n)-1;bo(e.done,n,r,o),bo(e.undone,n,r,o)}function xo(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function So(e){return e.target||e.srcElement}function Co(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),_i&&e.ctrlKey&&1==t&&(t=3),t}function Eo(e,t,n){var r=e._handlers&&e._handlers[t];return n?r&&r.length>0?r.slice():Aa:r||Aa}function To(e,t){function n(e){return function(){e.apply(null,i)}}var r=Eo(e,t,!1);if(r.length){var o,i=Array.prototype.slice.call(arguments,2);Gi?o=Gi.delayedCallbacks:Pa?o=Pa:(o=Pa=[],setTimeout(ko,0));for(var a=0;a<r.length;++a)o.push(n(r[a]))}}function ko(){var e=Pa;Pa=null;for(var t=0;t<e.length;++t)e[t]()}function jo(e,t,n){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),Ma(e,n||t.type,e,t),xo(t)||t.codemirrorIgnore}function Lo(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var n=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),r=0;r<t.length;++r)-1==Po(n,t[r])&&n.push(t[r])}function Oo(e,t){return Eo(e,t).length>0}function _o(e){e.prototype.on=function(e,t){_a(this,e,t)},e.prototype.off=function(e,t){Na(this,e,t)}}function Ao(){this.id=null}function No(e){for(;za.length<=e;)za.push(Mo(za)+" ");return za[e]}function Mo(e){return e[e.length-1]}function Po(e,t){for(var n=0;n<e.length;++n)if(e[n]==t)return n;return-1}function Io(e,t){for(var n=[],r=0;r<e.length;r++)n[r]=t(e[r],r);return n}function Do(){}function Ro(e,t){var n;return Object.create?n=Object.create(e):(Do.prototype=e,n=new Do),t&&Wo(t,n),n}function Wo(e,t,n){for(var r in t||(t={}),e)!e.hasOwnProperty(r)||!1===n&&t.hasOwnProperty(r)||(t[r]=e[r]);return t}function Ho(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function Bo(e,t){return t?!!(t.source.indexOf("\\w")>-1&&$a(e))||t.test(e):$a(e)}function Fo(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}function zo(e){return e.charCodeAt(0)>=768&&Ya.test(e)}function qo(e,t,n,r){var o=document.createElement(e);if(n&&(o.className=n),r&&(o.style.cssText=r),"string"==typeof t)o.appendChild(document.createTextNode(t));else if(t)for(var i=0;i<t.length;++i)o.appendChild(t[i]);return o}function Uo(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function Go(e,t){return Uo(e).appendChild(t)}function $o(){for(var e=document.activeElement;e&&e.root&&e.root.activeElement;)e=e.root.activeElement;return e}function Yo(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}function Vo(e,t){for(var n=e.split(" "),r=0;r<n.length;r++)n[r]&&!Yo(n[r]).test(t)&&(t+=" "+n[r]);return t}function Xo(e){if(document.body.getElementsByClassName)for(var t=document.body.getElementsByClassName("CodeMirror"),n=0;n<t.length;n++){var r=t[n].CodeMirror;r&&e(r)}}function Qo(){Ja||(Ko(),Ja=!0)}function Ko(){var e;_a(window,"resize",function(){null==e&&(e=setTimeout(function(){e=null,Xo(Ut)},100))}),_a(window,"blur",function(){Xo(yn)})}function Zo(e){if(null==Xa){var t=qo("span","\u200b");Go(e,qo("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(Xa=t.offsetWidth<=1&&t.offsetHeight>2&&!(bi&&8>wi))}var n=Xa?qo("span","\u200b"):qo("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return n.setAttribute("cm-text",""),n}function Jo(e){if(null!=Qa)return Qa;var t=Go(e,document.createTextNode("A\u062eA")),n=Ua(t,0,1).getBoundingClientRect();if(!n||n.left==n.right)return!1;var r=Ua(t,1,2).getBoundingClientRect();return Qa=r.right-n.right<3}function ei(e){if(null!=os)return os;var t=Go(e,qo("span","x")),n=t.getBoundingClientRect(),r=Ua(t,0,1).getBoundingClientRect();return os=Math.abs(n.left-r.left)>1}function ti(e,t,n,r){if(!e)return r(t,n,"ltr");for(var o=!1,i=0;i<e.length;++i){var a=e[i];(a.from<n&&a.to>t||t==n&&a.to==t)&&(r(Math.max(a.from,t),Math.min(a.to,n),1==a.level?"rtl":"ltr"),o=!0)}o||r(t,n,"ltr")}function ni(e){return e.level%2?e.to:e.from}function ri(e){return e.level%2?e.from:e.to}function oi(e){var t=oo(e);return t?ni(t[0]):0}function ii(e){var t=oo(e);return t?ri(Mo(t)):e.text.length}function ai(e,t){var n=Kr(e.doc,t),r=yr(n);r!=n&&(t=to(r));var o=oo(r),i=o?o[0].level%2?ii(r):oi(r):0;return Wi(t,i)}function si(e,t){for(var n,r=Kr(e.doc,t);n=gr(r);)r=n.find(1,!0).line,t=null;var o=oo(r),i=o?o[0].level%2?oi(r):ii(r):r.text.length;return Wi(null==t?to(r):t,i)}function li(e,t){var n=ai(e,t.line),r=Kr(e.doc,n.line),o=oo(r);if(!o||0==o[0].level){var i=Math.max(0,r.text.search(/\S/)),a=t.line==n.line&&t.ch<=i&&t.ch;return Wi(n.line,a?0:i)}return n}function ci(e,t,n){var r=e[0].level;return t==r||n!=r&&n>t}function ui(e,t){as=null;for(var n,r=0;r<e.length;++r){var o=e[r];if(o.from<t&&o.to>t)return r;if(o.from==t||o.to==t){if(null!=n)return ci(e,o.level,e[n].level)?(o.from!=o.to&&(as=n),r):(o.from!=o.to&&(as=r),n);n=r}}return n}function di(e,t,n,r){if(!r)return t+n;do{t+=n}while(t>0&&zo(e.text.charAt(t)));return t}function fi(e,t,n,r){var o=oo(e);if(!o)return pi(e,t,n,r);for(var i=ui(o,t),a=o[i],s=di(e,t,a.level%2?-n:n,r);;){if(s>a.from&&s<a.to)return s;if(s==a.from||s==a.to)return ui(o,s)==i?s:n>0==(a=o[i+=n]).level%2?a.to:a.from;if(!(a=o[i+=n]))return null;s=n>0==a.level%2?di(e,a.to,-1,r):di(e,a.from,1,r)}}function pi(e,t,n,r){var o=t+n;if(r)for(;o>0&&zo(e.text.charAt(o));)o+=n;return 0>o||o>e.text.length?null:o}var hi=navigator.userAgent,mi=navigator.platform,gi=/gecko\/\d/i.test(hi),vi=/MSIE \d/.test(hi),yi=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(hi),bi=vi||yi,wi=bi&&(vi?document.documentMode||6:yi[1]),xi=/WebKit\//.test(hi),Si=xi&&/Qt\/\d+\.\d+/.test(hi),Ci=/Chrome\//.test(hi),Ei=/Opera\//.test(hi),Ti=/Apple Computer/.test(navigator.vendor),ki=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(hi),ji=/PhantomJS/.test(hi),Li=/AppleWebKit/.test(hi)&&/Mobile\/\w+/.test(hi),Oi=Li||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(hi),_i=Li||/Mac/.test(mi),Ai=/\bCrOS\b/.test(hi),Ni=/win/i.test(mi),Mi=Ei&&hi.match(/Version\/(\d*\.\d*)/);Mi&&(Mi=Number(Mi[1])),Mi&&Mi>=15&&(Ei=!1,xi=!0);var Pi=_i&&(Si||Ei&&(null==Mi||12.11>Mi)),Ii=gi||bi&&wi>=9,Di=!1,Ri=!1;m.prototype=Wo({update:function(e){var t=e.scrollWidth>e.clientWidth+1,n=e.scrollHeight>e.clientHeight+1,r=e.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=t?r+"px":"0";var o=e.viewHeight-(t?r:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+o)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=n?r+"px":"0",this.horiz.style.left=e.barLeft+"px";var i=e.viewWidth-e.barLeft-(n?r:0);this.horiz.firstChild.style.width=e.scrollWidth-e.clientWidth+i+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(0==r&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?r:0,bottom:t?r:0}},setScrollLeft:function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz)},setScrollTop:function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert)},zeroWidthHack:function(){var e=_i&&!ki?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new Ao,this.disableVert=new Ao},enableZeroWidthBar:function(e,t){function n(){var r=e.getBoundingClientRect();document.elementFromPoint(r.left+1,r.bottom-1)!=e?e.style.pointerEvents="none":t.set(1e3,n)}e.style.pointerEvents="auto",t.set(1e3,n)},clear:function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)}},m.prototype),g.prototype=Wo({update:function(){return{bottom:0,right:0}},setScrollLeft:function(){},setScrollTop:function(){},clear:function(){}},g.prototype),e.scrollbarModel={native:m,"null":g},T.prototype.signal=function(e,t){Oo(e,t)&&this.events.push(arguments)},T.prototype.finish=function(){for(var e=0;e<this.events.length;e++)Ma.apply(null,this.events[e])};var Wi=e.Pos=function(e,t){return this instanceof Wi?(this.line=e,void(this.ch=t)):new Wi(e,t)},Hi=e.cmpPos=function(e,t){return e.line-t.line||e.ch-t.ch},Bi=null;ne.prototype=Wo({init:function(e){function t(e){if(!jo(r,e)){if(r.somethingSelected())Bi={lineWise:!1,text:r.getSelections()},n.inaccurateSelection&&(n.prevInput="",n.inaccurateSelection=!1,i.value=Bi.text.join("\n"),qa(i));else{if(!r.options.lineWiseCopyCut)return;var t=ee(r);Bi={lineWise:!0,text:t.text},"cut"==e.type?r.setSelections(t.ranges,null,Ra):(n.prevInput="",i.value=t.text.join("\n"),qa(i))}"cut"==e.type&&(r.state.cutIncoming=!0)}}var n=this,r=this.cm,o=this.wrapper=re(),i=this.textarea=o.firstChild;e.wrapper.insertBefore(o,e.wrapper.firstChild),Li&&(i.style.width="0px"),_a(i,"input",function(){bi&&wi>=9&&n.hasSelection&&(n.hasSelection=null),n.poll()}),_a(i,"paste",function(e){jo(r,e)||Z(e,r)||(r.state.pasteIncoming=!0,n.fastPoll())}),_a(i,"cut",t),_a(i,"copy",t),_a(e.scroller,"paste",function(t){Gt(e,t)||jo(r,t)||(r.state.pasteIncoming=!0,n.focus())}),_a(e.lineSpace,"selectstart",function(t){Gt(e,t)||ja(t)}),_a(i,"compositionstart",function(){var e=r.getCursor("from");n.composing&&n.composing.range.clear(),n.composing={start:e,range:r.markText(e,r.getCursor("to"),{className:"CodeMirror-composing"})}}),_a(i,"compositionend",function(){n.composing&&(n.poll(),n.composing.range.clear(),n.composing=null)})},prepareSelection:function(){var e=this.cm,t=e.display,n=e.doc,r=Ie(e);if(e.options.moveInputWithCursor){
var o=pt(e,n.sel.primary().head,"div"),i=t.wrapper.getBoundingClientRect(),a=t.lineDiv.getBoundingClientRect();r.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,o.top+a.top-i.top)),r.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,o.left+a.left-i.left))}return r},showSelection:function(e){var t=this.cm.display;Go(t.cursorDiv,e.cursors),Go(t.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},reset:function(e){if(!this.contextMenuPending){var t,n,r=this.cm,o=r.doc;if(r.somethingSelected()){this.prevInput="";var i=o.sel.primary(),a=(t=rs&&(i.to().line-i.from().line>100||(n=r.getSelection()).length>1e3))?"-":n||r.getSelection();this.textarea.value=a,r.state.focused&&qa(this.textarea),bi&&wi>=9&&(this.hasSelection=a)}else e||(this.prevInput=this.textarea.value="",bi&&wi>=9&&(this.hasSelection=null));this.inaccurateSelection=t}},getField:function(){return this.textarea},supportsTouch:function(){return!1},focus:function(){if("nocursor"!=this.cm.options.readOnly&&(!Oi||$o()!=this.textarea))try{this.textarea.focus()}catch(e){}},blur:function(){this.textarea.blur()},resetPosition:function(){this.wrapper.style.top=this.wrapper.style.left=0},receivedFocus:function(){this.slowPoll()},slowPoll:function(){var e=this;e.pollingFast||e.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},fastPoll:function(){function e(){n.poll()||t?(n.pollingFast=!1,n.slowPoll()):(t=!0,n.polling.set(60,e))}var t=!1,n=this;n.pollingFast=!0,n.polling.set(20,e)},poll:function(){var e=this.cm,t=this.textarea,n=this.prevInput;if(this.contextMenuPending||!e.state.focused||ns(t)&&!n&&!this.composing||e.isReadOnly()||e.options.disableInput||e.state.keySeq)return!1;var r=t.value;if(r==n&&!e.somethingSelected())return!1;if(bi&&wi>=9&&this.hasSelection===r||_i&&/[\uf700-\uf7ff]/.test(r))return e.display.input.reset(),!1;if(e.doc.sel==e.display.selForContextMenu){var o=r.charCodeAt(0);if(8203!=o||n||(n="\u200b"),8666==o)return this.reset(),this.cm.execCommand("undo")}for(var i=0,a=Math.min(n.length,r.length);a>i&&n.charCodeAt(i)==r.charCodeAt(i);)++i;var s=this;return Ot(e,function(){K(e,r.slice(i),n.length-i,null,s.composing?"*compose":null),r.length>1e3||r.indexOf("\n")>-1?t.value=s.prevInput="":s.prevInput=r,s.composing&&(s.composing.range.clear(),s.composing.range=e.markText(s.composing.start,e.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},ensurePolled:function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},onKeyPress:function(){bi&&wi>=9&&(this.hasSelection=null),this.fastPoll()},onContextMenu:function(e){function t(){if(null!=a.selectionStart){var e=o.somethingSelected(),t="\u200b"+(e?a.value:"");a.value="\u21da",a.value=t,r.prevInput=e?"":"\u200b",a.selectionStart=1,a.selectionEnd=t.length,i.selForContextMenu=o.doc.sel}}function n(){if(r.contextMenuPending=!1,r.wrapper.style.cssText=u,a.style.cssText=c,bi&&9>wi&&i.scrollbars.setScrollTop(i.scroller.scrollTop=l),null!=a.selectionStart){(!bi||bi&&9>wi)&&t();var e=0,n=function(){i.selForContextMenu==o.doc.sel&&0==a.selectionStart&&a.selectionEnd>0&&"\u200b"==r.prevInput?_t(o,ua.selectAll)(o):e++<10?i.detectingSelectAll=setTimeout(n,500):i.input.reset()};i.detectingSelectAll=setTimeout(n,200)}}var r=this,o=r.cm,i=o.display,a=r.textarea,s=$t(o,e),l=i.scroller.scrollTop;if(s&&!Ei){o.options.resetSelectionOnContextMenu&&-1==o.doc.sel.contains(s)&&_t(o,ke)(o.doc,pe(s),Ra);var c=a.style.cssText,u=r.wrapper.style.cssText;r.wrapper.style.cssText="position: absolute";var d=r.wrapper.getBoundingClientRect();if(a.style.cssText="position: absolute; width: 30px; height: 30px; top: "+(e.clientY-d.top-5)+"px; left: "+(e.clientX-d.left-5)+"px; z-index: 1000; background: "+(bi?"rgba(255, 255, 255, .05)":"transparent")+"; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",xi)var f=window.scrollY;if(i.input.focus(),xi&&window.scrollTo(null,f),i.input.reset(),o.somethingSelected()||(a.value=r.prevInput=" "),r.contextMenuPending=!0,i.selForContextMenu=o.doc.sel,clearTimeout(i.detectingSelectAll),bi&&wi>=9&&t(),Ii){Oa(e);var p=function(){Na(window,"mouseup",p),setTimeout(n,20)};_a(window,"mouseup",p)}else setTimeout(n,50)}},readOnlyChanged:function(e){e||this.reset()},setUneditable:Do,needsContentAttribute:!1},ne.prototype),oe.prototype=Wo({init:function(e){function t(e){if(!jo(r,e)){if(r.somethingSelected())Bi={lineWise:!1,text:r.getSelections()},"cut"==e.type&&r.replaceSelection("",null,"cut");else{if(!r.options.lineWiseCopyCut)return;var t=ee(r);Bi={lineWise:!0,text:t.text},"cut"==e.type&&r.operation(function(){r.setSelections(t.ranges,0,Ra),r.replaceSelection("",null,"cut")})}if(e.clipboardData&&!Li)e.preventDefault(),e.clipboardData.clearData(),e.clipboardData.setData("text/plain",Bi.text.join("\n"));else{var n=re(),o=n.firstChild;r.display.lineSpace.insertBefore(n,r.display.lineSpace.firstChild),o.value=Bi.text.join("\n");var i=document.activeElement;qa(o),setTimeout(function(){r.display.lineSpace.removeChild(n),i.focus()},50)}}}var n=this,r=n.cm,o=n.div=e.lineDiv;te(o),_a(o,"paste",function(e){jo(r,e)||Z(e,r)}),_a(o,"compositionstart",function(e){var t=e.data;if(n.composing={sel:r.doc.sel,data:t,startData:t},t){var o=r.doc.sel.primary(),i=r.getLine(o.head.line).indexOf(t,Math.max(0,o.head.ch-t.length));i>-1&&i<=o.head.ch&&(n.composing.sel=pe(Wi(o.head.line,i),Wi(o.head.line,i+t.length)))}}),_a(o,"compositionupdate",function(e){n.composing.data=e.data}),_a(o,"compositionend",function(e){var t=n.composing;t&&(e.data==t.startData||/\u200b/.test(e.data)||(t.data=e.data),setTimeout(function(){t.handled||n.applyComposition(t),n.composing==t&&(n.composing=null)},50))}),_a(o,"touchstart",function(){n.forceCompositionEnd()}),_a(o,"input",function(){n.composing||!r.isReadOnly()&&n.pollContent()||Ot(n.cm,function(){It(r)})}),_a(o,"copy",t),_a(o,"cut",t)},prepareSelection:function(){var e=Ie(this.cm,!1);return e.focus=this.cm.state.focused,e},showSelection:function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},showPrimarySelection:function(){var e=window.getSelection(),t=this.cm.doc.sel.primary(),n=se(this.cm,e.anchorNode,e.anchorOffset),r=se(this.cm,e.focusNode,e.focusOffset);if(!n||n.bad||!r||r.bad||0!=Hi(X(n,r),t.from())||0!=Hi(V(n,r),t.to())){var o=ie(this.cm,t.from()),i=ie(this.cm,t.to());if(o||i){var a=this.cm.display.view,s=e.rangeCount&&e.getRangeAt(0);if(o){if(!i){var l=a[a.length-1].measure,c=l.maps?l.maps[l.maps.length-1]:l.map;i={node:c[c.length-1],offset:c[c.length-2]-c[c.length-3]}}}else o={node:a[0].measure.map[2],offset:0};try{var u=Ua(o.node,o.offset,i.offset,i.node)}catch(d){}u&&(!gi&&this.cm.state.focused?(e.collapse(o.node,o.offset),u.collapsed||e.addRange(u)):(e.removeAllRanges(),e.addRange(u)),s&&null==e.anchorNode?e.addRange(s):gi&&this.startGracePeriod()),this.rememberSelection()}}},startGracePeriod:function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){e.cm.curOp.selectionChanged=!0})},20)},showMultipleSelections:function(e){Go(this.cm.display.cursorDiv,e.cursors),Go(this.cm.display.selectionDiv,e.selection)},rememberSelection:function(){var e=window.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},selectionInEditor:function(){var e=window.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return Va(this.div,t)},focus:function(){"nocursor"!=this.cm.options.readOnly&&this.div.focus()},blur:function(){this.div.blur()},getField:function(){return this.div},supportsTouch:function(){return!0},receivedFocus:function(){function e(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,e))}var t=this;this.selectionInEditor()?this.pollSelection():Ot(this.cm,function(){t.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,e)},selectionChanged:function(){var e=window.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},pollSelection:function(){if(!this.composing&&!this.gracePeriod&&this.selectionChanged()){var e=window.getSelection(),t=this.cm;this.rememberSelection();var n=se(t,e.anchorNode,e.anchorOffset),r=se(t,e.focusNode,e.focusOffset);n&&r&&Ot(t,function(){ke(t.doc,pe(n,r),Ra),(n.bad||r.bad)&&(t.curOp.selectionChanged=!0)})}},pollContent:function(){var e,t=this.cm,n=t.display,r=t.doc.sel.primary(),o=r.from(),i=r.to();if(o.line<n.viewFrom||i.line>n.viewTo-1)return!1;if(o.line==n.viewFrom||0==(e=Wt(t,o.line)))var a=to(n.view[0].line),s=n.view[0].node;else a=to(n.view[e].line),s=n.view[e-1].node.nextSibling;var l=Wt(t,i.line);if(l==n.view.length-1)var c=n.viewTo-1,u=n.lineDiv.lastChild;else c=to(n.view[l+1].line)-1,u=n.view[l+1].node.previousSibling;for(var d=t.doc.splitLines(ce(t,s,u,a,c)),f=Zr(t.doc,Wi(a,0),Wi(c,Kr(t.doc,c).text.length));d.length>1&&f.length>1;)if(Mo(d)==Mo(f))d.pop(),f.pop(),c--;else{if(d[0]!=f[0])break;d.shift(),f.shift(),a++}for(var p=0,h=0,m=d[0],g=f[0],v=Math.min(m.length,g.length);v>p&&m.charCodeAt(p)==g.charCodeAt(p);)++p;for(var y=Mo(d),b=Mo(f),w=Math.min(y.length-(1==d.length?p:0),b.length-(1==f.length?p:0));w>h&&y.charCodeAt(y.length-h-1)==b.charCodeAt(b.length-h-1);)++h;d[d.length-1]=y.slice(0,y.length-h),d[0]=d[0].slice(p);var x=Wi(a,p),S=Wi(c,f.length?Mo(f).length-h:0);return d.length>1||d[0]||Hi(x,S)?(Nn(t.doc,d,x,S,"+input"),!0):void 0},ensurePolled:function(){this.forceCompositionEnd()},reset:function(){this.forceCompositionEnd()},forceCompositionEnd:function(){this.composing&&!this.composing.handled&&(this.applyComposition(this.composing),this.composing.handled=!0,this.div.blur(),this.div.focus())},applyComposition:function(e){this.cm.isReadOnly()?_t(this.cm,It)(this.cm):e.data&&e.data!=e.startData&&_t(this.cm,K)(this.cm,e.data,0,e.sel)},setUneditable:function(e){e.contentEditable="false"},onKeyPress:function(e){e.preventDefault(),this.cm.isReadOnly()||_t(this.cm,K)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0)},readOnlyChanged:function(e){this.div.contentEditable=String("nocursor"!=e)},onContextMenu:Do,resetPosition:Do,needsContentAttribute:!0},oe.prototype),e.inputStyles={textarea:ne,contenteditable:oe},ue.prototype={primary:function(){return this.ranges[this.primIndex]},equals:function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var n=this.ranges[t],r=e.ranges[t];if(0!=Hi(n.anchor,r.anchor)||0!=Hi(n.head,r.head))return!1}return!0},deepCopy:function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new de(Y(this.ranges[t].anchor),Y(this.ranges[t].head));return new ue(e,this.primIndex)},somethingSelected:function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},contains:function(e,t){t||(t=e);for(var n=0;n<this.ranges.length;n++){var r=this.ranges[n];if(Hi(t,r.from())>=0&&Hi(e,r.to())<=0)return n}return-1}},de.prototype={from:function(){return X(this.anchor,this.head)},to:function(){return V(this.anchor,this.head)},empty:function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch}};var Fi,zi,qi,Ui={left:0,right:0,top:0,bottom:0},Gi=null,$i=0,Yi=0,Vi=0,Xi=null;bi?Xi=-.53:gi?Xi=15:Ci?Xi=-.7:Ti&&(Xi=-1/3);var Qi=function(e){var t=e.wheelDeltaX,n=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==n&&e.detail&&e.axis==e.VERTICAL_AXIS?n=e.detail:null==n&&(n=e.wheelDelta),{x:t,y:n}};e.wheelEventPixels=function(e){var t=Qi(e);return t.x*=Xi,t.y*=Xi,t};var Ki=new Ao,Zi=null,Ji=e.changeEnd=function(e){return e.text?Wi(e.from.line+e.text.length-1,Mo(e.text).length+(1==e.text.length?e.from.ch:0)):e.to};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,t){var n=this.options,r=n[e];n[e]==t&&"mode"!=e||(n[e]=t,ta.hasOwnProperty(e)&&_t(this,ta[e])(this,t,r))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](Yn(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,n=0;n<t.length;++n)if(t[n]==e||t[n].name==e)return t.splice(n,1),!0},addOverlay:At(function(t,n){var r=t.token?t:e.getMode(this.options,t);if(r.startState)throw new Error("Overlays may not be stateful.");this.state.overlays.push({mode:r,modeSpec:t,opaque:n&&n.opaque}),this.state.modeGen++,It(this)}),removeOverlay:At(function(e){for(var t=this.state.overlays,n=0;n<t.length;++n){var r=t[n].modeSpec;if(r==e||"string"==typeof e&&r.name==e)return t.splice(n,1),this.state.modeGen++,void It(this)}}),indentLine:At(function(e,t,n){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),ve(this.doc,e)&&Bn(this,e,t,n)}),indentSelection:At(function(e){for(var t=this.doc.sel.ranges,n=-1,r=0;r<t.length;r++){var o=t[r];if(o.empty())o.head.line>n&&(Bn(this,o.head.line,e,!0),n=o.head.line,r==this.doc.sel.primIndex&&Wn(this));else{var i=o.from(),a=o.to(),s=Math.max(n,i.line);n=Math.min(this.lastLine(),a.line-(a.ch?0:1))+1;for(var l=s;n>l;++l)Bn(this,l,e);var c=this.doc.sel.ranges;0==i.ch&&t.length==c.length&&c[r].from().ch>0&&Se(this.doc,r,new de(i,c[r].to()),Ra)}}}),getTokenAt:function(e,t){return Nr(this,e,t)},getLineTokens:function(e,t){return Nr(this,Wi(e),t,!0)},getTokenTypeAt:function(e){e=me(this.doc,e);var t,n=Ir(this,Kr(this.doc,e.line)),r=0,o=(n.length-1)/2,i=e.ch;if(0==i)t=n[2];else for(;;){var a=r+o>>1;if((a?n[2*a-1]:0)>=i)o=a;else{if(!(n[2*a+1]<i)){t=n[2*a+2];break}r=a+1}}var s=t?t.indexOf("cm-overlay "):-1;return 0>s?t:0==s?null:t.slice(0,s-1)},getModeAt:function(t){var n=this.doc.mode;return n.innerMode?e.innerMode(n,this.getTokenAt(t).state).mode:n},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var n=[];if(!sa.hasOwnProperty(t))return n;var r=sa[t],o=this.getModeAt(e);if("string"==typeof o[t])r[o[t]]&&n.push(r[o[t]]);else if(o[t])for(var i=0;i<o[t].length;i++){var a=r[o[t][i]];a&&n.push(a)}else o.helperType&&r[o.helperType]?n.push(r[o.helperType]):r[o.name]&&n.push(r[o.name]);for(i=0;i<r._global.length;i++){var s=r._global[i];s.pred(o,this)&&-1==Po(n,s.val)&&n.push(s.val)}return n},getStateAfter:function(e,t){var n=this.doc;return ze(this,(e=he(n,null==e?n.first+n.size-1:e))+1,t)},cursorCoords:function(e,t){var n=this.doc.sel.primary();return pt(this,null==e?n.head:"object"==typeof e?me(this.doc,e):e?n.from():n.to(),t||"page")},charCoords:function(e,t){return ft(this,me(this.doc,e),t||"page")},coordsChar:function(e,t){return gt(this,(e=dt(this,e,t||"page")).left,e.top)},lineAtHeight:function(e,t){return e=dt(this,{top:e,left:0},t||"page").top,no(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t){var n,r=!1;if("number"==typeof e){var o=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>o&&(e=o,r=!0),n=Kr(this.doc,e)}else n=e;return ut(this,n,{top:0,left:0},t||"page").top+(r?this.doc.height-ro(n):0)},defaultTextHeight:function(){return yt(this.display)},defaultCharWidth:function(){return bt(this.display)},setGutterMarker:At(function(e,t,n){return Fn(this.doc,e,"gutter",function(e){var r=e.gutterMarkers||(e.gutterMarkers={});return r[t]=n,!n&&Fo(r)&&(e.gutterMarkers=null),!0})}),clearGutter:At(function(e){var t=this,n=t.doc,r=n.first;n.iter(function(n){n.gutterMarkers&&n.gutterMarkers[e]&&(n.gutterMarkers[e]=null,Dt(t,r,"gutter"),Fo(n.gutterMarkers)&&(n.gutterMarkers=null)),++r})}),lineInfo:function(e){if("number"==typeof e){if(!ve(this.doc,e))return null;var t=e;if(!(e=Kr(this.doc,e)))return null}else{if(null==(t=to(e)))return null}return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,n,r,o){var i=this.display,a=(e=pt(this,me(this.doc,e))).bottom,s=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),i.sizer.appendChild(t),"over"==r)a=e.top;else if("above"==r||"near"==r){var l=Math.max(i.wrapper.clientHeight,this.doc.height),c=Math.max(i.sizer.clientWidth,i.lineSpace.clientWidth);("above"==r||e.bottom+t.offsetHeight>l)&&e.top>t.offsetHeight?a=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=l&&(a=e.bottom),s+t.offsetWidth>c&&(s=c-t.offsetWidth)}t.style.top=a+"px",t.style.left=t.style.right="","right"==o?(s=i.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==o?s=0:"middle"==o&&(s=(i.sizer.clientWidth-t.offsetWidth)/2),t.style.left=s+"px"),n&&In(this,s,a,s+t.offsetWidth,a+t.offsetHeight)},triggerOnKeyDown:At(fn),triggerOnKeyPress:At(mn),triggerOnKeyUp:hn,execCommand:function(e){return ua.hasOwnProperty(e)?ua[e].call(null,this):void 0},triggerElectric:At(function(e){J(this,e)}),findPosH:function(e,t,n,r){var o=1;0>t&&(o=-1,t=-t);for(var i=0,a=me(this.doc,e);t>i&&!(a=qn(this.doc,a,o,n,r)).hitSide;++i);return a},moveH:At(function(e,t){var n=this;n.extendSelectionsBy(function(r){return n.display.shift||n.doc.extend||r.empty()?qn(n.doc,r.head,e,t,n.options.rtlMoveVisually):0>e?r.from():r.to()},Ha)}),deleteH:At(function(e,t){var n=this.doc.sel,r=this.doc;n.somethingSelected()?r.replaceSelection("",null,"+delete"):zn(this,function(n){var o=qn(r,n.head,e,t,!1);return 0>e?{from:o,to:n.head}:{from:n.head,to:o}})}),findPosV:function(e,t,n,r){var o=1,i=r;0>t&&(o=-1,t=-t);for(var a=0,s=me(this.doc,e);t>a;++a){var l=pt(this,s,"div");if(null==i?i=l.left:l.left=i,(s=Un(this,l,o,n)).hitSide)break}return s},moveV:At(function(e,t){var n=this,r=this.doc,o=[],i=!n.display.shift&&!r.extend&&r.sel.somethingSelected();if(r.extendSelectionsBy(function(a){if(i)return 0>e?a.from():a.to();var s=pt(n,a.head,"div");null!=a.goalColumn&&(s.left=a.goalColumn),o.push(s.left);var l=Un(n,s,e,t);return"page"==t&&a==r.sel.primary()&&Rn(n,null,ft(n,l,"div").top-s.top),l},Ha),o.length)for(var a=0;a<r.sel.ranges.length;a++)r.sel.ranges[a].goalColumn=o[a]}),findWordAt:function(e){var t=Kr(this.doc,e.line).text,n=e.ch,r=e.ch;if(t){var o=this.getHelper(e,"wordChars");(e.xRel<0||r==t.length)&&n?--n:++r;for(var i=t.charAt(n),a=Bo(i,o)?function(e){return Bo(e,o)}:/\s/.test(i)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!Bo(e)};n>0&&a(t.charAt(n-1));)--n;for(;r<t.length&&a(t.charAt(r));)++r}return new de(Wi(e.line,n),Wi(e.line,r))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?Za(this.display.cursorDiv,"CodeMirror-overwrite"):Ka(this.display.cursorDiv,"CodeMirror-overwrite"),Ma(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==$o()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:At(function(e,t){null==e&&null==t||Hn(this),null!=e&&(this.curOp.scrollLeft=e),null!=t&&(this.curOp.scrollTop=t)}),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-$e(this)-this.display.barHeight,width:e.scrollWidth-$e(this)-this.display.barWidth,clientHeight:Ve(this),clientWidth:Ye(this)}},scrollIntoView:At(function(e,t){if(null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:Wi(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line)Hn(this),this.curOp.scrollToPos=e;else{var n=Dn(this,Math.min(e.from.left,e.to.left),Math.min(e.from.top,e.to.top)-e.margin,Math.max(e.from.right,e.to.right),Math.max(e.from.bottom,e.to.bottom)+e.margin);this.scrollTo(n.scrollLeft,n.scrollTop)}}),setSize:At(function(e,t){function n(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e}var r=this;null!=e&&(r.display.wrapper.style.width=n(e)),null!=t&&(r.display.wrapper.style.height=n(t)),r.options.lineWrapping&&at(this);var o=r.display.viewFrom;r.doc.iter(o,r.display.viewTo,function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){Dt(r,o,"widget");break}++o}),r.curOp.forceUpdate=!0,Ma(r,"refresh",this)}),operation:function(e){return Ot(this,e)},refresh:At(function(){var e=this.display.cachedTextHeight;It(this),this.curOp.forceUpdate=!0,st(this),this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop),u(this),(null==e||Math.abs(e-yt(this.display))>.5)&&a(this),Ma(this,"refresh",this)}),swapDoc:At(function(e){var t=this.doc;return t.cm=null,Qr(this,e),st(this),this.display.input.reset(),this.scrollTo(e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,To(this,"swapDoc",this,t),t}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},_o(e);var ea=e.defaults={},ta=e.optionHandlers={},na=e.Init={toString:function(){return"CodeMirror.Init"}};Gn("value","",function(e,t){e.setValue(t)},!0),Gn("mode",null,function(e,t){e.doc.modeOption=t,n(e)},!0),Gn("indentUnit",2,n,!0),Gn("indentWithTabs",!1),Gn("smartIndent",!0),Gn("tabSize",4,function(e){r(e),st(e),It(e)},!0),Gn("lineSeparator",null,function(e,t){if(e.doc.lineSep=t,t){var n=[],r=e.doc.first;e.doc.iter(function(e){for(var o=0;;){var i=e.text.indexOf(t,o);if(-1==i)break;o=i+t.length,n.push(Wi(r,i))}r++});for(var o=n.length-1;o>=0;o--)Nn(e.doc,t,n[o],Wi(n[o].line,n[o].ch+t.length))}}),Gn("specialChars",/[\u0000-\u001f\u007f\u00ad\u200b-\u200f\u2028\u2029\ufeff]/g,function(t,n,r){t.state.specialChars=new RegExp(n.source+(n.test("\t")?"":"|\t"),"g"),r!=e.Init&&t.refresh()}),Gn("specialCharPlaceholder",Hr,function(e){e.refresh()},!0),Gn("electricChars",!0),Gn("inputStyle",Oi?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),Gn("rtlMoveVisually",!Ni),Gn("wholeLineUpdateBefore",!0),Gn("theme","default",function(e){s(e),l(e)},!0),Gn("keyMap","default",function(t,n,r){var o=Yn(n),i=r!=e.Init&&Yn(r);i&&i.detach&&i.detach(t,o),o.attach&&o.attach(t,i||null)}),Gn("extraKeys",null),Gn("lineWrapping",!1,o,!0),Gn("gutters",[],function(e){p(e.options),l(e)},!0),Gn("fixedGutter",!0,function(e,t){e.display.gutters.style.left=t?E(e.display)+"px":"0",e.refresh()},!0),Gn("coverGutterNextToScrollbar",!1,function(e){y(e)},!0),Gn("scrollbarStyle","native",function(e){v(e),y(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)},!0),Gn("lineNumbers",!1,function(e){p(e.options),l(e)},!0),Gn("firstLineNumber",1,l,!0),Gn("lineNumberFormatter",function(e){return e},l,!0),Gn("showCursorWhenSelecting",!1,Pe,!0),Gn("resetSelectionOnContextMenu",!0),Gn("lineWiseCopyCut",!0),Gn("readOnly",!1,function(e,t){"nocursor"==t?(yn(e),e.display.input.blur(),e.display.disabled=!0):e.display.disabled=!1,e.display.input.readOnlyChanged(t)}),Gn("disableInput",!1,function(e,t){t||e.display.input.reset()},!0),Gn("dragDrop",!0,qt),Gn("allowDropFileTypes",null),Gn("cursorBlinkRate",530),Gn("cursorScrollMargin",0),Gn("cursorHeight",1,Pe,!0),Gn("singleCursorHeightPerLine",!0,Pe,!0),Gn("workTime",100),Gn("workDelay",100),Gn("flattenSpans",!0,r,!0),Gn("addModeClass",!1,r,!0),Gn("pollInterval",100),Gn("undoDepth",200,function(e,t){e.doc.history.undoDepth=t}),Gn("historyEventDelay",1250),Gn("viewportMargin",10,function(e){e.refresh()},!0),Gn("maxHighlightLength",1e4,r,!0),Gn("moveInputWithCursor",!0,function(e,t){t||e.display.input.resetPosition()}),Gn("tabindex",null,function(e,t){e.display.input.getField().tabIndex=t||""}),Gn("autofocus",null);var ra=e.modes={},oa=e.mimeModes={};e.defineMode=function(t,n){e.defaults.mode||"null"==t||(e.defaults.mode=t),arguments.length>2&&(n.dependencies=Array.prototype.slice.call(arguments,2)),ra[t]=n},e.defineMIME=function(e,t){oa[e]=t},e.resolveMode=function(t){if("string"==typeof t&&oa.hasOwnProperty(t))t=oa[t];else if(t&&"string"==typeof t.name&&oa.hasOwnProperty(t.name)){var n=oa[t.name];"string"==typeof n&&(n={name:n}),(t=Ro(n,t)).name=n.name}else if("string"==typeof t&&/^[\w\-]+\/[\w\-]+\+xml$/.test(t))return e.resolveMode("application/xml");return"string"==typeof t?{name:t}:t||{name:"null"}},e.getMode=function(t,n){n=e.resolveMode(n);var r=ra[n.name];if(!r)return e.getMode(t,"text/plain");var o=r(t,n);if(ia.hasOwnProperty(n.name)){var i=ia[n.name];for(var a in i)i.hasOwnProperty(a)&&(o.hasOwnProperty(a)&&(o["_"+a]=o[a]),o[a]=i[a])}if(o.name=n.name,n.helperType&&(o.helperType=n.helperType),n.modeProps)for(var a in n.modeProps)o[a]=n.modeProps[a];return o},e.defineMode("null",function(){return{token:function(e){e.skipToEnd()}}}),e.defineMIME("text/plain","null");var ia=e.modeExtensions={};e.extendMode=function(e,t){Wo(t,ia.hasOwnProperty(e)?ia[e]:ia[e]={})},e.defineExtension=function(t,n){e.prototype[t]=n},e.defineDocExtension=function(e,t){Ea.prototype[e]=t},e.defineOption=Gn;var aa=[];e.defineInitHook=function(e){aa.push(e)};var sa=e.helpers={};e.registerHelper=function(t,n,r){sa.hasOwnProperty(t)||(sa[t]=e[t]={_global:[]}),sa[t][n]=r},e.registerGlobalHelper=function(t,n,r,o){e.registerHelper(t,n,o),sa[t]._global.push({pred:r,val:o})};var la=e.copyState=function(e,t){if(!0===t)return t;if(e.copyState)return e.copyState(t);var n={};for(var r in t){var o=t[r];o instanceof Array&&(o=o.concat([])),n[r]=o}return n},ca=e.startState=function(e,t,n){return!e.startState||e.startState(t,n)};e.innerMode=function(e,t){for(;e.innerMode;){var n=e.innerMode(t);if(!n||n.mode==e)break;t=n.state,e=n.mode}return n||{mode:e,state:t}};var ua=e.commands={selectAll:function(e){e.setSelection(Wi(e.firstLine(),0),Wi(e.lastLine()),Ra)},singleSelection:function(e){e.setSelection(e.getCursor("anchor"),e.getCursor("head"),Ra)},killLine:function(e){zn(e,function(t){if(t.empty()){var n=Kr(e.doc,t.head.line).text.length;return t.head.ch==n&&t.head.line<e.lastLine()?{from:t.head,to:Wi(t.head.line+1,0)}:{from:t.head,to:Wi(t.head.line,n)}}return{from:t.from(),to:t.to()}})},deleteLine:function(e){zn(e,function(t){return{from:Wi(t.from().line,0),to:me(e.doc,Wi(t.to().line+1,0))}})},delLineLeft:function(e){zn(e,function(e){return{from:Wi(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(e){zn(e,function(t){var n=e.charCoords(t.head,"div").top+5;return{from:e.coordsChar({left:0,top:n},"div"),to:t.from()}})},delWrappedLineRight:function(e){zn(e,function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div");return{from:t.from(),to:r}})},undo:function(e){e.undo()},redo:function(e){e.redo()},undoSelection:function(e){e.undoSelection()},redoSelection:function(e){e.redoSelection()},goDocStart:function(e){e.extendSelection(Wi(e.firstLine(),0))},goDocEnd:function(e){e.extendSelection(Wi(e.lastLine()))},goLineStart:function(e){e.extendSelectionsBy(function(t){return ai(e,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){e.extendSelectionsBy(function(t){return li(e,t.head)},{origin:"+move",bias:1})},goLineEnd:function(e){e.extendSelectionsBy(function(t){return si(e,t.head.line)},{origin:"+move",bias:-1})},goLineRight:function(e){e.extendSelectionsBy(function(t){var n=e.charCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div")},Ha)},goLineLeft:function(e){e.extendSelectionsBy(function(t){var n=e.charCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:n},"div")},Ha)},goLineLeftSmart:function(e){e.extendSelectionsBy(function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:0,top:n},"div");return r.ch<e.getLine(r.line).search(/\S/)?li(e,t.head):r},Ha)},goLineUp:function(e){e.moveV(-1,"line")},goLineDown:function(e){e.moveV(1,"line")},goPageUp:function(e){e.moveV(-1,"page")},goPageDown:function(e){e.moveV(1,"page")},goCharLeft:function(e){e.moveH(-1,"char")},goCharRight:function(e){e.moveH(1,"char")},goColumnLeft:function(e){e.moveH(-1,"column")},goColumnRight:function(e){e.moveH(1,"column")},goWordLeft:function(e){e.moveH(-1,"word")},goGroupRight:function(e){e.moveH(1,"group")},goGroupLeft:function(e){e.moveH(-1,"group")},goWordRight:function(e){e.moveH(1,"word")},delCharBefore:function(e){e.deleteH(-1,"char")},delCharAfter:function(e){e.deleteH(1,"char")},delWordBefore:function(e){e.deleteH(-1,"word")},delWordAfter:function(e){e.deleteH(1,"word")},delGroupBefore:function(e){e.deleteH(-1,"group")},delGroupAfter:function(e){e.deleteH(1,"group")},indentAuto:function(e){e.indentSelection("smart")},indentMore:function(e){e.indentSelection("add")},indentLess:function(e){e.indentSelection("subtract")},insertTab:function(e){e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],n=e.listSelections(),r=e.options.tabSize,o=0;o<n.length;o++){var i=n[o].from(),a=Ba(e.getLine(i.line),i.ch,r);t.push(No(r-a%r))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){Ot(e,function(){for(var t=e.listSelections(),n=[],r=0;r<t.length;r++){var o=t[r].head,i=Kr(e.doc,o.line).text;if(i)if(o.ch==i.length&&(o=new Wi(o.line,o.ch-1)),o.ch>0)o=new Wi(o.line,o.ch+1),e.replaceRange(i.charAt(o.ch-1)+i.charAt(o.ch-2),Wi(o.line,o.ch-2),o,"+transpose");else if(o.line>e.doc.first){var a=Kr(e.doc,o.line-1).text;a&&e.replaceRange(i.charAt(0)+e.doc.lineSeparator()+a.charAt(a.length-1),Wi(o.line-1,a.length-1),Wi(o.line,1),"+transpose")}n.push(new de(o,o))}e.setSelections(n)})},newlineAndIndent:function(e){Ot(e,function(){for(var t=e.listSelections().length,n=0;t>n;n++){var r=e.listSelections()[n];e.replaceRange(e.doc.lineSeparator(),r.anchor,r.head,"+input"),e.indentLine(r.from().line+1,null,!0)}Wn(e)})},openLine:function(e){e.replaceSelection("\n","start")},toggleOverwrite:function(e){e.toggleOverwrite()}},da=e.keyMap={};da.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},da.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},da.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},da.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},da["default"]=_i?da.macDefault:da.pcDefault,e.normalizeKeyMap=function(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if("..."==r){delete e[n];continue}for(var o=Io(n.split(" "),$n),i=0;i<o.length;i++){var a,s;i==o.length-1?(s=o.join(" "),a=r):(s=o.slice(0,i+1).join(" "),a="...");var l=t[s];if(l){
if(l!=a)throw new Error("Inconsistent bindings for "+s)}else t[s]=a}delete e[n]}for(var c in t)e[c]=t[c];return e};var fa=e.lookupKey=function(e,t,n,r){var o=(t=Yn(t)).call?t.call(e,r):t[e];if(!1===o)return"nothing";if("..."===o)return"multi";if(null!=o&&n(o))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return fa(e,t.fallthrough,n,r);for(var i=0;i<t.fallthrough.length;i++){var a=fa(e,t.fallthrough[i],n,r);if(a)return a}}},pa=e.isModifierKey=function(e){var t="string"==typeof e?e:is[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t},ha=e.keyName=function(e,t){if(Ei&&34==e.keyCode&&e.char)return!1;var n=is[e.keyCode],r=n;return null!=r&&!e.altGraphKey&&(e.altKey&&"Alt"!=n&&(r="Alt-"+r),(Pi?e.metaKey:e.ctrlKey)&&"Ctrl"!=n&&(r="Ctrl-"+r),(Pi?e.ctrlKey:e.metaKey)&&"Cmd"!=n&&(r="Cmd-"+r),!t&&e.shiftKey&&"Shift"!=n&&(r="Shift-"+r),r)};e.fromTextArea=function(t,n){function r(){t.value=c.getValue()}if((n=n?Wo(n):{}).value=t.value,!n.tabindex&&t.tabIndex&&(n.tabindex=t.tabIndex),!n.placeholder&&t.placeholder&&(n.placeholder=t.placeholder),null==n.autofocus){var o=$o();n.autofocus=o==t||null!=t.getAttribute("autofocus")&&o==document.body}if(t.form&&(_a(t.form,"submit",r),!n.leaveSubmitMethodAlone)){var i=t.form,a=i.submit;try{var s=i.submit=function(){r(),i.submit=a,i.submit(),i.submit=s}}catch(l){}}n.finishInit=function(e){e.save=r,e.getTextArea=function(){return t},e.toTextArea=function(){e.toTextArea=isNaN,r(),t.parentNode.removeChild(e.getWrapperElement()),t.style.display="",t.form&&(Na(t.form,"submit",r),"function"==typeof t.form.submit&&(t.form.submit=a))}},t.style.display="none";var c=e(function(e){t.parentNode.insertBefore(e,t.nextSibling)},n);return c};var ma=e.StringStream=function(e,t){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0};ma.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){return this.pos<this.string.length?this.string.charAt(this.pos++):void 0},eat:function(e){var t=this.string.charAt(this.pos);if("string"==typeof e)var n=t==e;else n=t&&(e.test?e.test(t):e(t));return n?(++this.pos,t):void 0},eatWhile:function(e){for(var t=this.pos;this.eat(e););return this.pos>t},eatSpace:function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},skipToEnd:function(){this.pos=this.string.length},skipTo:function(e){var t=this.string.indexOf(e,this.pos);return t>-1?(this.pos=t,!0):void 0},backUp:function(e){this.pos-=e},column:function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Ba(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?Ba(this.string,this.lineStart,this.tabSize):0)},indentation:function(){return Ba(this.string,null,this.tabSize)-(this.lineStart?Ba(this.string,this.lineStart,this.tabSize):0)},match:function(e,t,n){if("string"!=typeof e){var r=this.string.slice(this.pos).match(e);return r&&r.index>0?null:(r&&!1!==t&&(this.pos+=r[0].length),r)}var o=function(e){return n?e.toLowerCase():e};return o(this.string.substr(this.pos,e.length))==o(e)?(!1!==t&&(this.pos+=e.length),!0):void 0},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}}};var ga=0,va=e.TextMarker=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++ga};_o(va),va.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&wt(e),Oo(this,"clear")){var n=this.find();n&&To(this,"clear",n.from,n.to)}for(var r=null,o=null,i=0;i<this.lines.length;++i){var a=this.lines[i],s=er(a.markedSpans,this);e&&!this.collapsed?Dt(e,to(a),"text"):e&&(null!=s.to&&(o=to(a)),null!=s.from&&(r=to(a))),a.markedSpans=tr(a.markedSpans,s),null==s.from&&this.collapsed&&!Sr(this.doc,a)&&e&&eo(a,yt(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(i=0;i<this.lines.length;++i){var l=yr(this.lines[i]),c=d(l);c>e.display.maxLineLength&&(e.display.maxLine=l,e.display.maxLineLength=c,e.display.maxLineChanged=!0)}null!=r&&e&&this.collapsed&&It(e,r,o+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&Oe(e.doc)),e&&To(e,"markerCleared",e,this),t&&St(e),this.parent&&this.parent.clear()}},va.prototype.find=function(e,t){null==e&&"bookmark"==this.type&&(e=1);for(var n,r,o=0;o<this.lines.length;++o){var i=this.lines[o],a=er(i.markedSpans,this);if(null!=a.from&&(n=Wi(t?i:to(i),a.from),-1==e))return n;if(null!=a.to&&(r=Wi(t?i:to(i),a.to),1==e))return r}return n&&{from:n,to:r}},va.prototype.changed=function(){var e=this.find(-1,!0),t=this,n=this.doc.cm;e&&n&&Ot(n,function(){var r=e.line,o=to(e.line),i=Je(n,o);if(i&&(it(i),n.curOp.selectionChanged=n.curOp.forceUpdate=!0),n.curOp.updateMaxLine=!0,!Sr(t.doc,r)&&null!=t.height){var a=t.height;t.height=null;var s=Tr(t)-a;s&&eo(r,r.height+s)}})},va.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=Po(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},va.prototype.detachLine=function(e){if(this.lines.splice(Po(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}};ga=0;var ya=e.SharedTextMarker=function(e,t){this.markers=e,this.primary=t;for(var n=0;n<e.length;++n)e[n].parent=this};_o(ya),ya.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();To(this,"clear")}},ya.prototype.find=function(e,t){return this.primary.find(e,t)};var ba=e.LineWidget=function(e,t,n){if(n)for(var r in n)n.hasOwnProperty(r)&&(this[r]=n[r]);this.doc=e,this.node=t};_o(ba),ba.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,n=this.line,r=to(n);if(null!=r&&t){for(var o=0;o<t.length;++o)t[o]==this&&t.splice(o--,1);t.length||(n.widgets=null);var i=Tr(this);eo(n,Math.max(0,n.height-i)),e&&Ot(e,function(){Er(e,n,-i),Dt(e,r,"widget")})}},ba.prototype.changed=function(){var e=this.height,t=this.doc.cm,n=this.line;this.height=null;var r=Tr(this)-e;r&&(eo(n,n.height+r),t&&Ot(t,function(){t.curOp.forceUpdate=!0,Er(t,n,r)}))};var wa=e.Line=function(e,t,n){this.text=e,ur(this,t),this.height=n?n(this):1};_o(wa),wa.prototype.lineNo=function(){return to(this)};var xa={},Sa={};Yr.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var n=e,r=e+t;r>n;++n){var o=this.lines[n];this.height-=o.height,Lr(o),To(o,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,n){this.height+=n,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var r=0;r<t.length;++r)t[r].parent=this},iterN:function(e,t,n){for(var r=e+t;r>e;++e)if(n(this.lines[e]))return!0}},Vr.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var n=0;n<this.children.length;++n){var r=this.children[n],o=r.chunkSize();if(o>e){var i=Math.min(t,o-e),a=r.height;if(r.removeInner(e,i),this.height-=a-r.height,o==i&&(this.children.splice(n--,1),r.parent=null),0==(t-=i))break;e=0}else e-=o}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof Yr))){var s=[];this.collapse(s),this.children=[new Yr(s)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,n){this.size+=t.length,this.height+=n;for(var r=0;r<this.children.length;++r){var o=this.children[r],i=o.chunkSize();if(i>=e){if(o.insertInner(e,t,n),o.lines&&o.lines.length>50){for(var a=o.lines.length%25+25,s=a;s<o.lines.length;){var l=new Yr(o.lines.slice(s,s+=25));o.height-=l.height,this.children.splice(++r,0,l),l.parent=this}o.lines=o.lines.slice(0,a),this.maybeSpill()}break}e-=i}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=new Vr(e.children.splice(e.children.length-5,5));if(e.parent){e.size-=t.size,e.height-=t.height;var n=Po(e.parent.children,e);e.parent.children.splice(n+1,0,t)}else{var r=new Vr(e.children);r.parent=e,e.children=[r,t],e=r}t.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,n){for(var r=0;r<this.children.length;++r){var o=this.children[r],i=o.chunkSize();if(i>e){var a=Math.min(t,i-e);if(o.iterN(e,a,n))return!0;if(0==(t-=a))break;e=0}else e-=i}}};var Ca=0,Ea=e.Doc=function(e,t,n,r){if(!(this instanceof Ea))return new Ea(e,t,n,r);null==n&&(n=0),Vr.call(this,[new Yr([new wa("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.frontier=n;var o=Wi(n,0);this.sel=pe(o),this.history=new io(null),this.id=++Ca,this.modeOption=t,this.lineSep=r,this.extend=!1,"string"==typeof e&&(e=this.splitLines(e)),$r(this,{from:o,to:o,text:e}),ke(this,pe(o),Ra)};Ea.prototype=Ro(Vr.prototype,{constructor:Ea,iter:function(e,t,n){n?this.iterN(e-this.first,t-e,n):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var n=0,r=0;r<t.length;++r)n+=t[r].height;this.insertInner(e-this.first,t,n)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=Jr(this,this.first,this.first+this.size);return!1===e?t:t.join(e||this.lineSeparator())},setValue:Nt(function(e){var t=Wi(this.first,0),n=this.first+this.size-1;kn(this,{from:t,to:Wi(n,Kr(this,n).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),ke(this,pe(t))}),replaceRange:function(e,t,n,r){Nn(this,e,t=me(this,t),n=n?me(this,n):t,r)},getRange:function(e,t,n){var r=Zr(this,me(this,e),me(this,t));return!1===n?r:r.join(n||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){return ve(this,e)?Kr(this,e):void 0},getLineNumber:function(e){return to(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=Kr(this,e)),yr(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return me(this,e)},getCursor:function(e){var t=this.sel.primary();return null==e||"head"==e?t.head:"anchor"==e?t.anchor:"end"==e||"to"==e||!1===e?t.to():t.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Nt(function(e,t,n){Ce(this,me(this,"number"==typeof e?Wi(e,t||0):e),null,n)}),setSelection:Nt(function(e,t,n){Ce(this,me(this,e),me(this,t||e),n)}),extendSelection:Nt(function(e,t,n){we(this,me(this,e),t&&me(this,t),n)}),extendSelections:Nt(function(e,t){xe(this,ye(this,e),t)}),extendSelectionsBy:Nt(function(e,t){xe(this,ye(this,Io(this.sel.ranges,e)),t)}),setSelections:Nt(function(e,t,n){if(e.length){for(var r=0,o=[];r<e.length;r++)o[r]=new de(me(this,e[r].anchor),me(this,e[r].head));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),ke(this,fe(o,t),n)}}),addSelection:Nt(function(e,t,n){var r=this.sel.ranges.slice(0);r.push(new de(me(this,e),me(this,t||e))),ke(this,fe(r,r.length-1),n)}),getSelection:function(e){for(var t,n=this.sel.ranges,r=0;r<n.length;r++){var o=Zr(this,n[r].from(),n[r].to());t=t?t.concat(o):o}return!1===e?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],n=this.sel.ranges,r=0;r<n.length;r++){var o=Zr(this,n[r].from(),n[r].to());!1!==e&&(o=o.join(e||this.lineSeparator())),t[r]=o}return t},replaceSelection:function(e,t,n){for(var r=[],o=0;o<this.sel.ranges.length;o++)r[o]=e;this.replaceSelections(r,t,n||"+input")},replaceSelections:Nt(function(e,t,n){for(var r=[],o=this.sel,i=0;i<o.ranges.length;i++){var a=o.ranges[i];r[i]={from:a.from(),to:a.to(),text:this.splitLines(e[i]),origin:n}}var s=t&&"end"!=t&&En(this,r,t);for(i=r.length-1;i>=0;i--)kn(this,r[i]);s?Te(this,s):this.cm&&Wn(this.cm)}),undo:Nt(function(){Ln(this,"undo")}),redo:Nt(function(){Ln(this,"redo")}),undoSelection:Nt(function(){Ln(this,"undo",!0)}),redoSelection:Nt(function(){Ln(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,n=0,r=0;r<e.done.length;r++)e.done[r].ranges||++t;for(r=0;r<e.undone.length;r++)e.undone[r].ranges||++n;return{undo:t,redo:n}},clearHistory:function(){this.history=new io(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:vo(this.history.done),undone:vo(this.history.undone)}},setHistory:function(e){var t=this.history=new io(this.history.maxGeneration);t.done=vo(e.done.slice(0),null,!0),t.undone=vo(e.undone.slice(0),null,!0)},addLineClass:Nt(function(e,t,n){return Fn(this,e,"gutter"==t?"gutter":"class",function(e){var r="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass";if(e[r]){if(Yo(n).test(e[r]))return!1;e[r]+=" "+n}else e[r]=n;return!0})}),removeLineClass:Nt(function(e,t,n){return Fn(this,e,"gutter"==t?"gutter":"class",function(e){var r="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass",o=e[r];if(!o)return!1;if(null==n)e[r]=null;else{var i=o.match(Yo(n));if(!i)return!1;var a=i.index+i[0].length;e[r]=o.slice(0,i.index)+(i.index&&a!=o.length?" ":"")+o.slice(a)||null}return!0})}),addLineWidget:Nt(function(e,t,n){return kr(this,e,t,n)}),removeLineWidget:function(e){e.clear()},markText:function(e,t,n){return Vn(this,me(this,e),me(this,t),n,n&&n.type||"range")},setBookmark:function(e,t){var n={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return Vn(this,e=me(this,e),e,n,"bookmark")},findMarksAt:function(e){var t=[],n=Kr(this,(e=me(this,e)).line).markedSpans;if(n)for(var r=0;r<n.length;++r){var o=n[r];(null==o.from||o.from<=e.ch)&&(null==o.to||o.to>=e.ch)&&t.push(o.marker.parent||o.marker)}return t},findMarks:function(e,t,n){e=me(this,e),t=me(this,t);var r=[],o=e.line;return this.iter(e.line,t.line+1,function(i){var a=i.markedSpans;if(a)for(var s=0;s<a.length;s++){var l=a[s];null!=l.to&&o==e.line&&e.ch>=l.to||null==l.from&&o!=e.line||null!=l.from&&o==t.line&&l.from>=t.ch||n&&!n(l.marker)||r.push(l.marker.parent||l.marker)}++o}),r},getAllMarks:function(){var e=[];return this.iter(function(t){var n=t.markedSpans;if(n)for(var r=0;r<n.length;++r)null!=n[r].from&&e.push(n[r].marker)}),e},posFromIndex:function(e){var t,n=this.first,r=this.lineSeparator().length;return this.iter(function(o){var i=o.text.length+r;return i>e?(t=e,!0):(e-=i,void++n)}),me(this,Wi(n,t))},indexFromPos:function(e){var t=(e=me(this,e)).ch;if(e.line<this.first||e.ch<0)return 0;var n=this.lineSeparator().length;return this.iter(this.first,e.line,function(e){t+=e.text.length+n}),t},copy:function(e){var t=new Ea(Jr(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,n=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<n&&(n=e.to);var r=new Ea(Jr(this,t,n),e.mode||this.modeOption,t,this.lineSep);return e.sharedHist&&(r.history=this.history),(this.linked||(this.linked=[])).push({doc:r,sharedHist:e.sharedHist}),r.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],Kn(r,Qn(this)),r},unlinkDoc:function(t){if(t instanceof e&&(t=t.doc),this.linked)for(var n=0;n<this.linked.length;++n){if(this.linked[n].doc==t){this.linked.splice(n,1),t.unlinkDoc(this),Zn(Qn(this));break}}if(t.history==this.history){var r=[t.id];Xr(t,function(e){r.push(e.id)},!0),t.history=new io(null),t.history.done=vo(this.history.done,r),t.history.undone=vo(this.history.undone,r)}},iterLinkedDocs:function(e){Xr(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):ts(e)},lineSeparator:function(){return this.lineSep||"\n"}}),Ea.prototype.eachLine=Ea.prototype.iter;var Ta="iter insert remove copy getEditor constructor".split(" ");for(var ka in Ea.prototype)Ea.prototype.hasOwnProperty(ka)&&Po(Ta,ka)<0&&(e.prototype[ka]=function(e){return function(){return e.apply(this.doc,arguments)}}(Ea.prototype[ka]));_o(Ea);var ja=e.e_preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},La=e.e_stopPropagation=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},Oa=e.e_stop=function(e){ja(e),La(e)},_a=e.on=function(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent)e.attachEvent("on"+t,n);else{var r=e._handlers||(e._handlers={});(r[t]||(r[t]=[])).push(n)}},Aa=[],Na=e.off=function(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else if(e.detachEvent)e.detachEvent("on"+t,n);else for(var r=Eo(e,t,!1),o=0;o<r.length;++o)if(r[o]==n){r.splice(o,1);break}},Ma=e.signal=function(e,t){var n=Eo(e,t,!0);if(n.length)for(var r=Array.prototype.slice.call(arguments,2),o=0;o<n.length;++o)n[o].apply(null,r)},Pa=null,Ia=30,Da=e.Pass={toString:function(){return"CodeMirror.Pass"}},Ra={scroll:!1},Wa={origin:"*mouse"},Ha={origin:"+move"};Ao.prototype.set=function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)};var Ba=e.countColumn=function(e,t,n,r,o){null==t&&(-1==(t=e.search(/[^\s\u00a0]/))&&(t=e.length));for(var i=r||0,a=o||0;;){var s=e.indexOf("\t",i);if(0>s||s>=t)return a+(t-i);a+=s-i,a+=n-a%n,i=s+1}},Fa=e.findColumn=function(e,t,n){for(var r=0,o=0;;){var i=e.indexOf("\t",r);-1==i&&(i=e.length);var a=i-r;if(i==e.length||o+a>=t)return r+Math.min(a,t-o);if(o+=i-r,r=i+1,(o+=n-o%n)>=t)return r}},za=[""],qa=function(e){e.select()};Li?qa=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:bi&&(qa=function(e){try{e.select()}catch(t){}});var Ua,Ga=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,$a=e.isWordChar=function(e){return/\w/.test(e)||e>"\x80"&&(e.toUpperCase()!=e.toLowerCase()||Ga.test(e))},Ya=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;Ua=document.createRange?function(e,t,n,r){var o=document.createRange();return o.setEnd(r||e,n),o.setStart(e,t),o}:function(e,t,n){var r=document.body.createTextRange();try{r.moveToElementText(e.parentNode)}catch(o){return r}return r.collapse(!0),r.moveEnd("character",n),r.moveStart("character",t),r};var Va=e.contains=function(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do{if(11==t.nodeType&&(t=t.host),t==e)return!0}while(t=t.parentNode)};bi&&11>wi&&($o=function(){try{return document.activeElement}catch(e){return document.body}});var Xa,Qa,Ka=e.rmClass=function(e,t){var n=e.className,r=Yo(t).exec(n);if(r){var o=n.slice(r.index+r[0].length);e.className=n.slice(0,r.index)+(o?r[1]+o:"")}},Za=e.addClass=function(e,t){var n=e.className;Yo(t).test(n)||(e.className+=(n?" ":"")+t)},Ja=!1,es=function(){if(bi&&9>wi)return!1;var e=qo("div");return"draggable"in e||"dragDrop"in e}(),ts=e.splitLines=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,n=[],r=e.length;r>=t;){var o=e.indexOf("\n",t);-1==o&&(o=e.length);var i=e.slice(t,"\r"==e.charAt(o-1)?o-1:o),a=i.indexOf("\r");-1!=a?(n.push(i.slice(0,a)),t+=a+1):(n.push(i),t=o+1)}return n}:function(e){return e.split(/\r\n?|\n/)},ns=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(t){return!1}}:function(e){try{var t=e.ownerDocument.selection.createRange()}catch(n){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},rs=function(){var e=qo("div");return"oncopy"in e||(e.setAttribute("oncopy","return;"),"function"==typeof e.oncopy)}(),os=null,is=e.keyNames={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};!function(){for(var e=0;10>e;e++)is[e+48]=is[e+96]=String(e);for(e=65;90>=e;e++)is[e]=String.fromCharCode(e);for(e=1;12>=e;e++)is[e+111]=is[e+63235]="F"+e}();var as,ss=function(){function e(e){return 247>=e?n.charAt(e):e>=1424&&1524>=e?"R":e>=1536&&1773>=e?r.charAt(e-1536):e>=1774&&2220>=e?"r":e>=8192&&8203>=e?"w":8204==e?"b":"L"}function t(e,t,n){this.level=e,this.from=t,this.to=n}var n="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",r="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm",o=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,i=/[stwN]/,a=/[LRr]/,s=/[Lb1n]/,l=/[1n]/,c="L";return function(n){if(!o.test(n))return!1;for(var r=n.length,u=[],d=0;r>d;++d)u.push(v=e(n.charCodeAt(d)));d=0;for(var f=c;r>d;++d){"m"==(v=u[d])?u[d]=f:f=v}d=0;for(var p=c;r>d;++d){"1"==(v=u[d])&&"r"==p?u[d]="n":a.test(v)&&(p=v,"r"==v&&(u[d]="R"))}for(d=1,f=u[0];r-1>d;++d){"+"==(v=u[d])&&"1"==f&&"1"==u[d+1]?u[d]="1":","!=v||f!=u[d+1]||"1"!=f&&"n"!=f||(u[d]=f),f=v}for(d=0;r>d;++d){if(","==(v=u[d]))u[d]="N";else if("%"==v){for(var h=d+1;r>h&&"%"==u[h];++h);for(var m=d&&"!"==u[d-1]||r>h&&"1"==u[h]?"1":"N",g=d;h>g;++g)u[g]=m;d=h-1}}for(d=0,p=c;r>d;++d){var v=u[d];"L"==p&&"1"==v?u[d]="L":a.test(v)&&(p=v)}for(d=0;r>d;++d)if(i.test(u[d])){for(h=d+1;r>h&&i.test(u[h]);++h);var y="L"==(d?u[d-1]:c),b="L"==(r>h?u[h]:c);for(m=y||b?"L":"R",g=d;h>g;++g)u[g]=m;d=h-1}var w,x=[];for(d=0;r>d;)if(s.test(u[d])){var S=d;for(++d;r>d&&s.test(u[d]);++d);x.push(new t(0,S,d))}else{var C=d,E=x.length;for(++d;r>d&&"L"!=u[d];++d);for(g=C;d>g;)if(l.test(u[g])){g>C&&x.splice(E,0,new t(1,C,g));var T=g;for(++g;d>g&&l.test(u[g]);++g);x.splice(E,0,new t(2,T,g)),C=g}else++g;d>C&&x.splice(E,0,new t(1,C,d))}return 1==x[0].level&&(w=n.match(/^\s+/))&&(x[0].from=w[0].length,x.unshift(new t(0,0,w[0].length))),1==Mo(x).level&&(w=n.match(/\s+$/))&&(Mo(x).to-=w[0].length,x.push(new t(0,r-w[0].length,r))),2==x[0].level&&x.unshift(new t(1,x[0].to,x[0].to)),x[0].level!=Mo(x).level&&x.push(new t(x[0].level,r,r)),x}}();return e.version="5.15.2",e})},{}],11:[function(t,n,r){var o;o=function(e){"use strict";var t=/^((?:(?:aaas?|about|acap|adiumxtra|af[ps]|aim|apt|attachment|aw|beshare|bitcoin|bolo|callto|cap|chrome(?:-extension)?|cid|coap|com-eventbrite-attendee|content|crid|cvs|data|dav|dict|dlna-(?:playcontainer|playsingle)|dns|doi|dtn|dvb|ed2k|facetime|feed|file|finger|fish|ftp|geo|gg|git|gizmoproject|go|gopher|gtalk|h323|hcp|https?|iax|icap|icon|im|imap|info|ipn|ipp|irc[6s]?|iris(?:\.beep|\.lwz|\.xpc|\.xpcs)?|itms|jar|javascript|jms|keyparc|lastfm|ldaps?|magnet|mailto|maps|market|message|mid|mms|ms-help|msnim|msrps?|mtqp|mumble|mupdate|mvn|news|nfs|nih?|nntp|notes|oid|opaquelocktoken|palm|paparazzi|platform|pop|pres|proxy|psyc|query|res(?:ource)?|rmi|rsync|rtmp|rtsp|secondlife|service|session|sftp|sgn|shttp|sieve|sips?|skype|sm[bs]|snmp|soap\.beeps?|soldat|spotify|ssh|steam|svn|tag|teamspeak|tel(?:net)?|tftp|things|thismessage|tip|tn3270|tv|udp|unreal|urn|ut2004|vemmi|ventrilo|view-source|webcal|wss?|wtai|wyciwyg|xcon(?:-userid)?|xfire|xmlrpc\.beeps?|xmpp|xri|ymsgr|z39\.50[rs]?):(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]|\([^\s()<>]*\))+(?:\([^\s()<>]*\)|[^\s`*!()\[\]{};:'".,<>?\xab\xbb\u201c\u201d\u2018\u2019]))/i;e.defineMode("gfm",function(n,r){function o(e){return e.code=!1,null}var i=0,a={startState:function(){return{code:!1,codeBlock:!1,ateSpace:!1}},copyState:function(e){return{code:e.code,codeBlock:e.codeBlock,ateSpace:e.ateSpace}},token:function(e,n){if(n.combineTokens=null,n.codeBlock)return e.match(/^```+/)?(n.codeBlock=!1,null):(e.skipToEnd(),null);if(e.sol()&&(n.code=!1),e.sol()&&e.match(/^```+/))return e.skipToEnd(),n.codeBlock=!0,null;if("`"===e.peek()){e.next();var o=e.pos;e.eatWhile("`");var a=1+e.pos-o;return n.code?a===i&&(n.code=!1):(i=a,n.code=!0),null}if(n.code)return e.next(),null;if(e.eatSpace())return n.ateSpace=!0,null;if((e.sol()||n.ateSpace)&&(n.ateSpace=!1,!1!==r.gitHubSpice)){if(e.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+@)?(?:[a-f0-9]{7,40}\b)/))return n.combineTokens=!0,"link";if(e.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+)?#[0-9]+\b/))return n.combineTokens=!0,"link"}return e.match(t)&&"]("!=e.string.slice(e.start-2,e.start)&&(0==e.start||/\W/.test(e.string.charAt(e.start-1)))?(n.combineTokens=!0,"link"):(e.next(),null)},blankLine:o},s={underscoresBreakWords:!1,taskLists:!0,fencedCodeBlocks:"```",strikethrough:!0};for(var l in r)s[l]=r[l];return s.name="markdown",e.overlayMode(e.getMode(n,s),a)},"markdown"),e.defineMIME("text/x-gfm","gfm")},"object"==typeof r&&"object"==typeof n?o(t("../../lib/codemirror"),t("../markdown/markdown"),t("../../addon/mode/overlay")):"function"==typeof e&&e.amd?e(["../../lib/codemirror","../markdown/markdown","../../addon/mode/overlay"],o):o(CodeMirror)},{"../../addon/mode/overlay":8,"../../lib/codemirror":10,"../markdown/markdown":12}],12:[function(t,n,r){var o;o=function(e){"use strict";e.defineMode("markdown",function(t,n){function r(n){if(e.findModeByName){var r=e.findModeByName(n);r&&(n=r.mime||r.mimes[0])}var o=e.getMode(t,n);return"null"==o.name?null:o}function o(e,t,n){return t.f=t.inline=n,n(e,t)}function i(e,t,n){return t.f=t.block=n,n(e,t)}function a(e){return!e||!/\S/.test(e.string)}function s(e){return e.linkTitle=!1,e.em=!1,e.strong=!1,e.strikethrough=!1,e.quote=0,e.indentedCode=!1,S&&e.f==c&&(e.f=h,e.block=l),e.trailingSpace=0,e.trailingSpaceNewLine=!1,e.prevLine=e.thisLine,e.thisLine=null,null}function l(t,i){var s=t.sol(),l=!1!==i.list,c=i.indentedCode;i.indentedCode=!1,l&&(i.indentationDiff>=0?(i.indentationDiff<4&&(i.indentation-=i.indentationDiff),i.list=null):i.indentation>0?i.list=null:i.list=!1);var d=null;if(i.indentationDiff>=4)return t.skipToEnd(),c||a(i.prevLine)?(i.indentation-=4,i.indentedCode=!0,C.code):null;if(t.eatSpace())return null;if((d=t.match(O))&&d[1].length<=6)return i.header=d[1].length,n.highlightFormatting&&(i.formatting="header"),i.f=i.inline,f(i);if(!(a(i.prevLine)||i.quote||l||c)&&(d=t.match(_)))return i.header="="==d[0].charAt(0)?1:2,n.highlightFormatting&&(i.formatting="header"),i.f=i.inline,f(i);if(t.eat(">"))return i.quote=s?1:i.quote+1,n.highlightFormatting&&(i.formatting="quote"),t.eatSpace(),f(i);if("["===t.peek())return o(t,i,y);if(t.match(T,!0))return i.hr=!0,C.hr;if((a(i.prevLine)||l)&&(t.match(k,!1)||t.match(j,!1))){var p=null;for(t.match(k,!0)?p="ul":(t.match(j,!0),p="ol"),i.indentation=t.column()+t.current().length,i.list=!0;i.listStack&&t.column()<i.listStack[i.listStack.length-1];)i.listStack.pop();return i.listStack.push(i.indentation),n.taskLists&&t.match(L,!1)&&(i.taskList=!0),i.f=i.inline,n.highlightFormatting&&(i.formatting=["list","list-"+p]),f(i)}return n.fencedCodeBlocks&&(d=t.match(N,!0))?(i.fencedChars=d[1],i.localMode=r(d[2]),i.localMode&&(i.localState=e.startState(i.localMode)),i.f=i.block=u,n.highlightFormatting&&(i.formatting="code-block"),i.code=-1,f(i)):o(t,i,i.inline)}function c(t,n){var r=x.token(t,n.htmlState);if(!S){var o=e.innerMode(x,n.htmlState);("xml"==o.mode.name&&null===o.state.tagStart&&!o.state.context&&o.state.tokenize.isInText||n.md_inside&&t.current().indexOf(">")>-1)&&(n.f=h,n.block=l,n.htmlState=null)}return r}function u(e,t){return t.fencedChars&&e.match(t.fencedChars,!1)?(t.localMode=t.localState=null,t.f=t.block=d,null):t.localMode?t.localMode.token(e,t.localState):(e.skipToEnd(),C.code)}function d(e,t){e.match(t.fencedChars),t.block=l,t.f=h,t.fencedChars=null,n.highlightFormatting&&(t.formatting="code-block"),t.code=1;var r=f(t);return t.code=0,r}function f(e){var t=[];if(e.formatting){t.push(C.formatting),"string"==typeof e.formatting&&(e.formatting=[e.formatting]);for(var r=0;r<e.formatting.length;r++)t.push(C.formatting+"-"+e.formatting[r]),"header"===e.formatting[r]&&t.push(C.formatting+"-"+e.formatting[r]+"-"+e.header),"quote"===e.formatting[r]&&(!n.maxBlockquoteDepth||n.maxBlockquoteDepth>=e.quote?t.push(C.formatting+"-"+e.formatting[r]+"-"+e.quote):t.push("error"))}if(e.taskOpen)return t.push("meta"),t.length?t.join(" "):null;if(e.taskClosed)return t.push("property"),t.length?t.join(" "):null;if(e.linkHref?t.push(C.linkHref,"url"):(e.strong&&t.push(C.strong),e.em&&t.push(C.em),e.strikethrough&&t.push(C.strikethrough),e.linkText&&t.push(C.linkText),e.code&&t.push(C.code)),e.header&&t.push(C.header,C.header+"-"+e.header),e.quote&&(t.push(C.quote),!n.maxBlockquoteDepth||n.maxBlockquoteDepth>=e.quote?t.push(C.quote+"-"+e.quote):t.push(C.quote+"-"+n.maxBlockquoteDepth)),!1!==e.list){var o=(e.listStack.length-1)%3;o?1===o?t.push(C.list2):t.push(C.list3):t.push(C.list1)}return e.trailingSpaceNewLine?t.push("trailing-space-new-line"):e.trailingSpace&&t.push("trailing-space-"+(e.trailingSpace%2?"a":"b")),t.length?t.join(" "):null}function p(e,t){return e.match(A,!0)?f(t):void 0}function h(t,r){var o=r.text(t,r);if(void 0!==o)return o;if(r.list)return r.list=null,f(r);if(r.taskList)return"x"!==t.match(L,!0)[1]?r.taskOpen=!0:r.taskClosed=!0,n.highlightFormatting&&(r.formatting="task"),r.taskList=!1,f(r);if(r.taskOpen=!1,r.taskClosed=!1,r.header&&t.match(/^#+$/,!0))return n.highlightFormatting&&(r.formatting="header"),f(r);var a=t.sol(),s=t.next();if(r.linkTitle){r.linkTitle=!1;var l=s;"("===s&&(l=")");var u="^\\s*(?:[^"+(l=(l+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"))+"\\\\]+|\\\\\\\\|\\\\.)"+l;if(t.match(new RegExp(u),!0))return C.linkHref}if("`"===s){var d=r.formatting;n.highlightFormatting&&(r.formatting="code"),t.eatWhile("`");var p=t.current().length;if(0==r.code)return r.code=p,f(r);if(p==r.code){var h=f(r);return r.code=0,h}return r.formatting=d,f(r)}if(r.code)return f(r);if("\\"===s&&(t.next(),n.highlightFormatting)){var v=f(r),y=C.formatting+"-escape"
;return v?v+" "+y:y}if("!"===s&&t.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return t.match(/\[[^\]]*\]/),r.inline=r.f=g,C.image;if("["===s&&t.match(/[^\]]*\](\(.*\)| ?\[.*?\])/,!1))return r.linkText=!0,n.highlightFormatting&&(r.formatting="link"),f(r);if("]"===s&&r.linkText&&t.match(/\(.*?\)| ?\[.*?\]/,!1)){n.highlightFormatting&&(r.formatting="link");var v=f(r);return r.linkText=!1,r.inline=r.f=g,v}if("<"===s&&t.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1))return r.f=r.inline=m,n.highlightFormatting&&(r.formatting="link"),(v=f(r))?v+=" ":v="",v+C.linkInline;if("<"===s&&t.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1))return r.f=r.inline=m,n.highlightFormatting&&(r.formatting="link"),(v=f(r))?v+=" ":v="",v+C.linkEmail;if("<"===s&&t.match(/^(!--|\w)/,!1)){var b=t.string.indexOf(">",t.pos);if(-1!=b){var w=t.string.substring(t.start,b);/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(w)&&(r.md_inside=!0)}return t.backUp(1),r.htmlState=e.startState(x),i(t,r,c)}if("<"===s&&t.match(/^\/\w*?>/))return r.md_inside=!1,"tag";var S=!1;if(!n.underscoresBreakWords&&"_"===s&&"_"!==t.peek()&&t.match(/(\w)/,!1)){var E=t.pos-2;if(E>=0){var T=t.string.charAt(E);"_"!==T&&T.match(/(\w)/,!1)&&(S=!0)}}if("*"===s||"_"===s&&!S)if(a&&" "===t.peek());else{if(r.strong===s&&t.eat(s)){n.highlightFormatting&&(r.formatting="strong");h=f(r);return r.strong=!1,h}if(!r.strong&&t.eat(s))return r.strong=s,n.highlightFormatting&&(r.formatting="strong"),f(r);if(r.em===s){n.highlightFormatting&&(r.formatting="em");h=f(r);return r.em=!1,h}if(!r.em)return r.em=s,n.highlightFormatting&&(r.formatting="em"),f(r)}else if(" "===s&&(t.eat("*")||t.eat("_"))){if(" "===t.peek())return f(r);t.backUp(1)}if(n.strikethrough)if("~"===s&&t.eatWhile(s)){if(r.strikethrough){n.highlightFormatting&&(r.formatting="strikethrough");h=f(r);return r.strikethrough=!1,h}if(t.match(/^[^\s]/,!1))return r.strikethrough=!0,n.highlightFormatting&&(r.formatting="strikethrough"),f(r)}else if(" "===s&&t.match(/^~~/,!0)){if(" "===t.peek())return f(r);t.backUp(2)}return" "===s&&(t.match(/ +$/,!1)?r.trailingSpace++:r.trailingSpace&&(r.trailingSpaceNewLine=!0)),f(r)}function m(e,t){if(">"===e.next()){t.f=t.inline=h,n.highlightFormatting&&(t.formatting="link");var r=f(t);return r?r+=" ":r="",r+C.linkInline}return e.match(/^[^>]+/,!0),C.linkInline}function g(e,t){if(e.eatSpace())return null;var r=e.next();return"("===r||"["===r?(t.f=t.inline=v("("===r?")":"]",0),n.highlightFormatting&&(t.formatting="link-string"),t.linkHref=!0,f(t)):"error"}function v(e){return function(t,r){if(t.next()===e){r.f=r.inline=h,n.highlightFormatting&&(r.formatting="link-string");var o=f(r);return r.linkHref=!1,o}return t.match(M[e]),r.linkHref=!0,f(r)}}function y(e,t){return e.match(/^([^\]\\]|\\.)*\]:/,!1)?(t.f=b,e.next(),n.highlightFormatting&&(t.formatting="link"),t.linkText=!0,f(t)):o(e,t,h)}function b(e,t){if(e.match(/^\]:/,!0)){t.f=t.inline=w,n.highlightFormatting&&(t.formatting="link");var r=f(t);return t.linkText=!1,r}return e.match(/^([^\]\\]|\\.)+/,!0),C.linkText}function w(e,t){return e.eatSpace()?null:(e.match(/^[^\s]+/,!0),void 0===e.peek()?t.linkTitle=!0:e.match(/^(?:\s+(?:"(?:[^"\\]|\\\\|\\.)+"|'(?:[^'\\]|\\\\|\\.)+'|\((?:[^)\\]|\\\\|\\.)+\)))?/,!0),t.f=t.inline=h,C.linkHref+" url")}var x=e.getMode(t,"text/html"),S="null"==x.name;void 0===n.highlightFormatting&&(n.highlightFormatting=!1),void 0===n.maxBlockquoteDepth&&(n.maxBlockquoteDepth=0),void 0===n.underscoresBreakWords&&(n.underscoresBreakWords=!0),void 0===n.taskLists&&(n.taskLists=!1),void 0===n.strikethrough&&(n.strikethrough=!1),void 0===n.tokenTypeOverrides&&(n.tokenTypeOverrides={});var C={header:"header",code:"comment",quote:"quote",list1:"variable-2",list2:"variable-3",list3:"keyword",hr:"hr",image:"tag",formatting:"formatting",linkInline:"link",linkEmail:"link",linkText:"link",linkHref:"string",em:"em",strong:"strong",strikethrough:"strikethrough"};for(var E in C)C.hasOwnProperty(E)&&n.tokenTypeOverrides[E]&&(C[E]=n.tokenTypeOverrides[E]);var T=/^([*\-_])(?:\s*\1){2,}\s*$/,k=/^[*\-+]\s+/,j=/^[0-9]+([.)])\s+/,L=/^\[(x| )\](?=\s)/,O=n.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,_=/^ *(?:\={1,}|-{1,})\s*$/,A=/^[^#!\[\]*_\\<>` "'(~]+/,N=new RegExp("^("+(!0===n.fencedCodeBlocks?"~~~+|```+":n.fencedCodeBlocks)+")[ \\t]*([\\w+#-]*)"),M={")":/^(?:[^\\\(\)]|\\.|\((?:[^\\\(\)]|\\.)*\))*?(?=\))/,"]":/^(?:[^\\\[\]]|\\.|\[(?:[^\\\[\\]]|\\.)*\])*?(?=\])/},P={startState:function(){return{f:l,prevLine:null,thisLine:null,block:l,htmlState:null,indentation:0,inline:h,text:p,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,code:0,em:!1,strong:!1,header:0,hr:!1,taskList:!1,list:!1,listStack:[],quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1,fencedChars:null}},copyState:function(t){return{f:t.f,prevLine:t.prevLine,thisLine:t.thisLine,block:t.block,htmlState:t.htmlState&&e.copyState(x,t.htmlState),indentation:t.indentation,localMode:t.localMode,localState:t.localMode?e.copyState(t.localMode,t.localState):null,inline:t.inline,text:t.text,formatting:!1,linkTitle:t.linkTitle,code:t.code,em:t.em,strong:t.strong,strikethrough:t.strikethrough,header:t.header,hr:t.hr,taskList:t.taskList,list:t.list,listStack:t.listStack.slice(0),quote:t.quote,indentedCode:t.indentedCode,trailingSpace:t.trailingSpace,trailingSpaceNewLine:t.trailingSpaceNewLine,md_inside:t.md_inside,fencedChars:t.fencedChars}},token:function(e,t){if(t.formatting=!1,e!=t.thisLine){var n=t.header||t.hr;if(t.header=0,t.hr=!1,e.match(/^\s*$/,!0)||n){if(s(t),!n)return null;t.prevLine=null}t.prevLine=t.thisLine,t.thisLine=e,t.taskList=!1,t.trailingSpace=0,t.trailingSpaceNewLine=!1,t.f=t.block;var r=e.match(/^\s*/,!0)[0].replace(/\t/g,"    ").length;if(t.indentationDiff=Math.min(r-t.indentation,4),t.indentation=t.indentation+t.indentationDiff,r>0)return null}return t.f(e,t)},innerMode:function(e){return e.block==c?{state:e.htmlState,mode:x}:e.localState?{state:e.localState,mode:e.localMode}:{state:e,mode:P}},blankLine:s,getType:f,fold:"markdown"};return P},"xml"),e.defineMIME("text/x-markdown","markdown")},"object"==typeof r&&"object"==typeof n?o(t("../../lib/codemirror"),t("../xml/xml"),t("../meta")):"function"==typeof e&&e.amd?e(["../../lib/codemirror","../xml/xml","../meta"],o):o(CodeMirror)},{"../../lib/codemirror":10,"../meta":13,"../xml/xml":14}],13:[function(t,n,r){var o;o=function(e){"use strict";e.modeInfo=[{name:"APL",mime:"text/apl",mode:"apl",ext:["dyalog","apl"]},{name:"PGP",mimes:["application/pgp","application/pgp-keys","application/pgp-signature"],mode:"asciiarmor",ext:["pgp"]},{name:"ASN.1",mime:"text/x-ttcn-asn",mode:"asn.1",ext:["asn","asn1"]},{name:"Asterisk",mime:"text/x-asterisk",mode:"asterisk",file:/^extensions\.conf$/i},{name:"Brainfuck",mime:"text/x-brainfuck",mode:"brainfuck",ext:["b","bf"]},{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],alias:["cpp"]},{name:"Cobol",mime:"text/x-cobol",mode:"cobol",ext:["cob","cpy"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp"]},{name:"Clojure",mime:"text/x-clojure",mode:"clojure",ext:["clj","cljc","cljx"]},{name:"ClojureScript",mime:"text/x-clojurescript",mode:"clojure",ext:["cljs"]},{name:"Closure Stylesheets (GSS)",mime:"text/x-gss",mode:"css",ext:["gss"]},{name:"CMake",mime:"text/x-cmake",mode:"cmake",ext:["cmake","cmake.in"],file:/^CMakeLists.txt$/},{name:"CoffeeScript",mime:"text/x-coffeescript",mode:"coffeescript",ext:["coffee"],alias:["coffee","coffee-script"]},{name:"Common Lisp",mime:"text/x-common-lisp",mode:"commonlisp",ext:["cl","lisp","el"],alias:["lisp"]},{name:"Cypher",mime:"application/x-cypher-query",mode:"cypher",ext:["cyp","cypher"]},{name:"Cython",mime:"text/x-cython",mode:"python",ext:["pyx","pxd","pxi"]},{name:"Crystal",mime:"text/x-crystal",mode:"crystal",ext:["cr"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"CQL",mime:"text/x-cassandra",mode:"sql",ext:["cql"]},{name:"D",mime:"text/x-d",mode:"d",ext:["d"]},{name:"Dart",mimes:["application/dart","text/x-dart"],mode:"dart",ext:["dart"]},{name:"diff",mime:"text/x-diff",mode:"diff",ext:["diff","patch"]},{name:"Django",mime:"text/x-django",mode:"django"},{name:"Dockerfile",mime:"text/x-dockerfile",mode:"dockerfile",file:/^Dockerfile$/},{name:"DTD",mime:"application/xml-dtd",mode:"dtd",ext:["dtd"]},{name:"Dylan",mime:"text/x-dylan",mode:"dylan",ext:["dylan","dyl","intr"]},{name:"EBNF",mime:"text/x-ebnf",mode:"ebnf"},{name:"ECL",mime:"text/x-ecl",mode:"ecl",ext:["ecl"]},{name:"edn",mime:"application/edn",mode:"clojure",ext:["edn"]},{name:"Eiffel",mime:"text/x-eiffel",mode:"eiffel",ext:["e"]},{name:"Elm",mime:"text/x-elm",mode:"elm",ext:["elm"]},{name:"Embedded Javascript",mime:"application/x-ejs",mode:"htmlembedded",ext:["ejs"]},{name:"Embedded Ruby",mime:"application/x-erb",mode:"htmlembedded",ext:["erb"]},{name:"Erlang",mime:"text/x-erlang",mode:"erlang",ext:["erl"]},{name:"Factor",mime:"text/x-factor",mode:"factor",ext:["factor"]},{name:"FCL",mime:"text/x-fcl",mode:"fcl"},{name:"Forth",mime:"text/x-forth",mode:"forth",ext:["forth","fth","4th"]},{name:"Fortran",mime:"text/x-fortran",mode:"fortran",ext:["f","for","f77","f90"]},{name:"F#",mime:"text/x-fsharp",mode:"mllike",ext:["fs"],alias:["fsharp"]},{name:"Gas",mime:"text/x-gas",mode:"gas",ext:["s"]},{name:"Gherkin",mime:"text/x-feature",mode:"gherkin",ext:["feature"]},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm",file:/^(readme|contributing|history).md$/i},{name:"Go",mime:"text/x-go",mode:"go",ext:["go"]},{name:"Groovy",mime:"text/x-groovy",mode:"groovy",ext:["groovy","gradle"]},{name:"HAML",mime:"text/x-haml",mode:"haml",ext:["haml"]},{name:"Haskell",mime:"text/x-haskell",mode:"haskell",ext:["hs"]},{name:"Haskell (Literate)",mime:"text/x-literate-haskell",mode:"haskell-literate",ext:["lhs"]},{name:"Haxe",mime:"text/x-haxe",mode:"haxe",ext:["hx"]},{name:"HXML",mime:"text/x-hxml",mode:"haxe",ext:["hxml"]},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded",ext:["aspx"],alias:["asp","aspx"]},{name:"HTML",mime:"text/html",mode:"htmlmixed",ext:["html","htm"],alias:["xhtml"]},{name:"HTTP",mime:"message/http",mode:"http"},{name:"IDL",mime:"text/x-idl",mode:"idl",ext:["pro"]},{name:"Jade",mime:"text/x-jade",mode:"jade",ext:["jade"]},{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"Java Server Pages",mime:"application/x-jsp",mode:"htmlembedded",ext:["jsp"],alias:["jsp"]},{name:"JavaScript",mimes:["text/javascript","text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json","application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"JSON-LD",mime:"application/ld+json",mode:"javascript",ext:["jsonld"],alias:["jsonld"]},{name:"JSX",mime:"text/jsx",mode:"jsx",ext:["jsx"]},{name:"Jinja2",mime:"null",mode:"jinja2"},{name:"Julia",mime:"text/x-julia",mode:"julia",ext:["jl"]},{name:"Kotlin",mime:"text/x-kotlin",mode:"clike",ext:["kt"]},{name:"LESS",mime:"text/x-less",mode:"css",ext:["less"]},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript",ext:["ls"],alias:["ls"]},{name:"Lua",mime:"text/x-lua",mode:"lua",ext:["lua"]},{name:"Markdown",mime:"text/x-markdown",mode:"markdown",ext:["markdown","md","mkd"]},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"MariaDB SQL",mime:"text/x-mariadb",mode:"sql"},{name:"Mathematica",mime:"text/x-mathematica",mode:"mathematica",ext:["m","nb"]},{name:"Modelica",mime:"text/x-modelica",mode:"modelica",ext:["mo"]},{name:"MUMPS",mime:"text/x-mumps",mode:"mumps",ext:["mps"]},{name:"MS SQL",mime:"text/x-mssql",mode:"sql"},{name:"mbox",mime:"application/mbox",mode:"mbox",ext:["mbox"]},{name:"MySQL",mime:"text/x-mysql",mode:"sql"},{name:"Nginx",mime:"text/x-nginx-conf",mode:"nginx",file:/nginx.*\.conf$/i},{name:"NSIS",mime:"text/x-nsis",mode:"nsis",ext:["nsh","nsi"]},{name:"NTriples",mime:"text/n-triples",mode:"ntriples",ext:["nt"]},{name:"Objective C",mime:"text/x-objectivec",mode:"clike",ext:["m","mm"],alias:["objective-c","objc"]},{name:"OCaml",mime:"text/x-ocaml",mode:"mllike",ext:["ml","mli","mll","mly"]},{name:"Octave",mime:"text/x-octave",mode:"octave",ext:["m"]},{name:"Oz",mime:"text/x-oz",mode:"oz",ext:["oz"]},{name:"Pascal",mime:"text/x-pascal",mode:"pascal",ext:["p","pas"]},{name:"PEG.js",mime:"null",mode:"pegjs",ext:["jsonld"]},{name:"Perl",mime:"text/x-perl",mode:"perl",ext:["pl","pm"]},{name:"PHP",mime:"application/x-httpd-php",mode:"php",ext:["php","php3","php4","php5","phtml"]},{name:"Pig",mime:"text/x-pig",mode:"pig",ext:["pig"]},{name:"Plain Text",mime:"text/plain",mode:"null",ext:["txt","text","conf","def","list","log"]},{name:"PLSQL",mime:"text/x-plsql",mode:"sql",ext:["pls"]},{name:"PowerShell",mime:"application/x-powershell",mode:"powershell",ext:["ps1","psd1","psm1"]},{name:"Properties files",mime:"text/x-properties",mode:"properties",ext:["properties","ini","in"],alias:["ini","properties"]},{name:"ProtoBuf",mime:"text/x-protobuf",mode:"protobuf",ext:["proto"]},{name:"Python",mime:"text/x-python",mode:"python",ext:["BUILD","bzl","py","pyw"],file:/^(BUCK|BUILD)$/},{name:"Puppet",mime:"text/x-puppet",mode:"puppet",ext:["pp"]},{name:"Q",mime:"text/x-q",mode:"q",ext:["q"]},{name:"R",mime:"text/x-rsrc",mode:"r",ext:["r"],alias:["rscript"]},{name:"reStructuredText",mime:"text/x-rst",mode:"rst",ext:["rst"],alias:["rst"]},{name:"RPM Changes",mime:"text/x-rpm-changes",mode:"rpm"},{name:"RPM Spec",mime:"text/x-rpm-spec",mode:"rpm",ext:["spec"]},{name:"Ruby",mime:"text/x-ruby",mode:"ruby",ext:["rb"],alias:["jruby","macruby","rake","rb","rbx"]},{name:"Rust",mime:"text/x-rustsrc",mode:"rust",ext:["rs"]},{name:"SAS",mime:"text/x-sas",mode:"sas",ext:["sas"]},{name:"Sass",mime:"text/x-sass",mode:"sass",ext:["sass"]},{name:"Scala",mime:"text/x-scala",mode:"clike",ext:["scala"]},{name:"Scheme",mime:"text/x-scheme",mode:"scheme",ext:["scm","ss"]},{name:"SCSS",mime:"text/x-scss",mode:"css",ext:["scss"]},{name:"Shell",mime:"text/x-sh",mode:"shell",ext:["sh","ksh","bash"],alias:["bash","sh","zsh"],file:/^PKGBUILD$/},{name:"Sieve",mime:"application/sieve",mode:"sieve",ext:["siv","sieve"]},{name:"Slim",mimes:["text/x-slim","application/x-slim"],mode:"slim",ext:["slim"]},{name:"Smalltalk",mime:"text/x-stsrc",mode:"smalltalk",ext:["st"]},{name:"Smarty",mime:"text/x-smarty",mode:"smarty",ext:["tpl"]},{name:"Solr",mime:"text/x-solr",mode:"solr"},{name:"Soy",mime:"text/x-soy",mode:"soy",ext:["soy"],alias:["closure template"]},{name:"SPARQL",mime:"application/sparql-query",mode:"sparql",ext:["rq","sparql"],alias:["sparul"]},{name:"Spreadsheet",mime:"text/x-spreadsheet",mode:"spreadsheet",alias:["excel","formula"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"Squirrel",mime:"text/x-squirrel",mode:"clike",ext:["nut"]},{name:"Swift",mime:"text/x-swift",mode:"swift",ext:["swift"]},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex",ext:["text","ltx"],alias:["tex"]},{name:"SystemVerilog",mime:"text/x-systemverilog",mode:"verilog",ext:["v"]},{name:"Tcl",mime:"text/x-tcl",mode:"tcl",ext:["tcl"]},{name:"Textile",mime:"text/x-textile",mode:"textile",ext:["textile"]},{name:"TiddlyWiki ",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},{name:"Tiki wiki",mime:"text/tiki",mode:"tiki"},{name:"TOML",mime:"text/x-toml",mode:"toml",ext:["toml"]},{name:"Tornado",mime:"text/x-tornado",mode:"tornado"},{name:"troff",mime:"text/troff",mode:"troff",ext:["1","2","3","4","5","6","7","8","9"]},{name:"TTCN",mime:"text/x-ttcn",mode:"ttcn",ext:["ttcn","ttcn3","ttcnpp"]},{name:"TTCN_CFG",mime:"text/x-ttcn-cfg",mode:"ttcn-cfg",ext:["cfg"]},{name:"Turtle",mime:"text/turtle",mode:"turtle",ext:["ttl"]},{name:"TypeScript",mime:"application/typescript",mode:"javascript",ext:["ts"],alias:["ts"]},{name:"Twig",mime:"text/x-twig",mode:"twig"},{name:"Web IDL",mime:"text/x-webidl",mode:"webidl",ext:["webidl"]},{name:"VB.NET",mime:"text/x-vb",mode:"vb",ext:["vb"]},{name:"VBScript",mime:"text/vbscript",mode:"vbscript",ext:["vbs"]},{name:"Velocity",mime:"text/velocity",mode:"velocity",ext:["vtl"]},{name:"Verilog",mime:"text/x-verilog",mode:"verilog",ext:["v"]},{name:"VHDL",mime:"text/x-vhdl",mode:"vhdl",ext:["vhd","vhdl"]},{name:"XML",mimes:["application/xml","text/xml"],mode:"xml",ext:["xml","xsl","xsd"],alias:["rss","wsdl","xsd"]},{name:"XQuery",mime:"application/xquery",mode:"xquery",ext:["xy","xquery"]},{name:"Yacas",mime:"text/x-yacas",mode:"yacas",ext:["ys"]},{name:"YAML",mime:"text/x-yaml",mode:"yaml",ext:["yaml","yml"],alias:["yml"]},{name:"Z80",mime:"text/x-z80",mode:"z80",ext:["z80"]},{name:"mscgen",mime:"text/x-mscgen",mode:"mscgen",ext:["mscgen","mscin","msc"]},{name:"xu",mime:"text/x-xu",mode:"mscgen",ext:["xu"]},{name:"msgenny",mime:"text/x-msgenny",mode:"mscgen",ext:["msgenny"]}];for(var t=0;t<e.modeInfo.length;t++){var n=e.modeInfo[t];n.mimes&&(n.mime=n.mimes[0])}e.findModeByMIME=function(t){t=t.toLowerCase();for(var n=0;n<e.modeInfo.length;n++){var r=e.modeInfo[n];if(r.mime==t)return r;if(r.mimes)for(var o=0;o<r.mimes.length;o++)if(r.mimes[o]==t)return r}},e.findModeByExtension=function(t){for(var n=0;n<e.modeInfo.length;n++){var r=e.modeInfo[n];if(r.ext)for(var o=0;o<r.ext.length;o++)if(r.ext[o]==t)return r}},e.findModeByFileName=function(t){for(var n=0;n<e.modeInfo.length;n++){var r=e.modeInfo[n];if(r.file&&r.file.test(t))return r}var o=t.lastIndexOf("."),i=o>-1&&t.substring(o+1,t.length);return i?e.findModeByExtension(i):void 0},e.findModeByName=function(t){t=t.toLowerCase();for(var n=0;n<e.modeInfo.length;n++){var r=e.modeInfo[n];if(r.name.toLowerCase()==t)return r;if(r.alias)for(var o=0;o<r.alias.length;o++)if(r.alias[o].toLowerCase()==t)return r}}},"object"==typeof r&&"object"==typeof n?o(t("../lib/codemirror")):"function"==typeof e&&e.amd?e(["../lib/codemirror"],o):o(CodeMirror)},{"../lib/codemirror":10}],14:[function(t,n,r){var o;o=function(e){"use strict";var t={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},n={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,caseFold:!1};e.defineMode("xml",function(r,o){function i(e,t){function n(n){return t.tokenize=n,n(e,t)}var r=e.next();return"<"==r?e.eat("!")?e.eat("[")?e.match("CDATA[")?n(l("atom","]]>")):null:e.match("--")?n(l("comment","-->")):e.match("DOCTYPE",!0,!0)?(e.eatWhile(/[\w\._\-]/),n(c(1))):null:e.eat("?")?(e.eatWhile(/[\w\._\-]/),t.tokenize=l("meta","?>"),"meta"):(S=e.eat("/")?"closeTag":"openTag",t.tokenize=a,"tag bracket"):"&"==r?(e.eat("#")?e.eat("x")?e.eatWhile(/[a-fA-F\d]/)&&e.eat(";"):e.eatWhile(/[\d]/)&&e.eat(";"):e.eatWhile(/[\w\.\-:]/)&&e.eat(";"))?"atom":"error":(e.eatWhile(/[^&<]/),null)}function a(e,t){var n=e.next();if(">"==n||"/"==n&&e.eat(">"))return t.tokenize=i,S=">"==n?"endTag":"selfcloseTag","tag bracket";if("="==n)return S="equals",null;if("<"==n){t.tokenize=i,t.state=p,t.tagName=t.tagStart=null;var r=t.tokenize(e,t);return r?r+" tag error":"tag error"}return/[\'\"]/.test(n)?(t.tokenize=s(n),t.stringStartCol=e.column(),t.tokenize(e,t)):(e.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function s(e){var t=function(t,n){for(;!t.eol();)if(t.next()==e){n.tokenize=a;break}return"string"};return t.isInAttribute=!0,t}function l(e,t){return function(n,r){for(;!n.eol();){if(n.match(t)){r.tokenize=i;break}n.next()}return e}}function c(e){return function(t,n){for(var r;null!=(r=t.next());){if("<"==r)return n.tokenize=c(e+1),n.tokenize(t,n);if(">"==r){if(1==e){n.tokenize=i;break}return n.tokenize=c(e-1),n.tokenize(t,n)}}return"meta"}}function u(e,t,n){this.prev=e.context,this.tagName=t,this.indent=e.indented,this.startOfLine=n,(T.doNotIndent.hasOwnProperty(t)||e.context&&e.context.noIndent)&&(this.noIndent=!0)}function d(e){e.context&&(e.context=e.context.prev)}function f(e,t){for(var n;;){if(!e.context)return;if(n=e.context.tagName,!T.contextGrabbers.hasOwnProperty(n)||!T.contextGrabbers[n].hasOwnProperty(t))return;d(e)}}function p(e,t,n){return"openTag"==e?(n.tagStart=t.column(),h):"closeTag"==e?m:p}function h(e,t,n){return"word"==e?(n.tagName=t.current(),C="tag",y):(C="error",h)}function m(e,t,n){if("word"==e){var r=t.current();return n.context&&n.context.tagName!=r&&T.implicitlyClosed.hasOwnProperty(n.context.tagName)&&d(n),n.context&&n.context.tagName==r||!1===T.matchClosing?(C="tag",g):(C="tag error",v)}return C="error",v}function g(e,t,n){return"endTag"!=e?(C="error",g):(d(n),p)}function v(e,t,n){return C="error",g(e,t,n)}function y(e,t,n){if("word"==e)return C="attribute",b;if("endTag"==e||"selfcloseTag"==e){var r=n.tagName,o=n.tagStart;return n.tagName=n.tagStart=null,"selfcloseTag"==e||T.autoSelfClosers.hasOwnProperty(r)?f(n,r):(f(n,r),n.context=new u(n,r,o==n.indented)),p}return C="error",y}function b(e,t,n){return"equals"==e?w:(T.allowMissing||(C="error"),y(e,t,n))}function w(e,t,n){return"string"==e?x:"word"==e&&T.allowUnquoted?(C="string",y):(C="error",y(e,t,n))}function x(e,t,n){return"string"==e?x:y(e,t,n)}var S,C,E=r.indentUnit,T={},k=o.htmlMode?t:n;for(var j in k)T[j]=k[j];for(var j in o)T[j]=o[j];return i.isInText=!0,{startState:function(e){var t={tokenize:i,state:p,indented:e||0,tagName:null,tagStart:null,context:null};return null!=e&&(t.baseIndent=e),t},token:function(e,t){if(!t.tagName&&e.sol()&&(t.indented=e.indentation()),e.eatSpace())return null;S=null;var n=t.tokenize(e,t);return(n||S)&&"comment"!=n&&(C=null,t.state=t.state(S||n,e,t),C&&(n="error"==C?n+" error":C)),n},indent:function(t,n,r){var o=t.context;if(t.tokenize.isInAttribute)return t.tagStart==t.indented?t.stringStartCol+1:t.indented+E;if(o&&o.noIndent)return e.Pass;if(t.tokenize!=a&&t.tokenize!=i)return r?r.match(/^(\s*)/)[0].length:0;if(t.tagName)return!1!==T.multilineTagIndentPastTag?t.tagStart+t.tagName.length+2:t.tagStart+E*(T.multilineTagIndentFactor||1);if(T.alignCDATA&&/<!\[CDATA\[/.test(n))return 0;var s=n&&/^<(\/)?([\w_:\.-]*)/.exec(n);if(s&&s[1])for(;o;){if(o.tagName==s[2]){o=o.prev;break}if(!T.implicitlyClosed.hasOwnProperty(o.tagName))break;o=o.prev}else if(s)for(;o;){var l=T.contextGrabbers[o.tagName];if(!l||!l.hasOwnProperty(s[2]))break;o=o.prev}for(;o&&o.prev&&!o.startOfLine;)o=o.prev;return o?o.indent+E:t.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:T.htmlMode?"html":"xml",helperType:T.htmlMode?"html":"xml",skipAttribute:function(e){e.state==w&&(e.state=y)}}}),e.defineMIME("text/xml","xml"),e.defineMIME("application/xml","xml"),e.mimeModes.hasOwnProperty("text/html")||e.defineMIME("text/html",{name:"xml",htmlMode:!0})},"object"==typeof r&&"object"==typeof n?o(t("../../lib/codemirror")):"function"==typeof e&&e.amd?e(["../../lib/codemirror"],o):o(CodeMirror)},{"../../lib/codemirror":10}],15:[function(e,t,n){n.read=function(e,t,n,r,o){var i,a,s=8*o-r-1,l=(1<<s)-1,c=l>>1,u=-7,d=n?o-1:0,f=n?-1:1,p=e[t+d];for(d+=f,i=p&(1<<-u)-1,p>>=-u,u+=s;u>0;i=256*i+e[t+d],d+=f,u-=8);for(a=i&(1<<-u)-1,i>>=-u,u+=r;u>0;a=256*a+e[t+d],d+=f,u-=8);if(0===i)i=1-c;else{if(i===l)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),i-=c}return(p?-1:1)*a*Math.pow(2,i-r)},n.write=function(e,t,n,r,o,i){var a,s,l,c=8*i-o-1,u=(1<<c)-1,d=u>>1,f=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:i-1,h=r?1:-1,m=0>t||0===t&&0>1/t?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+d>=1?f/l:f*Math.pow(2,1-d))*l>=2&&(a++,l/=2),a+d>=u?(s=0,a=u):a+d>=1?(s=(t*l-1)*Math.pow(2,o),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,o),a=0));o>=8;e[n+p]=255&s,p+=h,s/=256,o-=8);for(a=a<<o|s,c+=o;c>0;e[n+p]=255&a,p+=h,a/=256,c-=8);e[n+p-h]|=128*m}},{}],16:[function(e,t){var n={}.toString;t.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},{}],17:[function(t,n,r){(function(t){(function(){function t(e){this.tokens=[],this.tokens.links={},this.options=e||f.defaults,this.rules=p.normal,this.options.gfm&&(this.options.tables?this.rules=p.tables:this.rules=p.gfm)}function o(e,t){if(this.options=t||f.defaults,this.links=e,this.rules=h.normal,this.renderer=this.options.renderer||new i,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.gfm?this.options.breaks?this.rules=h.breaks:this.rules=h.gfm:this.options.pedantic&&(this.rules=h.pedantic)}function i(e){this.options=e||{}}function a(e){this.tokens=[],this.token=null,this.options=e||f.defaults,this.options.renderer=this.options.renderer||new i,this.renderer=this.options.renderer,this.renderer.options=this.options}function s(e,t){return e.replace(t?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function l(e){return e.replace(/&([#\w]+);/g,function(e,t){return"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""})}function c(e,t){return e=e.source,t=t||"",function n(r,o){return r?(o=(o=o.source||o).replace(/(^|[^\[])\^/g,"$1"),e=e.replace(r,o),n):new RegExp(e,t)}}function u(){}function d(e){for(var t,n,r=1;r<arguments.length;r++)for(n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function f(e,n,r){if(r||"function"==typeof n){r||(r=n,n=null);var o,i,l=(n=d({},f.defaults,n||{})).highlight,c=0;try{o=t.lex(e,n)}catch(u){return r(u)}i=o.length;var p=function(e){if(e)return n.highlight=l,r(e);var t;try{t=a.parse(o,n)}catch(i){e=i}return n.highlight=l,e?r(e):r(null,t)};if(!l||l.length<3)return p();if(delete n.highlight,!i)return p();for(;c<o.length;c++)!function(e){"code"!==e.type?--i||p():l(e.text,e.lang,function(t,n){return t?p(t):null==n||n===e.text?--i||p():(e.text=n,e.escaped=!0,void(--i||p()))})}(o[c])}else try{return n&&(n=d({},f.defaults,n)),a.parse(t.lex(e,n),n)}catch(u){if(u.message+="\nPlease report this to https://github.com/chjj/marked.",(n||f.defaults).silent)return"<p>An error occured:</p><pre>"+s(u.message+"",!0)+"</pre>";throw u}}var p={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:u,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:u,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *>[^\n]+(\n(?!def)[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:u,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/,bullet:/(?:[*+-]|\d+\.)/,item:/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/};p.item=c(p.item,"gm")(/bull/g,p.bullet)(),p.list=c(p.list)(/bull/g,p.bullet)("hr","\\n+(?=\\1?(?:[-*_] *){3,}(?:\\n+|$))")("def","\\n+(?="+p.def.source+")")(),p.blockquote=c(p.blockquote)("def",p.def)(),p._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|[^\\w\\s@]*@)\\b",p.html=c(p.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,p._tag)(),p.paragraph=c(p.paragraph)("hr",p.hr)("heading",p.heading)("lheading",p.lheading)("blockquote",p.blockquote)("tag","<"+p._tag)("def",p.def)(),p.normal=d({},p),p.gfm=d({},p.normal,{fences:/^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\s*\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),p.gfm.paragraph=c(p.paragraph)("(?!","(?!"+p.gfm.fences.source.replace("\\1","\\2")+"|"+p.list.source.replace("\\1","\\3")+"|")(),p.tables=d({},p.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}),t.rules=p,t.lex=function(e,n){return new t(n).lex(e)},t.prototype.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(e,!0)},t.prototype.token=function(e,t,n){var r,o,i,a,s,l,c,u,d;for(e=e.replace(/^ +$/gm,"");e;)if((i=this.rules.newline.exec(e))&&(e=e.substring(i[0].length),i[0].length>1&&this.tokens.push({type:"space"})),i=this.rules.code.exec(e))e=e.substring(i[0].length),i=i[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?i:i.replace(/\n+$/,"")});else if(i=this.rules.fences.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"code",lang:i[2],text:i[3]||""});else if(i=this.rules.heading.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"heading",depth:i[1].length,text:i[2]});else if(t&&(i=this.rules.nptable.exec(e))){for(e=e.substring(i[0].length),l={type:"table",header:i[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:i[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:i[3].replace(/\n$/,"").split("\n")},u=0;u<l.align.length;u++)/^ *-+: *$/.test(l.align[u])?l.align[u]="right":/^ *:-+: *$/.test(l.align[u])?l.align[u]="center":/^ *:-+ *$/.test(l.align[u])?l.align[u]="left":l.align[u]=null;for(u=0;u<l.cells.length;u++)l.cells[u]=l.cells[u].split(/ *\| */);this.tokens.push(l)}else if(i=this.rules.lheading.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"heading",depth:"="===i[2]?1:2,text:i[1]});else if(i=this.rules.hr.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"hr"});else if(i=this.rules.blockquote.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"blockquote_start"}),i=i[0].replace(/^ *> ?/gm,""),this.token(i,t,!0),this.tokens.push({type:"blockquote_end"});else if(i=this.rules.list.exec(e)){for(e=e.substring(i[0].length),a=i[2],this.tokens.push({type:"list_start",ordered:a.length>1}),r=!1,d=(i=i[0].match(this.rules.item)).length,u=0;d>u;u++)c=(l=i[u]).length,~(l=l.replace(/^ *([*+-]|\d+\.) +/,"")).indexOf("\n ")&&(c-=l.length,l=this.options.pedantic?l.replace(/^ {1,4}/gm,""):l.replace(new RegExp("^ {1,"+c+"}","gm"),"")),this.options.smartLists&&u!==d-1&&(a===(s=p.bullet.exec(i[u+1])[0])||a.length>1&&s.length>1||(e=i.slice(u+1).join("\n")+e,u=d-1)),o=r||/\n\n(?!\s*$)/.test(l),u!==d-1&&(r="\n"===l.charAt(l.length-1),o||(o=r)),this.tokens.push({type:o?"loose_item_start":"list_item_start"}),this.token(l,!1,n),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"})}else if(i=this.rules.html.exec(e))e=e.substring(i[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===i[1]||"script"===i[1]||"style"===i[1]),text:i[0]});else if(!n&&t&&(i=this.rules.def.exec(e)))e=e.substring(i[0].length),this.tokens.links[i[1].toLowerCase()]={href:i[2],title:i[3]};else if(t&&(i=this.rules.table.exec(e))){for(e=e.substring(i[0].length),l={type:"table",header:i[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:i[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:i[3].replace(/(?: *\| *)?\n$/,"").split("\n")},u=0;u<l.align.length;u++)/^ *-+: *$/.test(l.align[u])?l.align[u]="right":/^ *:-+: *$/.test(l.align[u])?l.align[u]="center":/^ *:-+ *$/.test(l.align[u])?l.align[u]="left":l.align[u]=null;for(u=0;u<l.cells.length;u++)l.cells[u]=l.cells[u].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(l)}else if(t&&(i=this.rules.paragraph.exec(e)))e=e.substring(i[0].length),this.tokens.push({type:"paragraph",text:"\n"===i[1].charAt(i[1].length-1)?i[1].slice(0,-1):i[1]});else if(i=this.rules.text.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"text",text:i[0]});else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return this.tokens};var h={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:u,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:[^_]|__)+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,
br:/^ {2,}\n(?!\s*$)/,del:u,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/,_inside:/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/,_href:/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/};h.link=c(h.link)("inside",h._inside)("href",h._href)(),h.reflink=c(h.reflink)("inside",h._inside)(),h.normal=d({},h),h.pedantic=d({},h.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),h.gfm=d({},h.normal,{escape:c(h.escape)("])","~|])")(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:c(h.text)("]|","~]|")("|","|https?://|")()}),h.breaks=d({},h.gfm,{br:c(h.br)("{2,}","*")(),text:c(h.gfm.text)("{2,}","*")()}),o.rules=h,o.output=function(e,t,n){return new o(t,n).output(e)},o.prototype.output=function(e){for(var t,n,r,o,i="";e;)if(o=this.rules.escape.exec(e))e=e.substring(o[0].length),i+=o[1];else if(o=this.rules.autolink.exec(e))e=e.substring(o[0].length),"@"===o[2]?(n=":"===o[1].charAt(6)?this.mangle(o[1].substring(7)):this.mangle(o[1]),r=this.mangle("mailto:")+n):r=n=s(o[1]),i+=this.renderer.link(r,null,n);else if(this.inLink||!(o=this.rules.url.exec(e))){if(o=this.rules.tag.exec(e))!this.inLink&&/^<a /i.test(o[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(o[0])&&(this.inLink=!1),e=e.substring(o[0].length),i+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(o[0]):s(o[0]):o[0];else if(o=this.rules.link.exec(e))e=e.substring(o[0].length),this.inLink=!0,i+=this.outputLink(o,{href:o[2],title:o[3]}),this.inLink=!1;else if((o=this.rules.reflink.exec(e))||(o=this.rules.nolink.exec(e))){if(e=e.substring(o[0].length),t=(o[2]||o[1]).replace(/\s+/g," "),!(t=this.links[t.toLowerCase()])||!t.href){i+=o[0].charAt(0),e=o[0].substring(1)+e;continue}this.inLink=!0,i+=this.outputLink(o,t),this.inLink=!1}else if(o=this.rules.strong.exec(e))e=e.substring(o[0].length),i+=this.renderer.strong(this.output(o[2]||o[1]));else if(o=this.rules.em.exec(e))e=e.substring(o[0].length),i+=this.renderer.em(this.output(o[2]||o[1]));else if(o=this.rules.code.exec(e))e=e.substring(o[0].length),i+=this.renderer.codespan(s(o[2],!0));else if(o=this.rules.br.exec(e))e=e.substring(o[0].length),i+=this.renderer.br();else if(o=this.rules.del.exec(e))e=e.substring(o[0].length),i+=this.renderer.del(this.output(o[1]));else if(o=this.rules.text.exec(e))e=e.substring(o[0].length),i+=this.renderer.text(s(this.smartypants(o[0])));else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0))}else e=e.substring(o[0].length),r=n=s(o[1]),i+=this.renderer.link(r,null,n);return i},o.prototype.outputLink=function(e,t){var n=s(t.href),r=t.title?s(t.title):null;return"!"!==e[0].charAt(0)?this.renderer.link(n,r,this.output(e[1])):this.renderer.image(n,r,s(e[1]))},o.prototype.smartypants=function(e){return this.options.smartypants?e.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014\/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014\/(\[{\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/\.{3}/g,"\u2026"):e},o.prototype.mangle=function(e){if(!this.options.mangle)return e;for(var t,n="",r=e.length,o=0;r>o;o++)t=e.charCodeAt(o),Math.random()>.5&&(t="x"+t.toString(16)),n+="&#"+t+";";return n},i.prototype.code=function(e,t,n){if(this.options.highlight){var r=this.options.highlight(e,t);null!=r&&r!==e&&(n=!0,e=r)}return t?'<pre><code class="'+this.options.langPrefix+s(t,!0)+'">'+(n?e:s(e,!0))+"\n</code></pre>\n":"<pre><code>"+(n?e:s(e,!0))+"\n</code></pre>"},i.prototype.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},i.prototype.html=function(e){return e},i.prototype.heading=function(e,t,n){return"<h"+t+' id="'+this.options.headerPrefix+n.toLowerCase().replace(/[^\w]+/g,"-")+'">'+e+"</h"+t+">\n"},i.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},i.prototype.list=function(e,t){var n=t?"ol":"ul";return"<"+n+">\n"+e+"</"+n+">\n"},i.prototype.listitem=function(e){return"<li>"+e+"</li>\n"},i.prototype.paragraph=function(e){return"<p>"+e+"</p>\n"},i.prototype.table=function(e,t){return"<table>\n<thead>\n"+e+"</thead>\n<tbody>\n"+t+"</tbody>\n</table>\n"},i.prototype.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},i.prototype.tablecell=function(e,t){var n=t.header?"th":"td";return(t.align?"<"+n+' style="text-align:'+t.align+'">':"<"+n+">")+e+"</"+n+">\n"},i.prototype.strong=function(e){return"<strong>"+e+"</strong>"},i.prototype.em=function(e){return"<em>"+e+"</em>"},i.prototype.codespan=function(e){return"<code>"+e+"</code>"},i.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},i.prototype.del=function(e){return"<del>"+e+"</del>"},i.prototype.link=function(e,t,n){if(this.options.sanitize){try{var r=decodeURIComponent(l(e)).replace(/[^\w:]/g,"").toLowerCase()}catch(o){return""}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:"))return""}var i='<a href="'+e+'"';return t&&(i+=' title="'+t+'"'),i+">"+n+"</a>"},i.prototype.image=function(e,t,n){var r='<img src="'+e+'" alt="'+n+'"';return t&&(r+=' title="'+t+'"'),r+(this.options.xhtml?"/>":">")},i.prototype.text=function(e){return e},a.parse=function(e,t,n){return new a(t,n).parse(e)},a.prototype.parse=function(e){this.inline=new o(e.links,this.options,this.renderer),this.tokens=e.reverse();for(var t="";this.next();)t+=this.tok();return t},a.prototype.next=function(){return this.token=this.tokens.pop()},a.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},a.prototype.parseText=function(){for(var e=this.token.text;"text"===this.peek().type;)e+="\n"+this.next().text;return this.inline.output(e)},a.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,this.token.text);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var e,t,n,r,o="",i="";for(n="",e=0;e<this.token.header.length;e++)({header:!0,align:this.token.align[e]}),n+=this.renderer.tablecell(this.inline.output(this.token.header[e]),{header:!0,align:this.token.align[e]});for(o+=this.renderer.tablerow(n),e=0;e<this.token.cells.length;e++){for(t=this.token.cells[e],n="",r=0;r<t.length;r++)n+=this.renderer.tablecell(this.inline.output(t[r]),{header:!1,align:this.token.align[r]});i+=this.renderer.tablerow(n)}return this.renderer.table(o,i);case"blockquote_start":for(i="";"blockquote_end"!==this.next().type;)i+=this.tok();return this.renderer.blockquote(i);case"list_start":i="";for(var a=this.token.ordered;"list_end"!==this.next().type;)i+=this.tok();return this.renderer.list(i,a);case"list_item_start":for(i="";"list_item_end"!==this.next().type;)i+="text"===this.token.type?this.parseText():this.tok();return this.renderer.listitem(i);case"loose_item_start":for(i="";"list_item_end"!==this.next().type;)i+=this.tok();return this.renderer.listitem(i);case"html":var s=this.token.pre||this.options.pedantic?this.token.text:this.inline.output(this.token.text);return this.renderer.html(s);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}},u.exec=u,f.options=f.setOptions=function(e){return d(f.defaults,e),f},f.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,sanitizer:null,mangle:!0,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1,headerPrefix:"",renderer:new i,xhtml:!1},f.Parser=a,f.parser=a.parse,f.Renderer=i,f.Lexer=t,f.lexer=t.lex,f.InlineLexer=o,f.inlineLexer=o.output,f.parse=f,void 0!==n&&"object"==typeof r?n.exports=f:"function"==typeof e&&e.amd?e(function(){return f}):this.marked=f}).call(function(){return this||("undefined"!=typeof window?window:t)}())}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],18:[function(e,t){(function(n,r){"use strict";var o=function(e,t,n,o){if(o=o||{},this.dictionary=null,this.rules={},this.dictionaryTable={},this.compoundRules=[],this.compoundRuleCodes={},this.replacementTable=[],this.flags=o.flags||{},e){if(this.dictionary=e,"undefined"!=typeof window&&"chrome"in window&&"extension"in window.chrome&&"getURL"in window.chrome.extension)t||(t=this._readFile(chrome.extension.getURL("lib/typo/dictionaries/"+e+"/"+e+".aff"))),n||(n=this._readFile(chrome.extension.getURL("lib/typo/dictionaries/"+e+"/"+e+".dic")));else{if(o.dictionaryPath)var i=o.dictionaryPath;else if(void 0!==r)i=r+"/dictionaries";else i="./dictionaries";t||(t=this._readFile(i+"/"+e+"/"+e+".aff")),n||(n=this._readFile(i+"/"+e+"/"+e+".dic"))}this.rules=this._parseAFF(t),this.compoundRuleCodes={};for(var a=0,s=this.compoundRules.length;s>a;a++)for(var l=this.compoundRules[a],c=0,u=l.length;u>c;c++)this.compoundRuleCodes[l[c]]=[];for(var a in"ONLYINCOMPOUND"in this.flags&&(this.compoundRuleCodes[this.flags.ONLYINCOMPOUND]=[]),this.dictionaryTable=this._parseDIC(n),this.compoundRuleCodes)0==this.compoundRuleCodes[a].length&&delete this.compoundRuleCodes[a];for(a=0,s=this.compoundRules.length;s>a;a++){var d=this.compoundRules[a],f="";for(c=0,u=d.length;u>c;c++){var p=d[c];f+=p in this.compoundRuleCodes?"("+this.compoundRuleCodes[p].join("|")+")":p}this.compoundRules[a]=new RegExp(f,"i")}}return this};o.prototype={load:function(e){for(var t in e)this[t]=e[t];return this},_readFile:function(t,r){if(r||(r="utf8"),"undefined"!=typeof XMLHttpRequest){var o=new XMLHttpRequest;return o.open("GET",t,!1),o.overrideMimeType&&o.overrideMimeType("text/plain; charset="+r),o.send(null),o.responseText}if(void 0!==e){var i=e("fs");try{if(i.existsSync(t)){var a=i.statSync(t),s=i.openSync(t,"r"),l=new n(a.size);return i.readSync(s,l,0,l.length,null),l.toString(r,0,l.length)}console.log("Path "+t+" does not exist.")}catch(c){return console.log(c),""}}},_parseAFF:function(e){for(var t={},n=(e=this._removeAffixComments(e)).split("\n"),r=0,o=n.length;o>r;r++){var i=(b=n[r]).split(/\s+/),a=i[0];if("PFX"==a||"SFX"==a){for(var s=i[1],l=i[2],c=[],u=r+1,d=r+1+(y=parseInt(i[3],10));d>u;u++){var f=(w=(b=n[u]).split(/\s+/))[2],p=w[3].split("/"),h=p[0];"0"===h&&(h="");var m=this.parseRuleCodes(p[1]),g=w[4],v={};v.add=h,m.length>0&&(v.continuationClasses=m),"."!==g&&(v.match="SFX"===a?new RegExp(g+"$"):new RegExp("^"+g)),"0"!=f&&(v.remove="SFX"===a?new RegExp(f+"$"):f),c.push(v)}t[s]={type:a,combineable:"Y"==l,entries:c},r+=y}else if("COMPOUNDRULE"===a){var y;for(u=r+1,d=r+1+(y=parseInt(i[1],10));d>u;u++){var b,w=(b=n[u]).split(/\s+/);this.compoundRules.push(w[1])}r+=y}else if("REP"===a){3===(w=b.split(/\s+/)).length&&this.replacementTable.push([w[1],w[2]])}else this.flags[a]=i[1]}return t},_removeAffixComments:function(e){return(e=(e=(e=e.replace(/#.*$/gm,"")).replace(/^\s\s*/m,"").replace(/\s\s*$/m,"")).replace(/\n{2,}/g,"\n")).replace(/^\s\s*/,"").replace(/\s\s*$/,"")},_parseDIC:function(e){function t(e,t){e in r&&"object"==typeof r[e]||(r[e]=[]),r[e].push(t)}for(var n=(e=this._removeDicComments(e)).split("\n"),r={},o=1,i=n.length;i>o;o++){var a=n[o].split("/",2),s=a[0];if(a.length>1){var l=this.parseRuleCodes(a[1]);"NEEDAFFIX"in this.flags&&-1!=l.indexOf(this.flags.NEEDAFFIX)||t(s,l);for(var c=0,u=l.length;u>c;c++){var d=l[c],f=this.rules[d];if(f)for(var p=this._applyRule(s,f),h=0,m=p.length;m>h;h++){var g=p[h];if(t(g,[]),f.combineable)for(var v=c+1;u>v;v++){var y=l[v],b=this.rules[y];if(b&&b.combineable&&f.type!=b.type)for(var w=this._applyRule(g,b),x=0,S=w.length;S>x;x++){t(w[x],[])}}}d in this.compoundRuleCodes&&this.compoundRuleCodes[d].push(s)}}else t(s.trim(),[])}return r},_removeDicComments:function(e){return e.replace(/^\t.*$/gm,"")},parseRuleCodes:function(e){if(!e)return[];if(!("FLAG"in this.flags))return e.split("");if("long"===this.flags.FLAG){for(var t=[],n=0,r=e.length;r>n;n+=2)t.push(e.substr(n,2));return t}return"num"===this.flags.FLAG?textCode.split(","):void 0},_applyRule:function(e,t){for(var n=t.entries,r=[],o=0,i=n.length;i>o;o++){var a=n[o];if(!a.match||e.match(a.match)){var s=e;if(a.remove&&(s=s.replace(a.remove,"")),"SFX"===t.type?s+=a.add:s=a.add+s,r.push(s),"continuationClasses"in a)for(var l=0,c=a.continuationClasses.length;c>l;l++){var u=this.rules[a.continuationClasses[l]];u&&(r=r.concat(this._applyRule(s,u)))}}}return r},check:function(e){var t=e.replace(/^\s\s*/,"").replace(/\s\s*$/,"");if(this.checkExact(t))return!0;if(t.toUpperCase()===t){var n=t[0]+t.substring(1).toLowerCase();if(this.hasFlag(n,"KEEPCASE"))return!1;if(this.checkExact(n))return!0}var r=t.toLowerCase();if(r!==t){if(this.hasFlag(r,"KEEPCASE"))return!1;if(this.checkExact(r))return!0}return!1},checkExact:function(e){var t=this.dictionaryTable[e];if(void 0===t){if("COMPOUNDMIN"in this.flags&&e.length>=this.flags.COMPOUNDMIN)for(var n=0,r=this.compoundRules.length;r>n;n++)if(e.match(this.compoundRules[n]))return!0;return!1}if("object"==typeof t){for(n=0,r=t.length;r>n;n++)if(!this.hasFlag(e,"ONLYINCOMPOUND",t[n]))return!0;return!1}},hasFlag:function(e,t,n){if(t in this.flags){if(void 0===n)n=Array.prototype.concat.apply([],this.dictionaryTable[e]);if(n&&-1!==n.indexOf(this.flags[t]))return!0}return!1},alphabet:"",suggest:function(e,t){function n(e){for(var t=[],n=0,r=e.length;r>n;n++){for(var o=e[n],i=[],a=0,s=o.length+1;s>a;a++)i.push([o.substring(0,a),o.substring(a,o.length)]);var l=[];for(a=0,s=i.length;s>a;a++){(m=i[a])[1]&&l.push(m[0]+m[1].substring(1))}var u=[];for(a=0,s=i.length;s>a;a++){(m=i[a])[1].length>1&&u.push(m[0]+m[1][1]+m[1][0]+m[1].substring(2))}var d=[];for(a=0,s=i.length;s>a;a++){if((m=i[a])[1])for(var f=0,p=c.alphabet.length;p>f;f++)d.push(m[0]+c.alphabet[f]+m[1].substring(1))}var h=[];for(a=0,s=i.length;s>a;a++){var m;if((m=i[a])[1])for(f=0,p=c.alphabet.length;p>f;f++)d.push(m[0]+c.alphabet[f]+m[1])}t=(t=(t=(t=t.concat(l)).concat(u)).concat(d)).concat(h)}return t}function r(e){for(var t=[],n=0;n<e.length;n++)c.check(e[n])&&t.push(e[n]);return t}function o(e){function o(e,t){return e[1]<t[1]?-1:1}for(var i=n([e]),a=n(i),s=r(i).concat(r(a)),l={},u=0,d=s.length;d>u;u++)s[u]in l?l[s[u]]+=1:l[s[u]]=1;var f=[];for(var u in l)f.push([u,l[u]]);f.sort(o).reverse();var p=[];for(u=0,d=Math.min(t,f.length);d>u;u++)c.hasFlag(f[u][0],"NOSUGGEST")||p.push(f[u][0]);return p}if(t||(t=5),this.check(e))return[];for(var i=0,a=this.replacementTable.length;a>i;i++){var s=this.replacementTable[i];if(-1!==e.indexOf(s[0])){var l=e.replace(s[0],s[1]);if(this.check(l))return[l]}}var c=this;return c.alphabet="abcdefghijklmnopqrstuvwxyz",o(e)}},void 0!==t&&(t.exports=o)}).call(this,e("buffer").Buffer,"/node_modules/typo-js")},{buffer:3,fs:2}],19:[function(e){var t=e("codemirror");t.commands.tabAndIndentMarkdownList=function(e){var t=e.listSelections()[0].head;if(!1!==e.getStateAfter(t.line).list)e.execCommand("indentMore");else if(e.options.indentWithTabs)e.execCommand("insertTab");else{var n=Array(e.options.tabSize+1).join(" ");e.replaceSelection(n)}},t.commands.shiftTabAndUnindentMarkdownList=function(e){var t=e.listSelections()[0].head;if(!1!==e.getStateAfter(t.line).list)e.execCommand("indentLess");else if(e.options.indentWithTabs)e.execCommand("insertTab");else{var n=Array(e.options.tabSize+1).join(" ");e.replaceSelection(n)}}},{codemirror:10}],20:[function(e,t){"use strict";function n(e){return z?e.replace("Ctrl","Cmd"):e.replace("Cmd","Ctrl")}function r(e,t,n){e=e||{};var r=document.createElement("a");return t=null==t||t,e.title&&t&&(r.title=i(e.title,e.action,n),z&&(r.title=r.title.replace("Ctrl","\u2318"),r.title=r.title.replace("Alt","\u2325"))),r.tabIndex=-1,r.className=e.className,r}function o(){var e=document.createElement("i");return e.className="separator",e.innerHTML="|",e}function i(e,t,r){var o,i=e;return t&&(r[o=G(t)]&&(i+=" ("+n(r[o])+")")),i}function a(e,t){t=t||e.getCursor("start");var n=e.getTokenAt(t);if(!n.type)return{};for(var r,o,i=n.type.split(" "),a={},s=0;s<i.length;s++)"strong"===(r=i[s])?a.bold=!0:"variable-2"===r?(o=e.getLine(t.line),/^\s*\d+\.\s/.test(o)?a["ordered-list"]=!0:a["unordered-list"]=!0):"atom"===r?a.quote=!0:"em"===r?a.italic=!0:"quote"===r?a.quote=!0:"strikethrough"===r?a.strikethrough=!0:"comment"===r?a.code=!0:"link"===r?a.link=!0:"tag"===r?a.image=!0:r.match(/^header(\-[1-6])?$/)&&(a[r.replace("header","heading")]=!0);return a}function s(e){var t=e.codemirror;t.setOption("fullScreen",!t.getOption("fullScreen")),t.getOption("fullScreen")?(Y=document.body.style.overflow,document.body.style.overflow="hidden"):document.body.style.overflow=Y;var n=t.getWrapperElement();/fullscreen/.test(n.previousSibling.className)?n.previousSibling.className=n.previousSibling.className.replace(/\s*fullscreen\b/,""):n.previousSibling.className+=" fullscreen";var r=e.toolbarElements.fullscreen;/active/.test(r.className)?r.className=r.className.replace(/\s*active\s*/g,""):r.className+=" active";var o=t.getWrapperElement().nextSibling;/editor-preview-active-side/.test(o.className)&&j(e)}function l(e){N(e,"bold",e.options.blockStyles.bold)}function c(e){N(e,"italic",e.options.blockStyles.italic)}function u(e){N(e,"strikethrough","~~")}function d(e){function t(e){if("object"!=typeof e)throw"fencing_line() takes a 'line' object (not a line number, or line text).  Got: "+typeof e+": "+e;return e.styles&&e.styles[2]&&-1!==e.styles[2].indexOf("formatting-code-block")}function n(e){return e.state.base.base||e.state.base}function r(e,r,o,i,a){o=o||e.getLineHandle(r),i=i||e.getTokenAt({line:r,ch:1}),a=a||!!o.text&&e.getTokenAt({line:r,ch:o.text.length-1});var s=i.type?i.type.split(" "):[];return a&&n(a).indentedCode?"indented":-1!==s.indexOf("comment")&&(n(i).fencedChars||n(a).fencedChars||t(o)?"fenced":"single")}function o(e,t,n,r){var o=t.line+1,i=n.line+1,a=t.line!==n.line,s=r+"\n",l="\n"+r;a&&i++,a&&0===n.ch&&(l=r+"\n",i--),O(e,!1,[s,l]),e.setSelection({line:o,ch:0},{line:i,ch:0})}var i,a,s,l=e.options.blockStyles.code,c=e.codemirror,u=c.getCursor("start"),d=c.getCursor("end"),f=c.getTokenAt({line:u.line,ch:u.ch||1}),p=c.getLineHandle(u.line),h=r(c,u.line,p,f);if("single"===h){var m=p.text.slice(0,u.ch).replace("`",""),g=p.text.slice(u.ch).replace("`","");c.replaceRange(m+g,{line:u.line,ch:0},{line:u.line,ch:99999999999999}),u.ch--,u!==d&&d.ch--,c.setSelection(u,d),c.focus()}else if("fenced"===h)if(u.line!==d.line||u.ch!==d.ch){for(i=u.line;i>=0&&!t(p=c.getLineHandle(i));i--);var v,y,b,w,x=n(c.getTokenAt({line:i,ch:1})).fencedChars;t(c.getLineHandle(u.line))?(v="",y=u.line):t(c.getLineHandle(u.line-1))?(v="",y=u.line-1):(v=x+"\n",y=u.line),t(c.getLineHandle(d.line))?(b="",w=d.line,0===d.ch&&(w+=1)):0!==d.ch&&t(c.getLineHandle(d.line+1))?(b="",w=d.line+1):(b=x+"\n",w=d.line+1),0===d.ch&&(w-=1),c.operation(function(){c.replaceRange(b,{line:w,ch:0},{line:w+(b?0:1),ch:0}),c.replaceRange(v,{line:y,ch:0},{line:y+(v?0:1),ch:0})}),c.setSelection({line:y+(v?1:0),ch:0},{line:w+(v?1:-1),ch:0}),c.focus()}else{var S=u.line;if(t(c.getLineHandle(u.line))&&("fenced"===r(c,u.line+1)?(i=u.line,S=u.line+1):(a=u.line,S=u.line-1)),void 0===i)for(i=S;i>=0&&!t(p=c.getLineHandle(i));i--);if(void 0===a)for(s=c.lineCount(),a=S;s>a&&!t(p=c.getLineHandle(a));a++);c.operation(function(){c.replaceRange("",{line:i,ch:0},{line:i+1,ch:0}),c.replaceRange("",{line:a-1,ch:0},{line:a,ch:0})}),c.focus()}else if("indented"===h){if(u.line!==d.line||u.ch!==d.ch)i=u.line,a=d.line,0===d.ch&&a--;else{for(i=u.line;i>=0;i--)if(!(p=c.getLineHandle(i)).text.match(/^\s*$/)&&"indented"!==r(c,i,p)){i+=1;break}for(s=c.lineCount(),a=u.line;s>a;a++)if(!(p=c.getLineHandle(a)).text.match(/^\s*$/)&&"indented"!==r(c,a,p)){a-=1;break}}var C=c.getLineHandle(a+1),E=C&&c.getTokenAt({line:a+1,ch:C.text.length-1});E&&n(E).indentedCode&&c.replaceRange("\n",{line:a+1,ch:0});for(var T=i;a>=T;T++)c.indentLine(T,"subtract");c.focus()}else{var k=u.line===d.line&&u.ch===d.ch&&0===u.ch,j=u.line!==d.line;k||j?o(c,u,d,l):O(c,!1,["`","`"])}}function f(e){A(e.codemirror,"quote")}function p(e){_(e.codemirror,"smaller")}function h(e){_(e.codemirror,"bigger")}function m(e){_(e.codemirror,void 0,1)}function g(e){_(e.codemirror,void 0,2)}function v(e){_(e.codemirror,void 0,3)}function y(e){A(e.codemirror,"unordered-list")}function b(e){A(e.codemirror,"ordered-list")}function w(e){M(e.codemirror)}function x(e){var t=e.codemirror,n=a(t),r=e.options,o="http://";return!(r.promptURLs&&(o=prompt(r.promptTexts.link),!o))&&void O(t,n.link,r.insertTexts.link,o)}function S(e){var t=e.codemirror,n=a(t),r=e.options,o="http://";return!(r.promptURLs&&(o=prompt(r.promptTexts.image),!o))&&void O(t,n.image,r.insertTexts.image,o)}function C(e){var t=e.codemirror,n=a(t),r=e.options;O(t,n.table,r.insertTexts.table)}function E(e){var t=e.codemirror,n=a(t),r=e.options;O(t,n.image,r.insertTexts.horizontalRule)}function T(e){var t=e.codemirror;t.undo(),t.focus()}function k(e){var t=e.codemirror;t.redo(),t.focus()}function j(e){var t=e.codemirror,n=t.getWrapperElement(),r=n.nextSibling,o=e.toolbarElements["side-by-side"],i=!1;/editor-preview-active-side/.test(r.className)?(r.className=r.className.replace(/\s*editor-preview-active-side\s*/g,""),o.className=o.className.replace(/\s*active\s*/g,""),n.className=n.className.replace(/\s*CodeMirror-sided\s*/g," ")):(setTimeout(function(){t.getOption("fullScreen")||s(e),r.className+=" editor-preview-active-side"},1),o.className+=" active",n.className+=" CodeMirror-sided",i=!0);var a=n.lastChild;if(/editor-preview-active/.test(a.className)){a.className=a.className.replace(/\s*editor-preview-active\s*/g,"");var l=e.toolbarElements.preview,c=n.previousSibling;l.className=l.className.replace(/\s*active\s*/g,""),c.className=c.className.replace(/\s*disabled-for-preview*/g,"")}var u=function(){r.innerHTML=e.options.previewRender(e.value(),r)};t.sideBySideRenderingFunction||(t.sideBySideRenderingFunction=u),i?(r.innerHTML=e.options.previewRender(e.value(),r),t.on("update",t.sideBySideRenderingFunction)):t.off("update",t.sideBySideRenderingFunction),t.refresh()}function L(e){var t=e.codemirror,n=t.getWrapperElement(),r=n.previousSibling,o=!!e.options.toolbar&&e.toolbarElements.preview,i=n.lastChild;i&&/editor-preview/.test(i.className)||((i=document.createElement("div")).className="editor-preview",n.appendChild(i)),/editor-preview-active/.test(i.className)?(i.className=i.className.replace(/\s*editor-preview-active\s*/g,""),o&&(o.className=o.className.replace(/\s*active\s*/g,""),r.className=r.className.replace(/\s*disabled-for-preview*/g,""))):(setTimeout(function(){i.className+=" editor-preview-active"},1),o&&(o.className+=" active",r.className+=" disabled-for-preview")),i.innerHTML=e.options.previewRender(e.value(),i);var a=t.getWrapperElement().nextSibling;/editor-preview-active-side/.test(a.className)&&j(e)}function O(e,t,n,r){if(!/editor-preview-active/.test(e.getWrapperElement().lastChild.className)){var o,i=n[0],a=n[1],s=e.getCursor("start"),l=e.getCursor("end");r&&(a=a.replace("#url#",r)),t?(i=(o=e.getLine(s.line)).slice(0,s.ch),a=o.slice(s.ch),e.replaceRange(i+a,{line:s.line,ch:0})):(o=e.getSelection(),e.replaceSelection(i+o+a),s.ch+=i.length,s!==l&&(l.ch+=i.length)),e.setSelection(s,l),e.focus()}}function _(e,t,n){if(!/editor-preview-active/.test(e.getWrapperElement().lastChild.className)){for(var r=e.getCursor("start"),o=e.getCursor("end"),i=r.line;i<=o.line;i++)!function(r){var o=e.getLine(r),i=o.search(/[^#]/);o=void 0!==t?0>=i?"bigger"==t?"###### "+o:"# "+o:6==i&&"smaller"==t?o.substr(7):1==i&&"bigger"==t?o.substr(2):"bigger"==t?o.substr(1):"#"+o:1==n?0>=i?"# "+o:i==n?o.substr(i+1):"# "+o.substr(i+1):2==n?0>=i?"## "+o:i==n?o.substr(i+1):"## "+o.substr(i+1):0>=i?"### "+o:i==n?o.substr(i+1):"### "+o.substr(i+1),e.replaceRange(o,{line:r,ch:0},{line:r,ch:99999999999999})}(i);e.focus()}}function A(e,t){if(!/editor-preview-active/.test(e.getWrapperElement().lastChild.className)){for(var n=a(e),r=e.getCursor("start"),o=e.getCursor("end"),i={quote:/^(\s*)\>\s+/,"unordered-list":/^(\s*)(\*|\-|\+)\s+/,"ordered-list":/^(\s*)\d+\.\s+/},s={quote:"> ","unordered-list":"* ","ordered-list":"1. "},l=r.line;l<=o.line;l++)!function(r){var o=e.getLine(r);o=n[t]?o.replace(i[t],"$1"):s[t]+o,e.replaceRange(o,{line:r,ch:0},{line:r,ch:99999999999999})}(l);e.focus()}}function N(e,t,n,r){if(!/editor-preview-active/.test(e.codemirror.getWrapperElement().lastChild.className)){r=void 0===r?n:r;var o,i=e.codemirror,s=a(i),l=n,c=r,u=i.getCursor("start"),d=i.getCursor("end");s[t]?(l=(o=i.getLine(u.line)).slice(0,u.ch),c=o.slice(u.ch),"bold"==t?(l=l.replace(/(\*\*|__)(?![\s\S]*(\*\*|__))/,""),c=c.replace(/(\*\*|__)/,"")):"italic"==t?(l=l.replace(/(\*|_)(?![\s\S]*(\*|_))/,""),c=c.replace(/(\*|_)/,"")):"strikethrough"==t&&(l=l.replace(/(\*\*|~~)(?![\s\S]*(\*\*|~~))/,""),c=c.replace(/(\*\*|~~)/,"")),i.replaceRange(l+c,{line:u.line,ch:0},{line:u.line,ch:99999999999999}),"bold"==t||"strikethrough"==t?(u.ch-=2,u!==d&&(d.ch-=2)):"italic"==t&&(u.ch-=1,u!==d&&(d.ch-=1))):(o=i.getSelection(),"bold"==t?o=(o=o.split("**").join("")).split("__").join(""):"italic"==t?o=(o=o.split("*").join("")).split("_").join(""):"strikethrough"==t&&(o=o.split("~~").join("")),i.replaceSelection(l+o+c),u.ch+=n.length,d.ch=u.ch+o.length),i.setSelection(u,d),i.focus()}}function M(e){if(!/editor-preview-active/.test(e.getWrapperElement().lastChild.className))for(var t,n=e.getCursor("start"),r=e.getCursor("end"),o=n.line;o<=r.line;o++)t=(t=e.getLine(o)).replace(/^[ ]*([# ]+|\*|\-|[> ]+|[0-9]+(.|\)))[ ]*/,""),e.replaceRange(t,{line:o,ch:0},{line:o,ch:99999999999999})}function P(e,t){for(var n in t)t.hasOwnProperty(n)&&(t[n]instanceof Array?e[n]=t[n].concat(e[n]instanceof Array?e[n]:[]):null!==t[n]&&"object"==typeof t[n]&&t[n].constructor===Object?e[n]=P(e[n]||{},t[n]):e[n]=t[n]);return e}function I(e){for(var t=1;t<arguments.length;t++)e=P(e,arguments[t]);return e}function D(e){var t=/[a-zA-Z0-9_\u0392-\u03c9\u0410-\u04F9]+|[\u4E00-\u9FFF\u3400-\u4dbf\uf900-\ufaff\u3040-\u309f\uac00-\ud7af]+/g,n=e.match(t),r=0;if(null===n)return r;for(var o=0;o<n.length;o++)r+=n[o].charCodeAt(0)>=19968?n[o].length:1;return r}function R(e){(e=e||{}).parent=this;var t=!0;if(!1===e.autoDownloadFontAwesome&&(t=!1),!0!==e.autoDownloadFontAwesome)for(var n=document.styleSheets,r=0;r<n.length;r++)n[r].href&&n[r].href.indexOf("//maxcdn.bootstrapcdn.com/font-awesome/")>-1&&(t=!1);if(t){var o=document.createElement("link");o.rel="stylesheet",o.href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css",document.getElementsByTagName("head")[0].appendChild(o)}if(e.element)this.element=e.element;else if(null===e.element)return void console.log("SimpleMDE: Error. No element was found.");if(void 0===e.toolbar)for(var i in e.toolbar=[],V)V.hasOwnProperty(i)&&(-1!=i.indexOf("separator-")&&e.toolbar.push("|"),(!0===V[i]["default"]||e.showIcons&&e.showIcons.constructor===Array&&-1!=e.showIcons.indexOf(i))&&e.toolbar.push(i));e.hasOwnProperty("status")||(e.status=["autosave","lines","words","cursor"]),e.previewRender||(e.previewRender=function(e){return this.parent.markdown(e)}),e.parsingConfig=I({highlightFormatting:!0},e.parsingConfig||{}),e.insertTexts=I({},X,e.insertTexts||{}),e.promptTexts=Q,e.blockStyles=I({},K,e.blockStyles||{}),e.shortcuts=I({},U,e.shortcuts||{}),null!=e.autosave&&null!=e.autosave.unique_id&&""!=e.autosave.unique_id&&(e.autosave.uniqueId=e.autosave.unique_id),this.options=e,this.render(),!e.initialValue||this.options.autosave&&!0===this.options.autosave.foundSavedValue||this.value(e.initialValue)}function W(){if("object"!=typeof localStorage)return!1;try{localStorage.setItem("smde_localStorage",1),localStorage.removeItem("smde_localStorage")}catch(e){return!1}return!0}var H=e("codemirror");e("codemirror/addon/edit/continuelist.js"),e("./codemirror/tablist"),e("codemirror/addon/display/fullscreen.js"),e("codemirror/mode/markdown/markdown.js"),e("codemirror/addon/mode/overlay.js"),e("codemirror/addon/display/placeholder.js"),e("codemirror/addon/selection/mark-selection.js"),e("codemirror/mode/gfm/gfm.js"),e("codemirror/mode/xml/xml.js");var B=e("codemirror-spell-checker"),F=e("marked"),z=/Mac/.test(navigator.platform),q={toggleBold:l,toggleItalic:c,drawLink:x,toggleHeadingSmaller:p,toggleHeadingBigger:h,drawImage:S,toggleBlockquote:f,toggleOrderedList:b,toggleUnorderedList:y,toggleCodeBlock:d,togglePreview:L,toggleStrikethrough:u,toggleHeading1:m,toggleHeading2:g,toggleHeading3:v,cleanBlock:w,drawTable:C,drawHorizontalRule:E,undo:T,redo:k,toggleSideBySide:j,toggleFullScreen:s},U={toggleBold:"Cmd-B",toggleItalic:"Cmd-I",drawLink:"Cmd-K",toggleHeadingSmaller:"Cmd-H",toggleHeadingBigger:"Shift-Cmd-H",cleanBlock:"Cmd-E",drawImage:"Cmd-Alt-I",toggleBlockquote:"Cmd-'",toggleOrderedList:"Cmd-Alt-L",toggleUnorderedList:"Cmd-L",toggleCodeBlock:"Cmd-Alt-C",togglePreview:"Cmd-P",toggleSideBySide:"F9",toggleFullScreen:"F11"},G=function(e){for(var t in q)if(q[t]===e)return t;return null},$=function(){var e,t=!1;return e=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0),t},Y="",V={bold:{name:"bold",action:l,className:"fa fa-bold",title:"Bold","default":!0},italic:{name:"italic",action:c,className:"fa fa-italic",title:"Italic","default":!0},strikethrough:{name:"strikethrough",action:u,className:"fa fa-strikethrough",title:"Strikethrough"},heading:{name:"heading",action:p,className:"fa fa-header",title:"Heading","default":!0},"heading-smaller":{name:"heading-smaller",action:p,className:"fa fa-header fa-header-x fa-header-smaller",title:"Smaller Heading"},"heading-bigger":{name:"heading-bigger",action:h,className:"fa fa-header fa-header-x fa-header-bigger",title:"Bigger Heading"},"heading-1":{name:"heading-1",action:m,className:"fa fa-header fa-header-x fa-header-1",title:"Big Heading"},"heading-2":{name:"heading-2",action:g,className:"fa fa-header fa-header-x fa-header-2",title:"Medium Heading"},"heading-3":{name:"heading-3",action:v,className:"fa fa-header fa-header-x fa-header-3",title:"Small Heading"},"separator-1":{name:"separator-1"},code:{name:"code",action:d,className:"fa fa-code",title:"Code"},quote:{name:"quote",action:f,className:"fa fa-quote-left",title:"Quote","default":!0},"unordered-list":{name:"unordered-list",action:y,className:"fa fa-list-ul",title:"Generic List","default":!0},"ordered-list":{name:"ordered-list",action:b,className:"fa fa-list-ol",title:"Numbered List","default":!0},"clean-block":{name:"clean-block",action:w,className:"fa fa-eraser fa-clean-block",title:"Clean block"},"separator-2":{name:"separator-2"},link:{name:"link",action:x,className:"fa fa-link",title:"Create Link","default":!0},image:{name:"image",action:S,className:"fa fa-picture-o",title:"Insert Image","default":!0},table:{name:"table",action:C,className:"fa fa-table",title:"Insert Table"},"horizontal-rule":{name:"horizontal-rule",action:E,className:"fa fa-minus",title:"Insert Horizontal Line"},
"separator-3":{name:"separator-3"},preview:{name:"preview",action:L,className:"fa fa-eye no-disable",title:"Toggle Preview","default":!0},"side-by-side":{name:"side-by-side",action:j,className:"fa fa-columns no-disable no-mobile",title:"Toggle Side by Side","default":!0},fullscreen:{name:"fullscreen",action:s,className:"fa fa-arrows-alt no-disable no-mobile",title:"Toggle Fullscreen","default":!0},"separator-4":{name:"separator-4"},guide:{name:"guide",action:"https://simplemde.com/markdown-guide",className:"fa fa-question-circle",title:"Markdown Guide","default":!0},"separator-5":{name:"separator-5"},undo:{name:"undo",action:T,className:"fa fa-undo no-disable",title:"Undo"},redo:{name:"redo",action:k,className:"fa fa-repeat no-disable",title:"Redo"}},X={link:["[","](#url#)"],image:["![](","#url#)"],table:["","\n\n| Column 1 | Column 2 | Column 3 |\n| -------- | -------- | -------- |\n| Text     | Text     | Text     |\n\n"],horizontalRule:["","\n\n-----\n\n"]},Q={link:"URL for the link:",image:"URL of the image:"},K={bold:"**",code:"```",italic:"*"};R.prototype.markdown=function(e){if(F){var t={};return this.options&&this.options.renderingConfig&&!1===this.options.renderingConfig.singleLineBreaks?t.breaks=!1:t.breaks=!0,this.options&&this.options.renderingConfig&&!0===this.options.renderingConfig.codeSyntaxHighlighting&&window.hljs&&(t.highlight=function(e){return window.hljs.highlightAuto(e).value}),F.setOptions(t),F(e)}},R.prototype.render=function(e){if(e||(e=this.element||document.getElementsByTagName("textarea")[0]),!this._rendered||this._rendered!==e){this.element=e;var t,r,o=this.options,i=this,a={};for(var l in o.shortcuts)null!==o.shortcuts[l]&&null!==q[l]&&function(e){a[n(o.shortcuts[e])]=function(){q[e](i)}}(l);if(a.Enter="newlineAndIndentContinueMarkdownList",a.Tab="tabAndIndentMarkdownList",a["Shift-Tab"]="shiftTabAndUnindentMarkdownList",a.Esc=function(e){e.getOption("fullScreen")&&s(i)},document.addEventListener("keydown",function(e){27==(e=e||window.event).keyCode&&i.codemirror.getOption("fullScreen")&&s(i)},!1),!1!==o.spellChecker?(t="spell-checker",(r=o.parsingConfig).name="gfm",r.gitHubSpice=!1,B({codeMirrorInstance:H})):((t=o.parsingConfig).name="gfm",t.gitHubSpice=!1),this.codemirror=H.fromTextArea(e,{mode:t,backdrop:r,theme:"paper",tabSize:null!=o.tabSize?o.tabSize:2,indentUnit:null!=o.tabSize?o.tabSize:2,indentWithTabs:!1!==o.indentWithTabs,lineNumbers:!1,autofocus:!0===o.autofocus,extraKeys:a,lineWrapping:!1!==o.lineWrapping,allowDropFileTypes:["text/plain"],placeholder:o.placeholder||e.getAttribute("placeholder")||"",styleSelectedText:null==o.styleSelectedText||o.styleSelectedText}),!0===o.forceSync){var c=this.codemirror;c.on("change",function(){c.save()})}this.gui={},!1!==o.toolbar&&(this.gui.toolbar=this.createToolbar()),!1!==o.status&&(this.gui.statusbar=this.createStatusbar()),null!=o.autosave&&!0===o.autosave.enabled&&this.autosave(),this.gui.sideBySide=this.createSideBySide(),this._rendered=this.element;var u=this.codemirror;setTimeout(function(){u.refresh()}.bind(u),0)}},R.prototype.autosave=function(){if(W()){var e=this;if(null==this.options.autosave.uniqueId||""==this.options.autosave.uniqueId)return void console.log("SimpleMDE: You must set a uniqueId to use the autosave feature");null!=e.element.form&&null!=e.element.form&&e.element.form.addEventListener("submit",function(){localStorage.removeItem("smde_"+e.options.autosave.uniqueId)}),!0!==this.options.autosave.loaded&&("string"==typeof localStorage.getItem("smde_"+this.options.autosave.uniqueId)&&""!=localStorage.getItem("smde_"+this.options.autosave.uniqueId)&&(this.codemirror.setValue(localStorage.getItem("smde_"+this.options.autosave.uniqueId)),this.options.autosave.foundSavedValue=!0),this.options.autosave.loaded=!0),localStorage.setItem("smde_"+this.options.autosave.uniqueId,e.value());var t=document.getElementById("autosaved");if(null!=t&&null!=t&&""!=t){var n=new Date,r=n.getHours(),o=n.getMinutes(),i="am",a=r;a>=12&&(a=r-12,i="pm"),0==a&&(a=12),o=10>o?"0"+o:o,t.innerHTML="Autosaved: "+a+":"+o+" "+i}this.autosaveTimeoutId=setTimeout(function(){e.autosave()},this.options.autosave.delay||1e4)}else console.log("SimpleMDE: localStorage not available, cannot autosave")},R.prototype.clearAutosavedValue=function(){if(W()){if(null==this.options.autosave||null==this.options.autosave.uniqueId||""==this.options.autosave.uniqueId)return void console.log("SimpleMDE: You must set a uniqueId to clear the autosave value");localStorage.removeItem("smde_"+this.options.autosave.uniqueId)}else console.log("SimpleMDE: localStorage not available, cannot autosave")},R.prototype.createSideBySide=function(){var e=this.codemirror,t=e.getWrapperElement(),n=t.nextSibling;n&&/editor-preview-side/.test(n.className)||((n=document.createElement("div")).className="editor-preview-side",t.parentNode.insertBefore(n,t.nextSibling));var r=!1,o=!1;return e.on("scroll",function(e){if(r)r=!1;else{o=!0;var t=e.getScrollInfo().height-e.getScrollInfo().clientHeight,i=parseFloat(e.getScrollInfo().top)/t,a=(n.scrollHeight-n.clientHeight)*i;n.scrollTop=a}}),n.onscroll=function(){if(o)o=!1;else{r=!0;var t=n.scrollHeight-n.clientHeight,i=parseFloat(n.scrollTop)/t,a=(e.getScrollInfo().height-e.getScrollInfo().clientHeight)*i;e.scrollTo(0,a)}},n},R.prototype.createToolbar=function(e){if((e=e||this.options.toolbar)&&0!==e.length){var t;for(t=0;t<e.length;t++)null!=V[e[t]]&&(e[t]=V[e[t]]);var n=document.createElement("div");n.className="editor-toolbar";var i=this,s={};for(i.toolbar=e,t=0;t<e.length;t++)if(("guide"!=e[t].name||!1!==i.options.toolbarGuideIcon)&&!(i.options.hideIcons&&-1!=i.options.hideIcons.indexOf(e[t].name)||("fullscreen"==e[t].name||"side-by-side"==e[t].name)&&$())){if("|"===e[t]){for(var l=!1,c=t+1;c<e.length;c++)"|"===e[c]||i.options.hideIcons&&-1!=i.options.hideIcons.indexOf(e[c].name)||(l=!0);if(!l)continue}!function(e){var t;t="|"===e?o():r(e,i.options.toolbarTips,i.options.shortcuts),e.action&&("function"==typeof e.action?t.onclick=function(t){t.preventDefault(),e.action(i)}:"string"==typeof e.action&&(t.href=e.action,t.target="_blank")),s[e.name||e]=t,n.appendChild(t)}(e[t])}i.toolbarElements=s;var u=this.codemirror;u.on("cursorActivity",function(){var e=a(u);for(var t in s)!function(t){var n=s[t];e[t]?n.className+=" active":"fullscreen"!=t&&"side-by-side"!=t&&(n.className=n.className.replace(/\s*active\s*/g,""))}(t)});var d=u.getWrapperElement();return d.parentNode.insertBefore(n,d),n}},R.prototype.createStatusbar=function(e){e=e||this.options.status;var t=this.options,n=this.codemirror;if(e&&0!==e.length){var r,o,i,a=[];for(r=0;r<e.length;r++)if(o=void 0,i=void 0,"object"==typeof e[r])a.push({className:e[r].className,defaultValue:e[r].defaultValue,onUpdate:e[r].onUpdate});else{var s=e[r];"words"===s?(i=function(e){e.innerHTML=D(n.getValue())},o=function(e){e.innerHTML=D(n.getValue())}):"lines"===s?(i=function(e){e.innerHTML=n.lineCount()},o=function(e){e.innerHTML=n.lineCount()}):"cursor"===s?(i=function(e){e.innerHTML="0:0"},o=function(e){var t=n.getCursor();e.innerHTML=t.line+":"+t.ch}):"autosave"===s&&(i=function(e){null!=t.autosave&&!0===t.autosave.enabled&&e.setAttribute("id","autosaved")}),a.push({className:s,defaultValue:i,onUpdate:o})}var l=document.createElement("div");for(l.className="editor-statusbar",r=0;r<a.length;r++){var c=a[r],u=document.createElement("span");u.className=c.className,"function"==typeof c.defaultValue&&c.defaultValue(u),"function"==typeof c.onUpdate&&this.codemirror.on("update",function(e,t){return function(){t.onUpdate(e)}}(u,c)),l.appendChild(u)}var d=this.codemirror.getWrapperElement();return d.parentNode.insertBefore(l,d.nextSibling),l}},R.prototype.value=function(e){return void 0===e?this.codemirror.getValue():(this.codemirror.getDoc().setValue(e),this)},R.toggleBold=l,R.toggleItalic=c,R.toggleStrikethrough=u,R.toggleBlockquote=f,R.toggleHeadingSmaller=p,R.toggleHeadingBigger=h,R.toggleHeading1=m,R.toggleHeading2=g,R.toggleHeading3=v,R.toggleCodeBlock=d,R.toggleUnorderedList=y,R.toggleOrderedList=b,R.cleanBlock=w,R.drawLink=x,R.drawImage=S,R.drawTable=C,R.drawHorizontalRule=E,R.undo=T,R.redo=k,R.togglePreview=L,R.toggleSideBySide=j,R.toggleFullScreen=s,R.prototype.toggleBold=function(){l(this)},R.prototype.toggleItalic=function(){c(this)},R.prototype.toggleStrikethrough=function(){u(this)},R.prototype.toggleBlockquote=function(){f(this)},R.prototype.toggleHeadingSmaller=function(){p(this)},R.prototype.toggleHeadingBigger=function(){h(this)},R.prototype.toggleHeading1=function(){m(this)},R.prototype.toggleHeading2=function(){g(this)},R.prototype.toggleHeading3=function(){v(this)},R.prototype.toggleCodeBlock=function(){d(this)},R.prototype.toggleUnorderedList=function(){y(this)},R.prototype.toggleOrderedList=function(){b(this)},R.prototype.cleanBlock=function(){w(this)},R.prototype.drawLink=function(){x(this)},R.prototype.drawImage=function(){S(this)},R.prototype.drawTable=function(){C(this)},R.prototype.drawHorizontalRule=function(){E(this)},R.prototype.undo=function(){T(this)},R.prototype.redo=function(){k(this)},R.prototype.togglePreview=function(){L(this)},R.prototype.toggleSideBySide=function(){j(this)},R.prototype.toggleFullScreen=function(){s(this)},R.prototype.isPreviewActive=function(){var e=this.codemirror.getWrapperElement().lastChild;return/editor-preview-active/.test(e.className)},R.prototype.isSideBySideActive=function(){var e=this.codemirror.getWrapperElement().nextSibling;return/editor-preview-active-side/.test(e.className)},R.prototype.isFullscreenActive=function(){return this.codemirror.getOption("fullScreen")},R.prototype.getState=function(){return a(this.codemirror)},R.prototype.toTextArea=function(){var e=this.codemirror,t=e.getWrapperElement();t.parentNode&&(this.gui.toolbar&&t.parentNode.removeChild(this.gui.toolbar),this.gui.statusbar&&t.parentNode.removeChild(this.gui.statusbar),this.gui.sideBySide&&t.parentNode.removeChild(this.gui.sideBySide)),e.toTextArea(),this.autosaveTimeoutId&&(clearTimeout(this.autosaveTimeoutId),this.autosaveTimeoutId=void 0,this.clearAutosavedValue())},t.exports=R},{"./codemirror/tablist":19,codemirror:10,"codemirror-spell-checker":4,"codemirror/addon/display/fullscreen.js":5,"codemirror/addon/display/placeholder.js":6,"codemirror/addon/edit/continuelist.js":7,"codemirror/addon/mode/overlay.js":8,"codemirror/addon/selection/mark-selection.js":9,"codemirror/mode/gfm/gfm.js":11,"codemirror/mode/markdown/markdown.js":12,"codemirror/mode/xml/xml.js":14,marked:17}]},{},[20])(20)}),function(e){var t=!1;if("function"==typeof define&&define.amd&&(define(e),t=!0),"object"==typeof exports&&(module.exports=e(),t=!0),!t){var n=window.Cookies,r=window.Cookies=e();r.noConflict=function(){return window.Cookies=n,r}}}(function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(n){function r(t,o,i){var a;if("undefined"!=typeof document){if(arguments.length>1){if("number"==typeof(i=e({path:"/"},r.defaults,i)).expires){var s=new Date;s.setMilliseconds(s.getMilliseconds()+864e5*i.expires),i.expires=s}i.expires=i.expires?i.expires.toUTCString():"";try{a=JSON.stringify(o),/^[\{\[]/.test(a)&&(o=a)}catch(g){}o=n.write?n.write(o,t):encodeURIComponent(String(o)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=(t=(t=encodeURIComponent(String(t))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);var l="";for(var c in i)i[c]&&(l+="; "+c,!0!==i[c]&&(l+="="+i[c]));return document.cookie=t+"="+o+l}t||(a={});for(var u=document.cookie?document.cookie.split("; "):[],d=/(%[0-9A-Z]{2})+/g,f=0;f<u.length;f++){var p=u[f].split("="),h=p.slice(1).join("=");this.json||'"'!==h.charAt(0)||(h=h.slice(1,-1));try{var m=p[0].replace(d,decodeURIComponent);if(h=n.read?n.read(h,m):n(h,m)||h.replace(d,decodeURIComponent),this.json)try{h=JSON.parse(h)}catch(g){}if(t===m){a=h;break}t||(a[m]=h)}catch(g){}}return a}}return r.set=r,r.get=function(e){return r.call(r,e)},r.getJSON=function(){return r.apply({json:!0},[].slice.call(arguments))},r.defaults={},r.remove=function(t,n){r(t,"",e(n,{expires:-1}))},r.withConverter=t,r}return t(function(){})});var windowIsTurbolinked="Turbolinks"in window,cookiesEu={init:function(){var e=document.querySelector(".js-cookies-eu-ok");e&&(this.addListener(e),windowIsTurbolinked&&window.Turbolinks.clearCache())},addListener:function(e){e.attachEvent?e.attachEvent("onclick",this.setCookie):e.addEventListener("click",this.setCookie,!1)},setCookie:function(){Cookies.set("cookie_eu_consented",!0,{path:"/",expires:365});var e=document.querySelector(".js-cookies-eu");e.parentNode.removeChild(e)}};!function(){function e(e){return windowIsTurbolinked?"turbolinks:load":e}function t(){n&&!windowIsTurbolinked||(n=!0,cookiesEu.init())}var n=!1;if(document.addEventListener)return document.addEventListener(e("DOMContentLoaded"),t,!1);window.addEventListener?window.addEventListener(e("load"),t,!1):window.attachEvent&&window.attachEvent(e("onload"),t)}(),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("brainblocks",[],t):"object"==typeof exports?exports.brainblocks=t():e.brainblocks=t()}("undefined"!=typeof self?self:this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s="./src/index.js")}({"./node_modules/beaver-logger/client/builders.js":function(e,t,n){"use strict";function r(e){s.push(e)}function o(e){l.push(e)}function i(e){c.push(e)}function a(e){u.push(e)}n.d(t,"g",function(){return s}),n.d(t,"f",function(){return l}),n.d(t,"h",function(){return c}),n.d(t,"e",function(){return u}),t.c=r,t.b=o,t.d=i,t.a=a;var s=[],l=[],c=[],u=[]},"./node_modules/beaver-logger/client/config.js":function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o});var r={uri:"",prefix:"",initial_state_name:"init",flushInterval:6e5,debounceInterval:10,sizeLimit:300,silent:!1,heartbeat:!0,heartbeatConsoleLog:!0,heartbeatInterval:5e3,heartbeatTooBusy:!1,heartbeatTooBusyThreshold:1e4,logLevel:"warn",autoLog:["warn","error"],logUnload:!0,logPerformance:!0},o=["error","warn","info","debug"]},"./node_modules/beaver-logger/client/index.js":function(e,t,n){"use strict";var r=n("./node_modules/beaver-logger/client/interface.js");n.d(t,"a",function(){return r.config}),n.d(t,"b",function(){return r.error}),n.d(t,"c",function(){return r.flush}),n.d(t,"d",function(){return r.info}),n.d(t,"e",function(){return r.logLevels}),n.d(t,"f",function(){return r.warn})},"./node_modules/beaver-logger/client/init.js":function(e,t,n){"use strict";function r(e){Object(i.b)(o.a,e||{}),l||(l=!0,o.a.logPerformance&&Object(a.b)(),o.a.heartbeat&&Object(a.a)(),o.a.logUnload&&(window.addEventListener("beforeunload",function(){Object(s.g)("window_beforeunload"),Object(s.f)({fireAndForget:!0})}),window.addEventListener("unload",function(){Object(s.g)("window_unload"),Object(s.f)({fireAndForget:!0})})),o.a.flushInterval&&setInterval(s.d,o.a.flushInterval),window.beaverLogQueue&&(window.beaverLogQueue.forEach(function(e){Object(s.h)(e.level,e.event,e)}),delete window.beaverLogQueue))}t.a=r;var o=n("./node_modules/beaver-logger/client/config.js"),i=n("./node_modules/beaver-logger/client/util.js"),a=n("./node_modules/beaver-logger/client/performance.js"),s=n("./node_modules/beaver-logger/client/logger.js"),l=!1},"./node_modules/beaver-logger/client/interface.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/beaver-logger/client/logger.js");n.d(t,"track",function(){return r.l}),n.d(t,"buffer",function(){return r.a}),n.d(t,"tracking",function(){return r.m}),n.d(t,"getTransport",function(){return r.e}),n.d(t,"setTransport",function(){return r.k}),n.d(t,"print",function(){return r.j}),n.d(t,"immediateFlush",function(){return r.f}),n.d(t,"flush",function(){return r.d}),n.d(t,"log",function(){return r.h}),n.d(t,"prefix",function(){return r.i}),n.d(t,"debug",function(){return r.b}),n.d(t,"info",function(){return r.g}),n.d(t,"warn",function(){return r.n}),n.d(t,"error",function(){return r.c});var o=n("./node_modules/beaver-logger/client/init.js");n.d(t,"init",function(){return o.a});var i=n("./node_modules/beaver-logger/client/transitions.js");n.d(t,"startTransition",function(){return i.b}),n.d(t,"endTransition",function(){return i.a}),n.d(t,"transition",function(){return i.c});var a=n("./node_modules/beaver-logger/client/builders.js");n.d(t,"payloadBuilders",function(){return a.g}),n.d(t,"metaBuilders",function(){return a.f}),n.d(t,"trackingBuilders",function(){return a.h}),n.d(t,"headerBuilders",function(){return a.e}),n.d(t,"addPayloadBuilder",function(){return a.c}),n.d(t,"addMetaBuilder",function(){return a.b}),n.d(t,"addTrackingBuilder",function(){return a.d}),n.d(t,"addHeaderBuilder",function(){return a.a});var s=n("./node_modules/beaver-logger/client/config.js");n.d(t,"config",function(){return s.a}),n.d(t,"logLevels",function(){return s.b})},"./node_modules/beaver-logger/client/logger.js":function(e,t,n){"use strict";function r(){return x}function o(e){x=e}function i(e,t,n){if(!S)return setTimeout(function(){return i(e,t,n)},1);if(window.console&&window.console.log){var r=window.LOG_LEVEL||v.a.logLevel;if(!(v.b.indexOf(e)>v.b.indexOf(r))){n=n||{};var o=[t];Object(m.c)()&&(n=JSON.stringify(n)),o.push(n),(n.error||n.warning)&&o.push("\n\n",n.error||n.warning);try{window.console[e]&&window.console[e].apply?window.console[e].apply(window.console,o):window.console.log&&window.console.log.apply&&window.console.log.apply(window.console,o)}catch(a){}}}}function a(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).fireAndForget,t=void 0!==e&&e;if(v.a.uri){var n=b.length,r=w.length;if(n||r){var o={},i=g.f,a=Array.isArray(i),s=0;for(i=a?i:i[Symbol.iterator]();;){var l;if(a){if(s>=i.length)break;l=i[s++]}else{if((s=i.next()).done)break;l=s.value}var c=l;try{Object(m.b)(o,c(o),!1)}catch(C){console.error("Error in custom meta builder:",C.stack||C.toString())}}var u={},d=g.e,f=Array.isArray(d),p=0;for(d=f?d:d[Symbol.iterator]();;){var h;if(f){if(p>=d.length)break;h=d[p++]}else{if((p=d.next()).done)break;h=p.value}var y=h;try{Object(m.b)(u,y(u),!1)}catch(C){console.error("Error in custom header builder:",C.stack||C.toString())}}var S=x(u,{events:b,meta:o,tracking:w},{fireAndForget:t});return b=[],w=[],S}}}function s(e,t,n){b.push({level:e,event:t,payload:n}),v.a.autoLog.indexOf(e)>-1&&C()}function l(e,t,n){v.a.prefix&&(t=v.a.prefix+"_"+t),"string"==typeof(n=n||{})?n={message:n}:n instanceof Error&&(n={error:n.stack||n.toString()});try{JSON.stringify(n)}catch(u){return}n.timestamp=Date.now();var r=g.g,o=Array.isArray(r),a=0;for(r=o?r:r[Symbol.iterator]();;){var l;if(o){if(a>=r.length)break;l=r[a++]}else{if((a=r.next()).done)break;l=a.value}var c=l;try{Object(m.b)(n,c(n),!1)}catch(u){console.error("Error in custom payload builder:",u.stack||u.toString())}}v.a.silent||i(e,t,n),b.length===v.a.sizeLimit?s("info","logger_max_buffer_length"):b.length<v.a.sizeLimit&&s(e,t,n)}function c(e){return{debug:function(t,n){return l("debug",e+"_"+t,n)},info:function(t,n){return l("info",e+"_"+t,n)},warn:function(t,n){return l("warn",e+"_"+t,n)},error:function(t,n){return l("error",e+"_"+t,n)},track:function(e){return h(e)},flush:function(){return C()}}}function u(e,t){return l("debug",e,t)}function d(e,t){return l("info",e,t)}function f(e,t){return l("warn",e,t)}function p(e,t){return l("error",e,t)}function h(e){if(e){try{JSON.stringify(e)}catch(s){return}var t=g.h,n=Array.isArray(t),r=0;for(t=n?t:t[Symbol.iterator]();;){var o;if(n){if(r>=t.length)break;o=t[r++]}else{if((r=t.next()).done)break;o=r.value}var a=o;try{Object(m.b)(e,a(e),!1)}catch(s){console.error("Error in custom tracking builder:",s.stack||s.toString())}}i("debug","tracking",e),w.push(e)}}n.d(t,"l",function(){return h}),n.d(t,"a",function(){return b}),n.d(t,"m",function(){return w}),t.e=r,t.k=o,t.j=i,t.f=a,n.d(t,"d",function(){return C}),t.h=l,t.i=c,t.b=u,t.g=d,t.n=f,t.c=p;var m=n("./node_modules/beaver-logger/client/util.js"),g=n("./node_modules/beaver-logger/client/builders.js"),v=n("./node_modules/beaver-logger/client/config.js"),y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b=[],w=[];Function.prototype.bind&&window.console&&"object"===y(console.log)&&["log","info","warn","error"].forEach(function(e){console[e]=this.bind(console[e],console)},Function.prototype.call);var x=function(e,t,n){return Object(m.a)("post",v.a.uri,e,t,n)},S=!1;setTimeout(function(){S=!0},1);var C=Object(m.d)(a,v.a.debounceInterval)},"./node_modules/beaver-logger/client/performance.js":function(e,t,n){"use strict";function r(){return f?performance.now():Date.now()}function o(e){return{startTime:e=void 0!==e?e:r(),elapsed:function(){return parseInt(r()-e,10)},reset:function(){e=r()}}}function i(){if(f){var e=window.performance.timing;return parseInt(e.connectEnd-e.navigationStart,10)}}function a(){var e=o(),t=0;Object(d.e)(function(){if(!(l.a.heartbeatMaxThreshold&&t>l.a.heartbeatMaxThreshold)){t+=1;var n=e.elapsed(),r=n-l.a.heartbeatInterval,o={count:t,elapsed:n};l.a.heartbeatTooBusy&&(o.lag=r,r>=l.a.heartbeatTooBusyThreshold&&Object(c.g)("toobusy",o,{noConsole:!l.a.heartbeatConsoleLog})),Object(c.g)("heartbeat",o,{noConsole:!l.a.heartbeatConsoleLog})}},l.a.heartbeatInterval)}function s(){if(!f)return Object(c.g)("no_performance_data");Object(u.c)(function(){var e={};return e.client_elapsed=p.elapsed(),f&&(e.req_elapsed=h.elapsed()),e}),d.g.then(function(){var e={};["connectEnd","connectStart","domComplete","domContentLoadedEventEnd","domContentLoadedEventStart","domInteractive","domLoading","domainLookupEnd","domainLookupStart","fetchStart","loadEventEnd","loadEventStart","navigationStart","redirectEnd","redirectStart","requestStart","responseEnd","responseStart","secureConnectionStart","unloadEventEnd","unloadEventStart"].forEach(function(t){e[t]=parseInt(window.performance.timing[t],10)||0});var t=e.connectEnd-e.navigationStart;e.connectEnd&&Object.keys(e).forEach(function(n){var r=e[n];r&&Object(c.g)("timing_"+n,{client_elapsed:parseInt(r-e.connectEnd-(p.startTime-t),10),req_elapsed:parseInt(r-e.connectEnd,10)})}),Object(c.g)("timing",e),Object(c.g)("memory",window.performance.memory),Object(c.g)("navigation",window.performance.navigation),window.performance.getEntries&&window.performance.getEntries().forEach(function(e){["link","script","img","css"].indexOf(e.initiatorType)>-1&&Object(c.g)(e.initiatorType,e)})})}t.c=r,t.d=i,t.a=a,t.b=s;var l=n("./node_modules/beaver-logger/client/config.js"),c=n("./node_modules/beaver-logger/client/logger.js"),u=n("./node_modules/beaver-logger/client/builders.js"),d=n("./node_modules/beaver-logger/client/util.js"),f=window&&window.performance&&performance.now&&performance.timing&&performance.timing.connectEnd&&performance.timing.navigationStart&&Math.abs(performance.now()-Date.now())>1e3&&performance.now()-(performance.timing.connectEnd-performance.timing.navigationStart)>0,p=o(),h=o(i())},"./node_modules/beaver-logger/client/transitions.js":function(e,t,n){"use strict";function r(){h=Object(a.c)()}function o(e){h=h||Object(a.d)();var t=Object(a.c)(),n=void 0;void 0!==h&&(n=parseInt(t-h,0));var r="transition_"+p+"_to_"+e;Object(s.g)(r,{duration:n}),Object(s.l)({transition:r,transition_time:n}),Object(s.f)(),h=t,p=e,f=Object(c.f)()}function i(e){r(),o(e)}t.b=r,t.a=o,t.c=i;var a=n("./node_modules/beaver-logger/client/performance.js"),s=n("./node_modules/beaver-logger/client/logger.js"),l=n("./node_modules/beaver-logger/client/builders.js"),c=n("./node_modules/beaver-logger/client/util.js"),u=n("./node_modules/beaver-logger/client/config.js"),d=Object(c.f)(),f=Object(c.f)(),p=u.a.initial_state_name,h=void 0;Object(l.c)(function(){return{windowID:d,pageID:f}}),Object(l.b)(function(){return{state:"ui_"+p}})},"./node_modules/beaver-logger/client/util.js":function(e,t,n){"use strict";function r(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];for(var r in e=e||{},t=t||{})t.hasOwnProperty(r)&&(!n&&e.hasOwnProperty(r)||(e[r]=t[r]));return e}function o(e){return window.location.protocol===e.split("/")[0]}function i(e){var t=e.match(/https?:\/\/[^\/]+/);return!t||t[0]===window.location.protocol+"//"+window.location.host}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(arguments.length>4&&void 0!==arguments[4]?arguments[4]:{}).fireAndForget,s=void 0!==a&&a;return new d.a(function(a){var l=window.XMLHttpRequest||window.ActiveXObject;if(window.XDomainRequest&&!i(t)){if(!o(t))return a();l=window.XDomainRequest}var c=new l("MSXML2.XMLHTTP.3.0");if(c.open(e.toUpperCase(),t,!0),"function"==typeof c.setRequestHeader)for(var u in c.setRequestHeader("X-Requested-With","XMLHttpRequest"),c.setRequestHeader("Content-type","application/json"),n)n.hasOwnProperty(u)&&c.setRequestHeader(u,n[u]);s?a():c.onreadystatechange=function(){c.readyState>3&&a()},c.send(JSON.stringify(r).replace(/&/g,"%26"))})}function s(e,t){var n={};return function(){var r=arguments;return n.timeout&&(clearTimeout(n.timeout),delete n.timeout),n.timeout=setTimeout(function(){var t=n.resolver,o=n.rejector;return delete n.promise,delete n.resolver,delete n.rejector,delete n.timeout,d.a.resolve().then(function(){return e.apply(null,r)}).then(t,o)},t),n.promise=n.promise||new d.a(function(e,t){n.resolver=e,n.rejector=t}),n.promise}}function l(e,t){function n(){r=setTimeout(function(){e(),n()},t)}var r=void 0;return n(),{cancel:function(){clearTimeout(r)}}}function c(){var e="0123456789abcdef";return"xxxxxxxxxx".replace(/./g,function(){return e.charAt(Math.floor(Math.random()*e.length))})}function u(){return Boolean(window.document.documentMode)}t.b=r,t.a=a,t.d=s,n.d(t,"g",function(){return f}),t.e=l,t.f=c,t.c=u;var d=n("./node_modules/zalgo-promise/src/index.js"),f=new d.a(function(e){"undefined"!=typeof document&&"complete"===document.readyState&&e(),window.addEventListener&&window.addEventListener("load",e)})},"./node_modules/cross-domain-safe-weakmap/src/index.js":function(e,t,n){"use strict";var r=n("./node_modules/cross-domain-safe-weakmap/src/interface.js");n.d(t,"a",function(){return r.WeakMap})},"./node_modules/cross-domain-safe-weakmap/src/interface.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/cross-domain-safe-weakmap/src/weakmap.js");n.d(t,"WeakMap",function(){return r.a})},"./node_modules/cross-domain-safe-weakmap/src/native.js":function(e,t){"use strict";function n(){if(!window.WeakMap)return!1;if(!window.Object.freeze)return!1;try{var e=new window.WeakMap,t={};return window.Object.freeze(t),e.set(t,"__testvalue__"),"__testvalue__"===e.get(t)}catch(n){return!1}}t.a=n},"./node_modules/cross-domain-safe-weakmap/src/util.js":function(e,t){"use strict";function n(e,t){for(var n=0;n<e.length;n++)try{if(e[n]===t)return n}catch(r){}return-1}function r(){}t.b=n,t.a=r},"./node_modules/cross-domain-safe-weakmap/src/weakmap.js":function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return c});var o=n("./node_modules/cross-domain-utils/src/index.js"),i=n("./node_modules/cross-domain-safe-weakmap/src/native.js"),a=n("./node_modules/cross-domain-safe-weakmap/src/util.js"),s=Object.defineProperty,l=Date.now()%1e9,c=function(){function e(){if(r(this,e),l+=1,this.name="__weakmap_"+(1e9*Math.random()>>>0)+"__"+l,Object(i.a)())try{this.weakmap=new window.WeakMap}catch(t){}this.keys=[],this.values=[]}return e.prototype._cleanupClosedWindows=function(){for(var e=this.weakmap,t=this.keys,n=0;n<t.length;n++){var r=t[n];if(Object(o.isWindow)(r)&&Object(o.isWindowClosed)(r)){if(e)try{e["delete"](r)}catch(i){}t.splice(n,1),this.values.splice(n,1),n-=1}}},e.prototype.isSafeToReadWrite=function(e){if(Object(o.isWindow)(e))return!1;try{Object(a.a)(e&&e.self),Object(a.a)(e&&e[this.name])}catch(t){return!1}return!0},e.prototype.set=function(e,t){if(!e)throw new Error("WeakMap expected key");var n=this.weakmap;if(n)try{n.set(e,t)}catch(u){delete this.weakmap}if(this.isSafeToReadWrite(e)){var r=this.name,o=e[r];o&&o[0]===e?o[1]=t:s(e,r,{value:[e,t],writable:!0})}else{this._cleanupClosedWindows();var i=this.keys,l=this.values,c=Object(a.b)(i,e);-1===c?(i.push(e),l.push(t)):l[c]=t}},e.prototype.get=function(e){if(!e)throw new Error("WeakMap expected key");var t=this.weakmap;if(t)try{if(t.has(e))return t.get(e)}catch(i){delete this.weakmap}if(!this.isSafeToReadWrite(e)){this._cleanupClosedWindows();var n=this.keys,r=Object(a.b)(n,e);if(-1===r)return;return this.values[r]}var o=e[this.name];if(o&&o[0]===e)return o[1]},e.prototype["delete"]=function(e){if(!e)throw new Error("WeakMap expected key");var t=this.weakmap;if(t)try{t["delete"](e)}catch(i){delete this.weakmap}if(this.isSafeToReadWrite(e)){var n=e[this.name];n&&n[0]===e&&(n[0]=n[1]=void 0)}else{this._cleanupClosedWindows();var r=this.keys,o=Object(a.b)(r,e);-1!==o&&(r.splice(o,1),this.values.splice(o,1))}},e.prototype.has=function(e){if(!e)throw new Error("WeakMap expected key");var t=this.weakmap;if(t)try{return t.has(e)}catch(r){delete this.weakmap}if(this.isSafeToReadWrite(e)){var n=e[this.name];return!(!n||n[0]!==e)}return this._cleanupClosedWindows(),-1!==Object(a.b)(this.keys,e)},e}()},"./node_modules/cross-domain-utils/src/index.js":function(e,t,n){"use strict";var r=n("./node_modules/cross-domain-utils/src/utils.js");n.d(t,"findFrameByName",function(){return r.a}),n.d(t,"getActualDomain",function(){return r.b}),n.d(t,"getAllFramesInWindow",function(){return r.c}),n.d(t,"getAncestor",function(){return r.d}),n.d(t,"getDistanceFromTop",function(){return r.e}),n.d(t,"getDomain",function(){return r.f}),n.d(t,"getDomainFromUrl",function(){return r.g}),n.d(t,"getFrameByName",function(){return r.h}),n.d(t,"getFrames",function(){return r.i}),n.d(t,"getNthParentFromTop",function(){return r.j}),n.d(t,"getOpener",function(){return r.k}),n.d(t,"getParent",function(){return r.l}),n.d(t,"getTop",function(){return r.m}),n.d(t,"getUserAgent",function(){return r.n}),n.d(t,"isActuallySameDomain",function(){return r.o}),n.d(t,"isAncestor",function(){return r.p}),n.d(t,"isIframe",function(){return r.q}),n.d(t,"isOpener",function(){return r.r}),n.d(t,"isPopup",function(){return r.s}),n.d(t,"isSameDomain",function(){return r.t}),n.d(t,"isSameTopWindow",function(){return r.u}),n.d(t,"isTop",function(){return r.v}),n.d(t,"isWindow",function(){return r.w}),n.d(t,"isWindowClosed",function(){return r.x}),n.d(t,"linkFrameWindow",function(){return r.y}),n.d(t,"matchDomain",function(){return r.z}),n.d(t,"onCloseWindow",function(){return r.A}),n.d(t,"stringifyDomainPattern",function(){return r.B});var o=n("./node_modules/cross-domain-utils/src/types.js");n.n(o)},"./node_modules/cross-domain-utils/src/types.js":function(){},"./node_modules/cross-domain-utils/src/util.js":function(e,t){"use strict";function n(e){return"[object RegExp]"===Object.prototype.toString.call(e)}function r(){}t.a=n,t.b=r},"./node_modules/cross-domain-utils/src/utils.js":function(e,t,n){"use strict";function r(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:window).location.protocol===q.ABOUT_PROTOCOL}function o(e){if(e)try{if(e.parent&&e.parent!==e)return e.parent}catch(t){}}function i(e){if(e&&!o(e))try{return e.opener}catch(t){}}function a(e){try{return Object(z.b)(e&&e.location&&e.location.href),!0}catch(t){}return!1}function s(e){var t=e.location;if(!t)throw new Error("Can not read window location");var n=t.protocol;if(!n)throw new Error("Can not read window protocol");if(n===q.FILE_PROTOCOL)return q.FILE_PROTOCOL+"//";if(n===q.ABOUT_PROTOCOL){var r=o(e);return r&&a(e)?s(r):q.ABOUT_PROTOCOL+"//"}var i=t.host;if(!i)throw new Error("Can not read window host");return n+"//"+i}function l(e){var t=s(e=e||window);return t&&e.mockDomain&&0===e.mockDomain.indexOf(q.MOCK_PROTOCOL)?e.mockDomain:t}function c(e){try{if(e===window)return!0}catch(n){}try{var t=Object.getOwnPropertyDescriptor(e,"location")
;if(t&&!1===t.enumerable)return!1}catch(n){}try{if(r(e)&&a(e))return!0}catch(n){}try{if(s(e)===s(window))return!0}catch(n){}return!1}function u(e){if(!c(e))return!1;try{if(e===window)return!0;if(r(e)&&a(e))return!0;if(l(window)===l(e))return!0}catch(t){}return!1}function d(e){var t=[];try{for(;e.parent!==e;)t.push(e.parent),e=e.parent}catch(n){}return t}function f(e,t){if(!e||!t)return!1;var n=o(t);return n?n===e:-1!==d(t).indexOf(e)}function p(e){var t=[],n=void 0;try{n=e.frames}catch(l){n=e}var r=void 0;try{r=n.length}catch(l){}if(0===r)return t;if(r){for(var o=0;o<r;o++){var i=void 0;try{i=n[o]}catch(l){continue}t.push(i)}return t}for(var a=0;a<100;a++){var s=void 0;try{s=n[a]}catch(l){return t}if(!s)return t;t.push(s)}return t}function h(e){var t=[],n=p(e),r=Array.isArray(n),o=0;for(n=r?n:n[Symbol.iterator]();;){var i;if(r){if(o>=n.length)break;i=n[o++]}else{if((o=n.next()).done)break;i=o.value}var a=i;t.push(a);var s=h(a),l=Array.isArray(s),c=0;for(s=l?s:s[Symbol.iterator]();;){var u;if(l){if(c>=s.length)break;u=s[c++]}else{if((c=s.next()).done)break;u=c.value}var d=u;t.push(d)}}return t}function m(e){if(e){try{if(e.top)return e.top}catch(s){}if(o(e)===e)return e;try{if(f(window,e)&&window.top)return window.top}catch(s){}try{if(f(e,window)&&window.top)return window.top}catch(s){}var t=h(e),n=Array.isArray(t),r=0;for(t=n?t:t[Symbol.iterator]();;){var i;if(n){if(r>=t.length)break;i=t[r++]}else{if((r=t.next()).done)break;i=r.value}var a=i;try{if(a.top)return a.top}catch(s){}if(o(a)===a)return a}}}function g(e){var t=m(e);return h(t).concat(t)}function v(e){return e===m(e)}function y(e){if(!e.contentWindow)return!0;if(!e.parentNode)return!0;var t=e.ownerDocument;return!(!t||!t.body||t.body.contains(e))}function b(e,t){for(var n=0;n<e.length;n++)try{if(e[n]===t)return n}catch(r){}return-1}function w(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];try{if(e===window)return!1}catch(o){return!0}try{if(!e)return!0}catch(o){return!0}try{if(e.closed)return!0}catch(o){return!o||o.message!==U}if(t&&u(e))try{if(e.mockclosed)return!0}catch(o){}try{if(!e.parent||!e.top)return!0}catch(o){}try{Object(z.b)(e==e)}catch(o){return!0}var n=b(G,e);if(-1!==n){var r=$[n];if(r&&y(r))return!0}return!1}function x(){for(var e=0;e<$.length;e++)y($[e])&&($.splice(e,1),G.splice(e,1));for(var t=0;t<G.length;t++)w(G[t])&&($.splice(t,1),G.splice(t,1))}function S(e){if(x(),e&&e.contentWindow)try{G.push(e.contentWindow),$.push(e)}catch(t){}}function C(e){return(e=e||window).navigator.mockUserAgent||e.navigator.userAgent}function E(e,t){var n=p(e),r=n,o=Array.isArray(r),i=0;for(r=o?r:r[Symbol.iterator]();;){var a;if(o){if(i>=r.length)break;a=r[i++]}else{if((i=r.next()).done)break;a=i.value}var s=a;try{if(u(s)&&s.name===t&&-1!==n.indexOf(s))return s}catch(l){}}try{if(-1!==n.indexOf(e.frames[t]))return e.frames[t]}catch(l){}try{if(-1!==n.indexOf(e[t]))return e[t]}catch(l){}}function T(e,t){var n=E(e,t);if(n)return n;var r=p(e),o=Array.isArray(r),i=0;for(r=o?r:r[Symbol.iterator]();;){var a;if(o){if(i>=r.length)break;a=r[i++]}else{if((i=r.next()).done)break;a=i.value}var s=T(a,t);if(s)return s}}function k(e,t){return E(e,t)||T(m(e)||e,t)}function j(e,t){return e===i(t)}function L(e){var t=i(e=e||window);return t||(o(e)||void 0)}function O(e,t){var n=L(t);if(n)return n===e;if(t===e)return!1;if(m(t)===t)return!1;var r=p(e),o=Array.isArray(r),i=0;for(r=o?r:r[Symbol.iterator]();;){var a;if(o){if(i>=r.length)break;a=r[i++]}else{if((i=r.next()).done)break;a=i.value}if(a===t)return!0}return!1}function _(){return Boolean(i(window))}function A(){return Boolean(o(window))}function N(e,t){var n=e,r=Array.isArray(n),o=0;for(n=r?n:n[Symbol.iterator]();;){var i;if(r){if(o>=n.length)break;i=n[o++]}else{if((o=n.next()).done)break;i=o.value}var a=i,s=t,l=Array.isArray(s),c=0;for(s=l?s:s[Symbol.iterator]();;){var u;if(l){if(c>=s.length)break;u=s[c++]}else{if((c=s.next()).done)break;u=c.value}if(a===u)return!0}}return!1}function M(){for(var e=0,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;t;)(t=o(t))&&(e+=1);return e}function P(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=e,r=0;r<t;r++){if(!n)return;n=o(n)}return n}function I(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return P(e,M(e)-t)}function D(e,t){var n=m(e)||e,r=m(t)||t;try{if(n&&r)return n===r}catch(c){}var o=g(e),a=g(t);if(N(o,a))return!0;var s=i(n),l=i(r);return!(s&&N(g(s),a)||(l&&N(g(l),o),1))}function R(e,t){if("string"==typeof e){if("string"==typeof t)return e===q.WILDCARD||t===e;if(Object(z.a)(t))return!1;if(Array.isArray(t))return!1}return Object(z.a)(e)?Object(z.a)(t)?e.toString()===t.toString():!Array.isArray(t)&&Boolean(t.match(e)):!!Array.isArray(e)&&(Array.isArray(t)?JSON.stringify(e)===JSON.stringify(t):!Object(z.a)(t)&&e.some(function(e){return R(e,t)}))}function W(e){return Array.isArray(e)?"("+e.join(" | ")+")":Object(z.a)(e)?"RegExp("+e.toString():e.toString()}function H(e){return e.match(/^(https?|mock|file):\/\//)?e.split("/").slice(0,3).join("/"):l()}function B(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,o=void 0;return function i(){if(w(e))return o&&clearTimeout(o),t();r<=0?clearTimeout(o):(r-=n,o=setTimeout(i,n))}(),{cancel:function(){o&&clearTimeout(o)}}}function F(e){try{if(e===window)return!0}catch(t){if(t&&t.message===U)return!0}try{if("[object Window]"===Object.prototype.toString.call(e))return!0}catch(t){if(t&&t.message===U)return!0}try{if(window.Window&&e instanceof window.Window)return!0}catch(t){if(t&&t.message===U)return!0}try{if(e&&e.self===e)return!0}catch(t){if(t&&t.message===U)return!0}try{if(e&&e.parent===e)return!0}catch(t){if(t&&t.message===U)return!0}try{if(e&&e.top===e)return!0}catch(t){if(t&&t.message===U)return!0}try{Object(z.b)(e==e)}catch(t){return!0}try{Object(z.b)(e&&e.__cross_domain_utils_window_check__)}catch(t){return!0}return!1}t.l=o,t.k=i,t.b=s,t.f=l,t.o=c,t.t=u,t.i=p,t.m=m,t.c=g,t.v=v,t.x=w,t.y=S,t.n=C,t.h=E,t.a=k,t.r=j,t.d=L,t.p=O,t.s=_,t.q=A,t.e=M,t.j=I,t.u=D,t.z=R,t.B=W,t.g=H,t.A=B,t.w=F;var z=n("./node_modules/cross-domain-utils/src/util.js"),q={MOCK_PROTOCOL:"mock:",FILE_PROTOCOL:"file:",ABOUT_PROTOCOL:"about:",WILDCARD:"*"},U="Call was rejected by callee.\r\n",G=[],$=[]},"./node_modules/hi-base32/src/base32.js":function(e,t,n){(function(e,t,r){var o,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};
/*
 * [hi-base32]{@link https://github.com/emn178/hi-base32}
 *
 * @version 0.5.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */!function(){"use strict";var a="object"===("undefined"==typeof window?"undefined":i(window))?window:{};!a.HI_BASE32_NO_NODE_JS&&"object"===(void 0===e?"undefined":i(e))&&e.versions&&e.versions.node&&(a=t);var s=!a.HI_BASE32_NO_COMMON_JS&&"object"===i(r)&&r.exports,l=n("./node_modules/webpack/buildin/amd-options.js"),c="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567".split(""),u={A:0,B:1,C:2,D:3,E:4,F:5,G:6,H:7,I:8,J:9,K:10,L:11,M:12,N:13,O:14,P:15,Q:16,R:17,S:18,T:19,U:20,V:21,W:22,X:23,Y:24,Z:25,2:26,3:27,4:28,5:29,6:30,7:31},d=[0,0,0,0,0,0,0,0],f=function(e,t){t.length>10&&(t="..."+t.substr(-10));var n=new Error("Decoded data is not valid UTF-8. Maybe try base32.decode.asBytes()? Partial data after reading "+e+" bytes: "+t+" <-");throw n.position=e,n},p=function(e){for(var t,n,r="",o=e.length,i=0,a=0;i<o;)if((t=e[i++])<=127)r+=String.fromCharCode(t);else{t>191&&t<=223?(n=31&t,a=1):t<=239?(n=15&t,a=2):t<=247?(n=7&t,a=3):f(i,r);for(var s=0;s<a;++s)((t=e[i++])<128||t>191)&&f(i,r),n<<=6,n+=63&t;n>=55296&&n<=57343&&f(i,r),n>1114111&&f(i,r),n<=65535?r+=String.fromCharCode(n):(n-=65536,r+=String.fromCharCode(55296+(n>>10)),r+=String.fromCharCode(56320+(1023&n)))}return r},h=function(e){if(!/^[A-Z2-7=]+$/.test(e))throw new Error("Invalid base32 characters");for(var t,n,r,o,i,a,s,l,c=[],d=0,f=(e=e.replace(/=/g,"")).length,p=0,h=f>>3<<3;p<h;)t=u[e.charAt(p++)],n=u[e.charAt(p++)],r=u[e.charAt(p++)],o=u[e.charAt(p++)],i=u[e.charAt(p++)],a=u[e.charAt(p++)],s=u[e.charAt(p++)],l=u[e.charAt(p++)],c[d++]=255&(t<<3|n>>>2),c[d++]=255&(n<<6|r<<1|o>>>4),c[d++]=255&(o<<4|i>>>1),c[d++]=255&(i<<7|a<<2|s>>>3),c[d++]=255&(s<<5|l);var m=f-h;return 2===m?(t=u[e.charAt(p++)],n=u[e.charAt(p++)],c[d++]=255&(t<<3|n>>>2)):4===m?(t=u[e.charAt(p++)],n=u[e.charAt(p++)],r=u[e.charAt(p++)],o=u[e.charAt(p++)],c[d++]=255&(t<<3|n>>>2),c[d++]=255&(n<<6|r<<1|o>>>4)):5===m?(t=u[e.charAt(p++)],n=u[e.charAt(p++)],r=u[e.charAt(p++)],o=u[e.charAt(p++)],i=u[e.charAt(p++)],c[d++]=255&(t<<3|n>>>2),c[d++]=255&(n<<6|r<<1|o>>>4),c[d++]=255&(o<<4|i>>>1)):7===m&&(t=u[e.charAt(p++)],n=u[e.charAt(p++)],r=u[e.charAt(p++)],o=u[e.charAt(p++)],i=u[e.charAt(p++)],a=u[e.charAt(p++)],s=u[e.charAt(p++)],c[d++]=255&(t<<3|n>>>2),c[d++]=255&(n<<6|r<<1|o>>>4),c[d++]=255&(o<<4|i>>>1),c[d++]=255&(i<<7|a<<2|s>>>3)),c},m=function(e){for(var t,n,r,o,i,a="",s=e.length,l=0,u=5*parseInt(s/5);l<u;)t=e.charCodeAt(l++),n=e.charCodeAt(l++),r=e.charCodeAt(l++),o=e.charCodeAt(l++),i=e.charCodeAt(l++),a+=c[t>>>3]+c[31&(t<<2|n>>>6)]+c[n>>>1&31]+c[31&(n<<4|r>>>4)]+c[31&(r<<1|o>>>7)]+c[o>>>2&31]+c[31&(o<<3|i>>>5)]+c[31&i];var d=s-u;return 1===d?(t=e.charCodeAt(l),a+=c[t>>>3]+c[t<<2&31]+"======"):2===d?(t=e.charCodeAt(l++),n=e.charCodeAt(l),a+=c[t>>>3]+c[31&(t<<2|n>>>6)]+c[n>>>1&31]+c[n<<4&31]+"===="):3===d?(t=e.charCodeAt(l++),n=e.charCodeAt(l++),r=e.charCodeAt(l),a+=c[t>>>3]+c[31&(t<<2|n>>>6)]+c[n>>>1&31]+c[31&(n<<4|r>>>4)]+c[r<<1&31]+"==="):4===d&&(t=e.charCodeAt(l++),n=e.charCodeAt(l++),r=e.charCodeAt(l++),o=e.charCodeAt(l),a+=c[t>>>3]+c[31&(t<<2|n>>>6)]+c[n>>>1&31]+c[31&(n<<4|r>>>4)]+c[31&(r<<1|o>>>7)]+c[o>>>2&31]+c[o<<3&31]+"="),a},g=function(e){var t,n,r,o,i,a,s,l=!1,u="",f=0,p=0,h=e.length;do{for(d[0]=d[5],d[1]=d[6],d[2]=d[7],s=p;f<h&&s<5;++f)(a=e.charCodeAt(f))<128?d[s++]=a:a<2048?(d[s++]=192|a>>6,d[s++]=128|63&a):a<55296||a>=57344?(d[s++]=224|a>>12,d[s++]=128|a>>6&63,d[s++]=128|63&a):(a=65536+((1023&a)<<10|1023&e.charCodeAt(++f)),d[s++]=240|a>>18,d[s++]=128|a>>12&63,d[s++]=128|a>>6&63,d[s++]=128|63&a);s-p,p=s-5,f===h&&++f,f>h&&s<6&&(l=!0),t=d[0],s>4?(n=d[1],r=d[2],o=d[3],i=d[4],u+=c[t>>>3]+c[31&(t<<2|n>>>6)]+c[n>>>1&31]+c[31&(n<<4|r>>>4)]+c[31&(r<<1|o>>>7)]+c[o>>>2&31]+c[31&(o<<3|i>>>5)]+c[31&i]):1===s?u+=c[t>>>3]+c[t<<2&31]+"======":2===s?(n=d[1],u+=c[t>>>3]+c[31&(t<<2|n>>>6)]+c[n>>>1&31]+c[n<<4&31]+"===="):3===s?(n=d[1],r=d[2],u+=c[t>>>3]+c[31&(t<<2|n>>>6)]+c[n>>>1&31]+c[31&(n<<4|r>>>4)]+c[r<<1&31]+"==="):(n=d[1],r=d[2],o=d[3],u+=c[t>>>3]+c[31&(t<<2|n>>>6)]+c[n>>>1&31]+c[31&(n<<4|r>>>4)]+c[31&(r<<1|o>>>7)]+c[o>>>2&31]+c[o<<3&31]+"=")}while(!l);return u},v=function(e){for(var t,n,r,o,i,a="",s=e.length,l=0,u=5*parseInt(s/5);l<u;)t=e[l++],n=e[l++],r=e[l++],o=e[l++],i=e[l++],a+=c[t>>>3]+c[31&(t<<2|n>>>6)]+c[n>>>1&31]+c[31&(n<<4|r>>>4)]+c[31&(r<<1|o>>>7)]+c[o>>>2&31]+c[31&(o<<3|i>>>5)]+c[31&i];var d=s-u;return 1===d?(t=e[l],a+=c[t>>>3]+c[t<<2&31]+"======"):2===d?(t=e[l++],n=e[l],a+=c[t>>>3]+c[31&(t<<2|n>>>6)]+c[n>>>1&31]+c[n<<4&31]+"===="):3===d?(t=e[l++],n=e[l++],r=e[l],a+=c[t>>>3]+c[31&(t<<2|n>>>6)]+c[n>>>1&31]+c[31&(n<<4|r>>>4)]+c[r<<1&31]+"==="):4===d&&(t=e[l++],n=e[l++],r=e[l++],o=e[l],a+=c[t>>>3]+c[31&(t<<2|n>>>6)]+c[n>>>1&31]+c[31&(n<<4|r>>>4)]+c[31&(r<<1|o>>>7)]+c[o>>>2&31]+c[o<<3&31]+"="),a},y=function(e,t){if(!t)return p(h(e));if(!/^[A-Z2-7=]+$/.test(e))throw new Error("Invalid base32 characters");var n,r,o,i,a,s,l,c,d="",f=e.indexOf("=");-1===f&&(f=e.length);for(var m=0,g=f>>3<<3;m<g;)n=u[e.charAt(m++)],r=u[e.charAt(m++)],o=u[e.charAt(m++)],i=u[e.charAt(m++)],a=u[e.charAt(m++)],s=u[e.charAt(m++)],l=u[e.charAt(m++)],c=u[e.charAt(m++)],d+=String.fromCharCode(255&(n<<3|r>>>2))+String.fromCharCode(255&(r<<6|o<<1|i>>>4))+String.fromCharCode(255&(i<<4|a>>>1))+String.fromCharCode(255&(a<<7|s<<2|l>>>3))+String.fromCharCode(255&(l<<5|c));var v=f-g;return 2===v?(n=u[e.charAt(m++)],r=u[e.charAt(m++)],d+=String.fromCharCode(255&(n<<3|r>>>2))):4===v?(n=u[e.charAt(m++)],r=u[e.charAt(m++)],o=u[e.charAt(m++)],i=u[e.charAt(m++)],d+=String.fromCharCode(255&(n<<3|r>>>2))+String.fromCharCode(255&(r<<6|o<<1|i>>>4))):5===v?(n=u[e.charAt(m++)],r=u[e.charAt(m++)],o=u[e.charAt(m++)],i=u[e.charAt(m++)],a=u[e.charAt(m++)],d+=String.fromCharCode(255&(n<<3|r>>>2))+String.fromCharCode(255&(r<<6|o<<1|i>>>4))+String.fromCharCode(255&(i<<4|a>>>1))):7===v&&(n=u[e.charAt(m++)],r=u[e.charAt(m++)],o=u[e.charAt(m++)],i=u[e.charAt(m++)],a=u[e.charAt(m++)],s=u[e.charAt(m++)],l=u[e.charAt(m++)],d+=String.fromCharCode(255&(n<<3|r>>>2))+String.fromCharCode(255&(r<<6|o<<1|i>>>4))+String.fromCharCode(255&(i<<4|a>>>1))+String.fromCharCode(255&(a<<7|s<<2|l>>>3))),d},b={encode:function(e,t){var n="string"!=typeof e;return n&&e.constructor===ArrayBuffer&&(e=new Uint8Array(e)),n?v(e):t?m(e):g(e)},decode:y};y.asBytes=h,s?r.exports=b:(a.base32=b,l&&void 0!==(o=function(){return b}.call(b,n,b,r))&&(r.exports=o))}()}).call(t,n("./node_modules/process/browser.js"),n("./node_modules/webpack/buildin/global.js"),n("./node_modules/webpack/buildin/module.js")(e))},"./node_modules/post-robot/src/bridge/bridge.js":function(e,t,n){"use strict";function r(e){try{u.a.tunnelWindows[e]&&delete u.a.tunnelWindows[e].source}catch(t){}delete u.a.tunnelWindows[e]}function o(){var e=u.a.tunnelWindows,t=Object.keys(e),n=Array.isArray(t),o=0;for(t=n?t:t[Symbol.iterator]();;){var i;if(n){if(o>=t.length)break;i=t[o++]}else{if((o=t.next()).done)break;i=o.value}var a=i,l=e[a];try{Object(c.j)(l.source)}catch(d){r(a);continue}Object(s.isWindowClosed)(l.source)&&r(a)}}function i(e){var t=e.name,n=e.source,r=e.canary,i=e.sendMessage;return o(),u.a.tunnelWindowId+=1,u.a.tunnelWindows[u.a.tunnelWindowId]={name:t,source:n,canary:r,sendMessage:i},u.a.tunnelWindowId}function a(e){return u.a.tunnelWindows[e]}var s=(n("./node_modules/zalgo-promise/src/index.js"),n("./node_modules/cross-domain-utils/src/index.js")),l=n("./node_modules/post-robot/src/conf/index.js"),c=n("./node_modules/post-robot/src/lib/index.js"),u=n("./node_modules/post-robot/src/global.js");u.a.tunnelWindows=u.a.tunnelWindows||{},u.a.tunnelWindowId=0,u.a.openTunnelToParent=function(e){var t=e.name,n=e.source,o=e.canary,d=e.sendMessage,f=Object(s.getParent)(window);if(!f)throw new Error("No parent window found to open tunnel to");var p=i({name:t,source:n,canary:o,sendMessage:d});return u.a.send(f,l.b.POST_MESSAGE_NAMES.OPEN_TUNNEL,{name:t,sendMessage:function(){var e=a(p);try{Object(c.j)(e&&e.source)}catch(t){return void r(p)}if(e&&e.source&&!Object(s.isWindowClosed)(e.source)){try{e.canary()}catch(t){return}e.sendMessage.apply(this,arguments)}}},{domain:l.b.WILDCARD})}},"./node_modules/post-robot/src/bridge/child.js":function(e,t,n){"use strict";function r(){return o.a["try"](function(){var e=Object(i.getOpener)(window);if(e&&Object(c.e)({win:e}))return Object(c.j)(e),u(e).then(function(t){return t?window.name?t[a.b.WINDOW_PROPS.POSTROBOT].openTunnelToParent({name:window.name,source:window,canary:function(){},sendMessage:function(e){try{Object(s.j)(window)}catch(t){return}if(window&&!window.closed)try{l.a.receiveMessage({data:e,origin:this.origin,source:this.source})}catch(t){o.a.reject(t)}}}).then(function(t){var n=t.source,r=t.origin,o=t.data;if(n!==e)throw new Error("Source does not match opener");Object(c.i)(n,r,o.sendMessage)})["catch"](function(t){throw Object(c.k)(e,t),t}):Object(c.k)(e,new Error("Can not register with opener: window does not have a name")):Object(c.k)(e,new Error("Can not register with opener: no bridge found in opener"))})})}t.a=r;var o=n("./node_modules/zalgo-promise/src/index.js"),i=n("./node_modules/cross-domain-utils/src/index.js"),a=n("./node_modules/post-robot/src/conf/index.js"),s=n("./node_modules/post-robot/src/lib/index.js"),l=n("./node_modules/post-robot/src/global.js"),c=n("./node_modules/post-robot/src/bridge/common.js"),u=Object(s.r)(function(e){return o.a["try"](function(){var t=Object(i.getFrames)(e),n=Array.isArray(t),r=0;for(t=n?t:t[Symbol.iterator]();;){var s;if(n){if(r>=t.length)break;s=t[r++]}else{if((r=t.next()).done)break;s=r.value}var l=s;try{if(l&&l!==window&&Object(i.isSameDomain)(l)&&l[a.b.WINDOW_PROPS.POSTROBOT])return l}catch(d){continue}}try{var u=Object(i.getFrameByName)(e,Object(c.c)(Object(i.getDomain)()));if(!u)return;return Object(i.isSameDomain)(u)&&u[a.b.WINDOW_PROPS.POSTROBOT]?u:new o.a(function(e){var t=void 0,n=void 0;t=setInterval(function(){if(u&&Object(i.isSameDomain)(u)&&u[a.b.WINDOW_PROPS.POSTROBOT])return clearInterval(t),clearTimeout(n),e(u)},100),n=setTimeout(function(){return clearInterval(t),e()},2e3)})}catch(d){}})})},"./node_modules/post-robot/src/bridge/common.js":function(e,t,n){"use strict";function r(){return!!Object(g.getUserAgent)(window).match(/MSIE|trident|edge\/12|edge\/13/i)||!v.a.ALLOW_POSTMESSAGE_POPUP}function o(e){return!Object(g.isSameTopWindow)(window,e)}function i(e,t){if(e){if(Object(g.getDomain)()!==Object(g.getDomainFromUrl)(e))return!0}else if(t&&!Object(g.isSameDomain)(t))return!0;return!1}function a(e){var t=e.win,n=e.domain;return!(!r()||n&&!i(n,t)||t&&!o(t))}function s(e){var t=(e=e||Object(g.getDomainFromUrl)(e)).replace(/[^a-zA-Z0-9]+/g,"_");return v.b.BRIDGE_NAME_PREFIX+"_"+t}function l(){return Boolean(window.name&&window.name===s(Object(g.getDomain)()))}function c(e){y.a.remoteWindows.set(e,{sendMessagePromise:new m.a})}function u(e){return y.a.remoteWindows.get(e)}function d(e,t,n){var r=u(e);if(!r)throw new Error("Window not found to register sendMessage to");var o=function(r,o,i){if(r!==e)throw new Error("Remote window does not match window");if(!Object(g.matchDomain)(i,t))throw new Error("Remote domain "+i+" does not match domain "+t);n(o)};r.sendMessagePromise.resolve(o),r.sendMessagePromise=m.a.resolve(o)}function f(e,t){var n=u(e);if(!n)throw new Error("Window not found on which to reject sendMessage");n.sendMessagePromise.asyncReject(t)}function p(e,t,n){var r=Object(g.isOpener)(window,e),o=Object(g.isOpener)(e,window);if(!r&&!o)throw new Error("Can only send messages to and from parent and popup windows");var i=u(e);if(!i)throw new Error("Window not found to send message to");return i.sendMessagePromise.then(function(r){return r(e,t,n)})}t.f=r,t.h=o,t.g=i,t.e=a,t.c=s,t.d=l,n.d(t,"a",function(){return b}),t.j=c,t.b=u,t.i=d,t.k=f,t.l=p;var h=n("./node_modules/cross-domain-safe-weakmap/src/index.js"),m=n("./node_modules/zalgo-promise/src/index.js"),g=n("./node_modules/cross-domain-utils/src/index.js"),v=n("./node_modules/post-robot/src/conf/index.js"),y=n("./node_modules/post-robot/src/global.js"),b=new m.a(function(e){if(window.document&&window.document.body)return e(window.document.body);var t=setInterval(function(){if(window.document&&window.document.body)return clearInterval(t),e(window.document.body)},10)});y.a.remoteWindows=y.a.remoteWindows||new h.a},"./node_modules/post-robot/src/bridge/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=(n("./node_modules/post-robot/src/bridge/bridge.js"),n("./node_modules/post-robot/src/bridge/child.js"));n.d(t,"openTunnelToOpener",function(){return r.a});var o=n("./node_modules/post-robot/src/bridge/common.js");n.d(t,"needsBridgeForBrowser",function(){return o.f}),n.d(t,"needsBridgeForWin",function(){return o.h}),n.d(t,"needsBridgeForDomain",function(){return o.g}),n.d(t,"needsBridge",function(){return o.e}),n.d(t,"getBridgeName",function(){return o.c}),n.d(t,"isBridge",function(){return o.d}),n.d(t,"documentBodyReady",function(){return o.a}),n.d(t,"registerRemoteWindow",function(){return o.j}),n.d(t,"findRemoteWindow",function(){return o.b}),n.d(t,"registerRemoteSendMessage",function(){return o.i}),n.d(t,"rejectRemoteSendMessage",function(){return o.k}),n.d(t,"sendBridgeMessage",function(){return o.l});var i=n("./node_modules/post-robot/src/bridge/parent.js");n.d(t,"hasBridge",function(){return i.b}),n.d(t,"openBridge",function(){return i.d}),n.d(t,"linkUrl",function(){return i.c}),n.d(t,"destroyBridges",function(){return i.a})},"./node_modules/post-robot/src/bridge/interface.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/post-robot/src/bridge/index.js");n.d(t,"openBridge",function(){return r.openBridge}),n.d(t,"linkUrl",function(){return r.linkUrl}),n.d(t,"isBridge",function(){return r.isBridge}),n.d(t,"needsBridge",function(){return r.needsBridge}),n.d(t,"needsBridgeForBrowser",function(){return r.needsBridgeForBrowser}),n.d(t,"hasBridge",function(){return r.hasBridge}),n.d(t,"needsBridgeForWin",function(){return r.needsBridgeForWin}),n.d(t,"needsBridgeForDomain",function(){return r.needsBridgeForDomain}),n.d(t,"openTunnelToOpener",function(){return r.openTunnelToOpener}),n.d(t,"destroyBridges",function(){return r.destroyBridges})},"./node_modules/post-robot/src/bridge/parent.js":function(e,t,n){"use strict";function r(e,t){h.a.on(f.b.POST_MESSAGE_NAMES.OPEN_TUNNEL,{window:e,domain:t},function(e){var n=e.origin,r=e.data;if(n!==t)throw new Error("Domain "+t+" does not match origin "+n);if(!r.name)throw new Error("Register window expected to be passed window name");if(!r.sendMessage)throw new Error("Register window expected to be passed sendMessage method");if(!h.a.popupWindowsByName[r.name])throw new Error("Window with name "+r.name+" does not exist, or was not opened by this window");if(!h.a.popupWindowsByName[r.name].domain)throw new Error("We do not have a registered domain for window "+r.name);if(h.a.popupWindowsByName[r.name].domain!==n)throw new Error("Message origin "+n+" does not matched registered window origin "+h.a.popupWindowsByName[r.name].domain);return Object(m.i)(h.a.popupWindowsByName[r.name].win,t,r.sendMessage),{sendMessage:function(e){if(window&&!window.closed){var t=h.a.popupWindowsByName[r.name];if(t)try{h.a.receiveMessage({data:e,origin:t.domain,source:t.win})}catch(n){u.a.reject(n)}}}}})}function o(e,t){p.i.debug("Opening bridge:",e,t);var n=document.createElement("iframe");return n.setAttribute("name",e),n.setAttribute("id",e),n.setAttribute("style","display: none; margin: 0; padding: 0; border: 0px none; overflow: hidden;"),n.setAttribute("frameborder","0"),n.setAttribute("border","0"),n.setAttribute("scrolling","no"),n.setAttribute("allowTransparency","true"),n.setAttribute("tabindex","-1"),n.setAttribute("hidden","true"),n.setAttribute("title",""),n.setAttribute("role","presentation"),n.src=t,n}function i(e,t){return t=t||Object(d.getDomainFromUrl)(e),Boolean(h.a.bridges[t])}function a(e,t){return t=t||Object(d.getDomainFromUrl)(e),h.a.bridges[t]?h.a.bridges[t]:(h.a.bridges[t]=u.a["try"](function(){if(Object(d.getDomain)()===t)throw new Error("Can not open bridge on the same domain as current domain: "+t);var n=Object(m.c)(t);if(Object(d.getFrameByName)(window,n))throw new Error("Frame with name "+n+" already exists on page");var i=o(n,e);return h.a.bridgeFrames[t]=i,m.a.then(function(n){n.appendChild(i);var o=i.contentWindow;return r(o,t),new u.a(function(e,t){i.onload=e,i.onerror=t}).then(function(){return Object(p.k)(o,f.a.BRIDGE_TIMEOUT,"Bridge "+e)}).then(function(){return o})})}),h.a.bridges[t])}function s(e,t){var n=h.a.popupWindowsByWin.get(e);n&&(n.domain=Object(d.getDomainFromUrl)(t),Object(m.j)(e))}function l(){var e=Object.keys(h.a.bridgeFrames),t=Array.isArray(e),n=0;for(e=t?e:e[Symbol.iterator]();;){var r;if(t){if(n>=e.length)break;r=e[n++]}else{if((n=e.next()).done)break;r=n.value}var o=r,i=h.a.bridgeFrames[o];i.parentNode&&i.parentNode.removeChild(i)}h.a.bridgeFrames={},h.a.bridges={}}t.b=i,t.d=a,t.c=s,t.a=l;var c=n("./node_modules/cross-domain-safe-weakmap/src/index.js"),u=n("./node_modules/zalgo-promise/src/index.js"),d=n("./node_modules/cross-domain-utils/src/index.js"),f=n("./node_modules/post-robot/src/conf/index.js"),p=n("./node_modules/post-robot/src/lib/index.js"),h=n("./node_modules/post-robot/src/global.js"),m=n("./node_modules/post-robot/src/bridge/common.js");h.a.bridges=h.a.bridges||{},h.a.bridgeFrames=h.a.bridgeFrames||{},h.a.popupWindowsByWin=h.a.popupWindowsByWin||new c.a,h.a.popupWindowsByName=h.a.popupWindowsByName||{};var g=window.open;window.open=function(e,t,n,r){var o=e;if(e&&0===e.indexOf(f.b.MOCK_PROTOCOL)){var i=e.split("|");o=i[0],e=i[1]}o&&(o=Object(d.getDomainFromUrl)(o));var a=g.call(this,e,t,n,r);if(!a)return a;e&&Object(m.j)(a);var s=Object.keys(h.a.popupWindowsByName),l=Array.isArray(s),c=0;for(s=l?s:s[Symbol.iterator]();;){var u;if(l){if(c>=s.length)break;u=s[c++]}else{if((c=s.next()).done)break;u=c.value}var p=u;Object(d.isWindowClosed)(h.a.popupWindowsByName[p].win)&&delete h.a.popupWindowsByName[p]}if(t&&a){var v=h.a.popupWindowsByWin.get(a)||h.a.popupWindowsByName[t]||{};v.name=v.name||t,v.win=v.win||a,v.domain=v.domain||o,h.a.popupWindowsByWin.set(a,v),h.a.popupWindowsByName[t]=v}return a}},"./node_modules/post-robot/src/clean.js":function(e,t,n){"use strict";function r(e){var t=o.a.requestPromises.get(e);if(t){var n=t,r=Array.isArray(n),i=0;for(n=r?n:n[Symbol.iterator]();;){var a;if(r){if(i>=n.length)break;a=n[i++]}else{if((i=n.next()).done)break;a=i.value}a.reject(new Error("No response from window - cleaned up"))}}o.a.popupWindowsByWin&&o.a.popupWindowsByWin["delete"](e),o.a.remoteWindows&&o.a.remoteWindows["delete"](e),o.a.requestPromises["delete"](e),o.a.methods["delete"](e),o.a.readyPromises["delete"](e)}t.a=r;var o=(n("./node_modules/cross-domain-utils/src/index.js"),n("./node_modules/post-robot/src/global.js"))},"./node_modules/post-robot/src/compat/ie.js":function(e,t,n){"use strict";function r(e,t){if(!i.a.ALLOW_POSTMESSAGE_POPUP&&!1===Object(o.isSameTopWindow)(e,t))throw new Error("Can not send and receive post messages between two different windows (disabled to emulate IE)")}t.a=r;var o=n("./node_modules/cross-domain-utils/src/index.js"),i=n("./node_modules/post-robot/src/conf/index.js")},"./node_modules/post-robot/src/compat/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/post-robot/src/compat/ie.js");n.d(t,"emulateIERestrictions",function(){return r.a})},"./node_modules/post-robot/src/conf/config.js":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r,o=n("./node_modules/post-robot/src/conf/constants.js"),i={ALLOW_POSTMESSAGE_POPUP:!("__ALLOW_POSTMESSAGE_POPUP__"in window)||window.__ALLOW_POSTMESSAGE_POPUP__,LOG_LEVEL:"info",BRIDGE_TIMEOUT:5e3,CHILD_WINDOW_TIMEOUT:5e3,ACK_TIMEOUT:-1!==window.navigator.userAgent.match(/MSIE/i)?2e3:1e3,RES_TIMEOUT:-1,LOG_TO_PAGE:!1,ALLOWED_POST_MESSAGE_METHODS:(r={},r[o.a.SEND_STRATEGIES.POST_MESSAGE]=!0,r[o.a.SEND_STRATEGIES.BRIDGE]=!0,r[o.a.SEND_STRATEGIES.GLOBAL]=!0,r),ALLOW_SAME_ORIGIN:!1};0===window.location.href.indexOf(o.a.FILE_PROTOCOL)&&(i.ALLOW_POSTMESSAGE_POPUP=!0)},"./node_modules/post-robot/src/conf/constants.js":function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i});var r={POST_MESSAGE_TYPE:{REQUEST:"postrobot_message_request",RESPONSE:"postrobot_message_response",ACK:"postrobot_message_ack"},POST_MESSAGE_ACK:{SUCCESS:"success",ERROR:"error"},POST_MESSAGE_NAMES:{METHOD:"postrobot_method",HELLO:"postrobot_ready",OPEN_TUNNEL:"postrobot_open_tunnel"},WINDOW_TYPES:{FULLPAGE:"fullpage",POPUP:"popup",IFRAME:"iframe"},WINDOW_PROPS:{POSTROBOT:"__postRobot__"},SERIALIZATION_TYPES:{METHOD:"postrobot_method",ERROR:"postrobot_error",PROMISE:"postrobot_promise",ZALGO_PROMISE:"postrobot_zalgo_promise",REGEX:"regex"},SEND_STRATEGIES:{POST_MESSAGE:"postrobot_post_message",BRIDGE:"postrobot_bridge",GLOBAL:"postrobot_global"},MOCK_PROTOCOL:"mock:",FILE_PROTOCOL:"file:",BRIDGE_NAME_PREFIX:"__postrobot_bridge__",POSTROBOT_PROXY:"__postrobot_proxy__",WILDCARD:"*"},o={METHOD:"postrobot_method",HELLO:"postrobot_hello",OPEN_TUNNEL:"postrobot_open_tunnel"},i=Object.keys(o).map(function(e){return o[e]})},"./node_modules/post-robot/src/conf/index.js":function(e,t,n){"use strict";var r=n("./node_modules/post-robot/src/conf/config.js");n.d(t,"a",function(){return r.a});var o=n("./node_modules/post-robot/src/conf/constants.js");n.d(t,"b",function(){return o.a}),n.d(t,"c",function(){return o.b})},"./node_modules/post-robot/src/drivers/index.js":function(e,t,n){"use strict";var r=n("./node_modules/post-robot/src/drivers/receive/index.js");n.d(t,"d",function(){return r.a}),n.d(t,"f",function(){return r.b});var o=n("./node_modules/post-robot/src/drivers/send/index.js");n.d(t,"g",function(){return o.a});var i=n("./node_modules/post-robot/src/drivers/listeners.js");n.d(t,"a",function(){return i.a}),n.d(t,"b",function(){return i.b}),n.d(t,"c",function(){return i.c}),n.d(t,"e",function(){return i.g})},"./node_modules/post-robot/src/drivers/listeners.js":function(e,t,n){"use strict";function r(e,t){f.a.responseListeners[e]=t}function o(e){return f.a.responseListeners[e]}function i(e){delete f.a.responseListeners[e]}function a(e){f.a.erroredResponseListeners[e]=!0}function s(e){return Boolean(f.a.erroredResponseListeners[e])}function l(e){var t=e.name,n=e.win,r=e.domain;if(n===h.b.WILDCARD&&(n=null),r===h.b.WILDCARD&&(r=null),!t)throw new Error("Name required to get request listener");var o=f.a.requestListeners[t];if(o)for(var i=[n,f.a.WINDOW_WILDCARD],a=0;a<i.length;a++){var s=i[a],l=s&&o.get(s);if(l){if(r&&"string"==typeof r){if(l[r])return l[r];if(l[m]){var c=l[m],u=Array.isArray(c),p=0;for(c=u?c:c[Symbol.iterator]();;){var g;if(u){if(p>=c.length)break;g=c[p++]}else{if((p=c.next()).done)break;g=p.value}var v=g,y=v.regex,b=v.listener;if(Object(d.matchDomain)(y,r))return b}}}if(l[h.b.WILDCARD])return l[h.b.WILDCARD]}}}function c(e,t){var n=e.name,r=e.win,o=e.domain;if(!n||"string"!=typeof n)throw new Error("Name required to add request listener");if(Array.isArray(r)){var i=[],a=r,s=Array.isArray(a),d=0;for(a=s?a:a[Symbol.iterator]();;){var g;if(s){if(d>=a.length)break;g=a[d++]}else{if((d=a.next()).done)break;g=d.value}var v=g;i.push(c({name:n,domain:o,win:v},t))}return{cancel:function(){var e=i,t=Array.isArray(e),n=0;for(e=t?e:e[Symbol.iterator]();;){var r;if(t){if(n>=e.length)break;r=e[n++]}else{if((n=e.next()).done)break;r=n.value}r.cancel()}}}}if(Array.isArray(o)){var y=[],b=o,w=Array.isArray(b),x=0;for(b=w?b:b[Symbol.iterator]();;){var S;if(w){if(x>=b.length)break;S=b[x++]}else{if((x=b.next()).done)break;S=x.value}var C=S;y.push(c({name:n,win:r,domain:C},t))}return{cancel:function(){var e=y,t=Array.isArray(e),n=0;for(e=t?e:e[Symbol.iterator]();;){var r;if(t){if(n>=e.length)break;r=e[n++]}else{if((n=e.next()).done)break;r=n.value}r.cancel()}}}}var E=l({name:n,win:r,domain:o});if(r&&r!==h.b.WILDCARD||(r=f.a.WINDOW_WILDCARD),o=o||h.b.WILDCARD,E)throw r&&o?new Error("Request listener already exists for "+n+" on domain "+o.toString()+" for "+(r===f.a.WINDOW_WILDCARD?"wildcard":"specified")+" window"):r?new Error("Request listener already exists for "+n+" for "+(r===f.a.WINDOW_WILDCARD?"wildcard":"specified")+" window"):o?new Error("Request listener already exists for "+n+" on domain "+o.toString()):new Error("Request listener already exists for "+n);var T=f.a.requestListeners,k=T[n];k||(k=new u.a,T[n]=k);var j=k.get(r);j||(j={},k.set(r,j));var L=o.toString(),O=j[m],_=void 0;return Object(p.e)(o)?(O||(O=[],j[m]=O),_={regex:o,listener:t},O.push(_)):j[L]=t,{cancel:function(){j&&(delete j[L],r&&0===Object.keys(j).length&&k["delete"](r),_&&O.splice(O.indexOf(_,1)))}}}t.b=r,t.e=o,t.c=i,t.g=a,t.f=s,t.d=l,t.a=c;var u=(n("./node_modules/zalgo-promise/src/index.js"),n("./node_modules/cross-domain-safe-weakmap/src/index.js")),d=n("./node_modules/cross-domain-utils/src/index.js"),f=n("./node_modules/post-robot/src/global.js"),p=n("./node_modules/post-robot/src/lib/index.js"),h=n("./node_modules/post-robot/src/conf/index.js");f.a.responseListeners=f.a.responseListeners||{},f.a.requestListeners=f.a.requestListeners||{},f.a.WINDOW_WILDCARD=f.a.WINDOW_WILDCARD||new function(){},f.a.erroredResponseListeners=f.a.erroredResponseListeners||{};var m="__domain_regex__"},"./node_modules/post-robot/src/drivers/receive/index.js":function(e,t,n){"use strict";function r(e){var t=void 0;try{t=Object(c.f)(e)}catch(n){return}if(t&&"object"===(void 0===t?"undefined":f(t))&&null!==t&&(t=t[l.b.WINDOW_PROPS.POSTROBOT])&&"object"===(void 0===t?"undefined":f(t))&&null!==t&&t.type&&"string"==typeof t.type&&d.a[t.type])return t}function o(e){if(!window||window.closed)throw new Error("Message recieved in closed window");try{if(!e.source)return}catch(a){return}var t=e.source,n=e.origin,o=r(e.data);if(o){if(!o.sourceDomain||"string"!=typeof o.sourceDomain)throw new Error("Expected message to have sourceDomain");if(0!==o.sourceDomain.indexOf(l.b.MOCK_PROTOCOL)&&0!==o.sourceDomain.indexOf(l.b.FILE_PROTOCOL)||(n=o.sourceDomain),-1===u.a.receivedMessages.indexOf(o.id)){u.a.receivedMessages.push(o.id);var i=void 0;i=-1!==l.c.indexOf(o.name)||o.type===l.b.POST_MESSAGE_TYPE.ACK?"debug":"error"===o.ack?"error":"info",c.i.logLevel(i,["\n\n\t","#receive",o.type.replace(/^postrobot_message_/,""),"::",o.name,"::",n,"\n\n",o]),!Object(s.isWindowClosed)(t)||o.fireAndForget?(o.data&&(o.data=Object(c.b)(t,n,o.data)),d.a[o.type](t,n,o)):c.i.debug("Source window is closed - can not send "+o.type+" "+o.name)}}}function i(e){try{Object(c.j)(e.source)}catch(n){return}var t={source:e.source||e.sourceElement,origin:e.origin||e.originalEvent&&e.originalEvent.origin,data:e.data};o(t)}function a(){Object(c.a)(window,"message",i)}t.b=i,t.a=a;var s=n("./node_modules/cross-domain-utils/src/index.js"),l=n("./node_modules/post-robot/src/conf/index.js"),c=n("./node_modules/post-robot/src/lib/index.js"),u=n("./node_modules/post-robot/src/global.js"),d=n("./node_modules/post-robot/src/drivers/receive/types.js"),f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};u.a.receivedMessages=u.a.receivedMessages||[],u.a.receiveMessage=o},"./node_modules/post-robot/src/drivers/receive/types.js":function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r,o=n("./node_modules/zalgo-promise/src/index.js"),i=n("./node_modules/cross-domain-utils/src/index.js"),a=n("./node_modules/post-robot/src/conf/index.js"),s=n("./node_modules/post-robot/src/lib/index.js"),l=n("./node_modules/post-robot/src/drivers/send/index.js"),c=n("./node_modules/post-robot/src/drivers/listeners.js"),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d=((r={})[a.b.POST_MESSAGE_TYPE.ACK]=function(e,t,n){if(!Object(c.f)(n.hash)){var r=Object(c.e)(n.hash);if(!r)throw new Error("No handler found for post message ack for message: "+n.name+" from "+t+" in "+window.location.protocol+"//"+window.location.host+window.location.pathname);if(!Object(i.matchDomain)(r.domain,t))throw new Error("Ack origin "+t+" does not match domain "+r.domain.toString());r.ack=!0}},r[a.b.POST_MESSAGE_TYPE.REQUEST]=function(e,t,n){function r(r){return n.fireAndForget||Object(i.isWindowClosed)(e)?o.a.resolve():Object(l.a)(e,u({target:n.originalSource,hash:n.hash,name:n.name},r),t)}var d=Object(c.d)({name:n.name,win:e,domain:t});return o.a.all([r({type:a.b.POST_MESSAGE_TYPE.ACK}),o.a["try"](function(){if(!d)throw new Error("No handler found for post message: "+n.name+" from "+t+" in "+window.location.protocol+"//"+window.location.host+window.location.pathname);if(!Object(i.matchDomain)(d.domain,t))throw new Error("Request origin "+t+" does not match domain "+d.domain.toString());var r=n.data;return d.handler({source:e,origin:t,data:r})}).then(function(e){return r({type:a.b.POST_MESSAGE_TYPE.RESPONSE,ack:a.b.POST_MESSAGE_ACK.SUCCESS,data:e})},function(e){var t=Object(s.p)(e).replace(/^Error: /,""),n=e.code;return r({type:a.b.POST_MESSAGE_TYPE.RESPONSE,ack:a.b.POST_MESSAGE_ACK.ERROR,error:t,code:n})})]).then(s.j)["catch"](function(e){if(d&&d.handleError)return d.handleError(e);s.i.error(Object(s.p)(e))})},r[a.b.POST_MESSAGE_TYPE.RESPONSE]=function(e,t,n){if(!Object(c.f)(n.hash)){var r=Object(c.e)(n.hash);if(!r)throw new Error("No handler found for post message response for message: "+n.name+" from "+t+" in "+window.location.protocol+"//"+window.location.host+window.location.pathname);if(!Object(i.matchDomain)(r.domain,t))throw new Error("Response origin "+t+" does not match domain "+Object(i.stringifyDomainPattern)(r.domain));if(Object(c.c)(n.hash),n.ack===a.b.POST_MESSAGE_ACK.ERROR){var o=new Error(n.error);return n.code&&(o.code=n.code),r.respond(o,null)}if(n.ack===a.b.POST_MESSAGE_ACK.SUCCESS){var s=n.data||n.response;return r.respond(null,{source:e,origin:t,data:s})}}},r)},"./node_modules/post-robot/src/drivers/send/index.js":function(e,t,n){"use strict";function r(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Object(l.q)(),o=Object(l.c)(),a=Object(i.getDomain)(window);return u({},t,n,{sourceDomain:a,id:t.id||r,windowType:o})}function o(e,t,n){return a.a["try"](function(){var o;t=r(e,t,{data:Object(l.o)(e,n,t.data),domain:n});var u=void 0;if(u=-1!==s.c.indexOf(t.name)||t.type===s.b.POST_MESSAGE_TYPE.ACK?"debug":"error"===t.ack?"error":"info",l.i.logLevel(u,["\n\n\t","#send",t.type.replace(/^postrobot_message_/,""),"::",t.name,"::",n||s.b.WILDCARD,"\n\n",t]),e===window&&!s.a.ALLOW_SAME_ORIGIN)throw new Error("Attemping to send message to self");if(Object(i.isWindowClosed)(e))throw new Error("Window is closed");l.i.debug("Running send message strategies",t);var d=[],f=Object(l.g)(((o={})[s.b.WINDOW_PROPS.POSTROBOT]=t,o),null,2);return a.a.map(Object.keys(c.a),function(t){return a.a["try"](function(){if(!s.a.ALLOWED_POST_MESSAGE_METHODS[t])throw new Error("Strategy disallowed: "+t);return c.a[t](e,f,n)}).then(function(){return d.push(t+": success"),!0},function(e){return d.push(t+": "+Object(l.p)(e)+"\n"),!1})}).then(function(e){var n=e.some(Boolean),r=t.type+" "+t.name+" "+(n?"success":"error")+":\n  - "+d.join("\n  - ")+"\n";if(l.i.debug(r),!n)throw new Error(r)})})}t.a=o;var i=n("./node_modules/cross-domain-utils/src/index.js"),a=n("./node_modules/zalgo-promise/src/index.js"),s=n("./node_modules/post-robot/src/conf/index.js"),l=n("./node_modules/post-robot/src/lib/index.js"),c=n("./node_modules/post-robot/src/drivers/send/strategies.js"),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},"./node_modules/post-robot/src/drivers/send/strategies.js":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("./node_modules/cross-domain-utils/src/index.js"),o=n("./node_modules/post-robot/src/conf/index.js"),i={};i[o.b.SEND_STRATEGIES.POST_MESSAGE]=function(e,t,n){(Array.isArray(n)?n:"string"==typeof n?[n]:[o.b.WILDCARD]).map(function(t){if(0===t.indexOf(o.b.MOCK_PROTOCOL)){if(window.location.protocol===o.b.FILE_PROTOCOL)return o.b.WILDCARD;if(!Object(r.isActuallySameDomain)(e))throw new Error("Attempting to send messsage to mock domain "+t+", but window is actually cross-domain");return Object(r.getActualDomain)(e)}return 0===t.indexOf(o.b.FILE_PROTOCOL)?o.b.WILDCARD:t}).forEach(function(n){return e.postMessage(t,n)})}},"./node_modules/post-robot/src/global.js":function(e,t,n){"use strict";n.d(t,"a",function(){return o})
;var r=n("./node_modules/post-robot/src/conf/index.js"),o=window[r.b.WINDOW_PROPS.POSTROBOT]=window[r.b.WINDOW_PROPS.POSTROBOT]||{};o.registerSelf=function(){}},"./node_modules/post-robot/src/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/post-robot/src/interface.js");n.d(t,"cleanUpWindow",function(){return r.cleanUpWindow}),n.d(t,"Promise",function(){return r.Promise}),n.d(t,"bridge",function(){return r.bridge}),n.d(t,"init",function(){return r.init}),n.d(t,"parent",function(){return r.parent}),n.d(t,"send",function(){return r.send}),n.d(t,"request",function(){return r.request}),n.d(t,"sendToParent",function(){return r.sendToParent}),n.d(t,"client",function(){return r.client}),n.d(t,"on",function(){return r.on}),n.d(t,"listen",function(){return r.listen}),n.d(t,"once",function(){return r.once}),n.d(t,"listener",function(){return r.listener}),n.d(t,"CONFIG",function(){return r.CONFIG}),n.d(t,"CONSTANTS",function(){return r.CONSTANTS}),n.d(t,"disable",function(){return r.disable}),t["default"]=r},"./node_modules/post-robot/src/interface.js":function(e,t,n){"use strict";function r(){a.a.initialized||(Object(i.d)(),Object(o.d)(),Object(o.h)({on:s.g,send:s.k})),a.a.initialized=!0}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"bridge",function(){return u}),t.init=r;var o=n("./node_modules/post-robot/src/lib/index.js"),i=n("./node_modules/post-robot/src/drivers/index.js"),a=n("./node_modules/post-robot/src/global.js"),s=n("./node_modules/post-robot/src/public/index.js");n.d(t,"parent",function(){return s.i}),n.d(t,"send",function(){return s.k}),n.d(t,"request",function(){return s.j}),n.d(t,"sendToParent",function(){return s.l}),n.d(t,"client",function(){return s.c}),n.d(t,"on",function(){return s.g}),n.d(t,"listen",function(){return s.e}),n.d(t,"once",function(){return s.h}),n.d(t,"listener",function(){return s.f}),n.d(t,"CONFIG",function(){return s.a}),n.d(t,"CONSTANTS",function(){return s.b}),n.d(t,"disable",function(){return s.d});var l=n("./node_modules/post-robot/src/clean.js");n.d(t,"cleanUpWindow",function(){return l.a});var c=n("./node_modules/zalgo-promise/src/index.js");n.d(t,"Promise",function(){return c.a});var u=null;r()},"./node_modules/post-robot/src/lib/index.js":function(e,t,n){"use strict";var r=n("./node_modules/post-robot/src/lib/util.js");n.d(t,"a",function(){return r.a}),n.d(t,"c",function(){return r.b}),n.d(t,"e",function(){return r.c}),n.d(t,"f",function(){return r.d}),n.d(t,"g",function(){return r.e}),n.d(t,"j",function(){return r.f}),n.d(t,"l",function(){return r.g}),n.d(t,"m",function(){return r.i}),n.d(t,"p",function(){return r.j}),n.d(t,"q",function(){return r.k}),n.d(t,"r",function(){return r.l});var o=n("./node_modules/post-robot/src/lib/log.js");n.d(t,"i",function(){return o.a});var i=n("./node_modules/post-robot/src/lib/serialize.js");n.d(t,"b",function(){return i.a}),n.d(t,"h",function(){return i.b}),n.d(t,"o",function(){return i.c});var a=n("./node_modules/post-robot/src/lib/ready.js");n.d(t,"d",function(){return a.a}),n.d(t,"k",function(){return a.b}),n.d(t,"n",function(){return a.c})},"./node_modules/post-robot/src/lib/log.js":function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("./node_modules/post-robot/src/conf/index.js"),o=n("./node_modules/post-robot/src/lib/util.js"),i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=["debug","info","warn","error"];Function.prototype.bind&&window.console&&"object"===i(console.log)&&["log","info","warn","error"].forEach(function(e){console[e]=this.bind(console[e],console)},Function.prototype.call);var s={clearLogs:function(){if(window.console&&window.console.clear&&window.console.clear(),r.a.LOG_TO_PAGE){var e=document.getElementById("postRobotLogs");e&&e.parentNode&&e.parentNode.removeChild(e)}},writeToPage:function(e,t){setTimeout(function(){var n=document.getElementById("postRobotLogs");n||((n=document.createElement("div")).id="postRobotLogs",n.style.cssText="width: 800px; font-family: monospace; white-space: pre-wrap;",document.body&&document.body.appendChild(n));var r=document.createElement("div"),i=(new Date).toString().split(" ")[4],a=Array.prototype.slice.call(t).map(function(e){if("string"==typeof e)return e;if(!e)return Object.prototype.toString.call(e);var t=void 0;try{t=Object(o.e)(e,null,2)}catch(n){t="[object]"}return"\n\n"+t+"\n\n"}).join(" "),s=i+" "+e+" "+a;r.innerHTML=s;var l={log:"#ddd",warn:"orange",error:"red",info:"blue",debug:"#aaa"}[e];r.style.cssText="margin-top: 10px; color: "+l+";",n.childNodes.length?n.insertBefore(r,n.childNodes[0]):n.appendChild(r)})},logLevel:function(e,t){setTimeout(function(){try{var n=window.LOG_LEVEL||r.a.LOG_LEVEL;if("disabled"===n||a.indexOf(e)<a.indexOf(n))return;if((t=Array.prototype.slice.call(t)).unshift(""+window.location.host+window.location.pathname),t.unshift("::"),t.unshift(""+Object(o.b)().toLowerCase()),t.unshift("[post-robot]"),r.a.LOG_TO_PAGE&&s.writeToPage(e,t),!window.console)return;if(window.console[e]||(e="log"),!window.console[e])return;window.console[e].apply(window.console,t)}catch(i){}},1)},debug:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];s.logLevel("debug",t)},info:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];s.logLevel("info",t)},warn:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];s.logLevel("warn",t)},error:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];s.logLevel("error",t)}}},"./node_modules/post-robot/src/lib/ready.js":function(e,t,n){"use strict";function r(e){d.a.on(u.b.POST_MESSAGE_NAMES.HELLO,{domain:u.b.WILDCARD},function(t){var n=t.source,r=t.origin;return e({source:n,origin:r})})}function o(e){return d.a.send(e,u.b.POST_MESSAGE_NAMES.HELLO,{},{domain:u.b.WILDCARD,timeout:-1}).then(function(e){return{origin:e.origin}})}function i(){r(function(e){var t=e.source,n=e.origin,r=d.a.readyPromises.get(t)||new c.a;r.resolve({origin:n}),d.a.readyPromises.set(t,r)});var e=Object(l.getAncestor)();e&&o(e)["catch"](function(e){f.a.debug(Object(p.j)(e))})}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Window",r=d.a.readyPromises.get(e);return r||(r=new c.a,d.a.readyPromises.set(e,r),-1!==t&&setTimeout(function(){return r.reject(new Error(n+" did not load after "+t+"ms"))},t),r)}t.c=o,t.a=i,t.b=a;var s=n("./node_modules/cross-domain-safe-weakmap/src/index.js"),l=n("./node_modules/cross-domain-utils/src/index.js"),c=n("./node_modules/zalgo-promise/src/index.js"),u=n("./node_modules/post-robot/src/conf/index.js"),d=n("./node_modules/post-robot/src/global.js"),f=n("./node_modules/post-robot/src/lib/log.js"),p=n("./node_modules/post-robot/src/lib/util.js");d.a.readyPromises=d.a.readyPromises||new s.a},"./node_modules/post-robot/src/lib/serialize.js":function(e,t,n){"use strict";function r(e,t){return"object"===(void 0===e?"undefined":C(e))&&null!==e&&e.__type__===t}function o(e,t,n,r){var o=Object(x.k)(),i=w.a.methods.get(e);return i||(i={},w.a.methods.set(e,i)),i[o]={domain:t,method:n},{__type__:b.b.SERIALIZATION_TYPES.METHOD,__id__:o,__name__:r}}function i(e){return{__type__:b.b.SERIALIZATION_TYPES.ERROR,__message__:Object(x.j)(e),__code__:e.code}}function a(e,t,n,r){return{__type__:b.b.SERIALIZATION_TYPES.PROMISE,__then__:o(e,t,function(e,t){return n.then(e,t)},r+".then")}}function s(e,t,n,r){return{__type__:b.b.SERIALIZATION_TYPES.ZALGO_PROMISE,__then__:o(e,t,function(e,t){return n.then(e,t)},r+".then")}}function l(e){return{__type__:b.b.SERIALIZATION_TYPES.REGEX,__source__:e.source}}function c(e,t,n){return Object(x.h)({obj:n},function(n,r){return"function"==typeof n?o(e,t,n,r.toString()):n instanceof Error?i(n):window.Promise&&n instanceof window.Promise?a(e,t,n,r.toString()):y.a.isPromise(n)?s(e,t,n,r.toString()):Object(x.c)(n)?l(n):void 0}).obj}function u(e,t,n){function r(){var r=Array.prototype.slice.call(arguments);return S.a.debug("Call foreign method",n.__name__,r),w.a.send(e,b.b.POST_MESSAGE_NAMES.METHOD,{id:n.__id__,name:n.__name__,args:r},{domain:t,timeout:-1}).then(function(e){var t=e.data;return S.a.debug("Got foreign method result",n.__name__,t.result),t.result},function(e){throw S.a.debug("Got foreign method error",Object(x.j)(e)),e})}return r.__name__=n.__name__,r.__xdomain__=!0,r.source=e,r.origin=t,r}function d(e,t,n){var r=new Error(n.__message__);return n.__code__&&(r.code=n.__code__),r}function f(e,t,n){return new y.a(function(r,o){return u(e,t,n.__then__)(r,o)})}function p(e,t,n){return window.Promise?new window.Promise(function(r,o){return u(e,t,n.__then__)(r,o)}):f(e,t,n)}function h(e,t,n){return new RegExp(n.__source__)}function m(e,t,n){return Object(x.h)({obj:n},function(n){if("object"===(void 0===n?"undefined":C(n))&&null!==n)return r(n,b.b.SERIALIZATION_TYPES.METHOD)?u(e,t,n):r(n,b.b.SERIALIZATION_TYPES.ERROR)?d(e,t,n):r(n,b.b.SERIALIZATION_TYPES.PROMISE)?p(e,t,n):r(n,b.b.SERIALIZATION_TYPES.ZALGO_PROMISE)?f(e,t,n):r(n,b.b.SERIALIZATION_TYPES.REGEX)?h(e,t,n):void 0}).obj}n.d(t,"b",function(){return E}),t.c=c,t.a=m;var g=n("./node_modules/cross-domain-safe-weakmap/src/index.js"),v=n("./node_modules/cross-domain-utils/src/index.js"),y=n("./node_modules/zalgo-promise/src/index.js"),b=n("./node_modules/post-robot/src/conf/index.js"),w=n("./node_modules/post-robot/src/global.js"),x=n("./node_modules/post-robot/src/lib/util.js"),S=n("./node_modules/post-robot/src/lib/log.js"),C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};w.a.methods=w.a.methods||new g.a;var E=Object(x.g)(function(){w.a.on(b.b.POST_MESSAGE_NAMES.METHOD,{origin:b.b.WILDCARD},function(e){var t=e.source,n=e.origin,r=e.data,o=w.a.methods.get(t);if(!o)throw new Error("Could not find any methods this window has privileges to call");var i=o[r.id];if(!i)throw new Error("Could not find method with id: "+r.id);if(!Object(v.matchDomain)(i.domain,n))throw new Error("Method domain "+i.domain+" does not match origin "+n);return S.a.debug("Call local method",r.name,r.args),y.a["try"](function(){return i.method.apply({source:t,origin:n,data:r},r.args)}).then(function(e){return{result:e,id:r.id,name:r.name}})})})},"./node_modules/post-robot/src/lib/util.js":function(e,t,n){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(t>=3)return"stringifyError stack overflow";try{if(!e)return"<unknown error: "+Object.prototype.toString.call(e)+">";if("string"==typeof e)return e;if(e instanceof Error){var n=e&&e.stack,o=e&&e.message;if(n&&o)return-1!==n.indexOf(o)?n:o+"\n"+n;if(n)return n;if(o)return o}return"function"==typeof e.toString?e.toString():Object.prototype.toString.call(e)}catch(i){return"Error while stringifying error: "+r(i,t+1)}}function o(){}function i(e,t,n){return e.addEventListener?e.addEventListener(t,n):e.attachEvent("on"+t,n),{cancel:function(){e.removeEventListener?e.removeEventListener(t,n):e.detachEvent("on"+t,n)}}}function a(){var e="0123456789abcdef";return"xxxxxxxxxx".replace(/./g,function(){return e.charAt(Math.floor(Math.random()*e.length))})}function s(e,t){for(var n=0;n<e.length;n++)t(e[n],n)}function l(e,t){for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)}function c(e,t){Array.isArray(e)?s(e,t):"object"===(void 0===e?"undefined":b(e))&&null!==e&&l(e,t)}function u(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(n>=100)throw new Error("Self-referential object passed, or object contained too many layers");var r=void 0;if("object"!==(void 0===e?"undefined":b(e))||null===e||Array.isArray(e)){if(!Array.isArray(e))throw new TypeError("Invalid type: "+(void 0===e?"undefined":b(e)));r=[]}else r={};return c(e,function(e,o){var i=t(e,o);void 0!==i?r[o]=i:"object"===(void 0===e?"undefined":b(e))&&null!==e?r[o]=u(e,t,n+1):r[o]=e}),r}function d(e,t){function n(){r=setTimeout(n,t),e.call()}var r=void 0;return r=setTimeout(n,t),{cancel:function(){clearTimeout(r)}}}function f(e){return"[object RegExp]"===Object.prototype.toString.call(e)}function p(){return Object(v.isPopup)()?y.b.WINDOW_TYPES.POPUP:Object(v.isIframe)()?y.b.WINDOW_TYPES.IFRAME:y.b.WINDOW_TYPES.FULLPAGE}function h(e,t,n){var r=void 0,o=void 0;try{if("{}"!==JSON.stringify({})&&(r=Object.prototype.toJSON,delete Object.prototype.toJSON),"{}"!==JSON.stringify({}))throw new Error("Can not correctly serialize JSON objects");if("[]"!==JSON.stringify([])&&(o=Array.prototype.toJSON,delete Array.prototype.toJSON),"[]"!==JSON.stringify([]))throw new Error("Can not correctly serialize JSON objects")}catch(a){throw new Error("Can not repair JSON.stringify: "+a.message)}var i=JSON.stringify.call(this,e,t,n);try{r&&(Object.prototype.toJSON=r),o&&(Array.prototype.toJSON=o)}catch(a){throw new Error("Can not repair JSON.stringify: "+a.message)}return i}function m(e){return JSON.parse(e)}t.j=r,n.d(t,"g",function(){return w}),t.f=o,t.a=i,t.k=a,t.h=u,t.i=d,t.c=f,n.d(t,"l",function(){return x}),t.b=p,t.e=h,t.d=m;var g=n("./node_modules/cross-domain-safe-weakmap/src/index.js"),v=n("./node_modules/cross-domain-utils/src/index.js"),y=n("./node_modules/post-robot/src/conf/index.js"),b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w=function(e){if(!e)return e;var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}},x=function(e){var t=new g.a;return function(n){var r=t.get(n);return void 0!==r?r:(void 0!==(r=e.call(this,n))&&t.set(n,r),r)}}},"./node_modules/post-robot/src/public/client.js":function(e,t,n){"use strict";function r(e){return l.a["try"](function(){if(!e.name)throw new Error("Expected options.name");var t=e.name,n=void 0,r=void 0;if("string"==typeof e.window){var o=document.getElementById(e.window);if(!o)throw new Error("Expected options.window "+Object.prototype.toString.call(e.window)+" to be a valid element id");if("iframe"!==o.tagName.toLowerCase())throw new Error("Expected options.window "+Object.prototype.toString.call(e.window)+" to be an iframe");if(!o.contentWindow)throw new Error("Iframe must have contentWindow.  Make sure it has a src attribute and is in the DOM.");n=o.contentWindow}else if(e.window instanceof HTMLIFrameElement){if("iframe"!==e.window.tagName.toLowerCase())throw new Error("Expected options.window "+Object.prototype.toString.call(e.window)+" to be an iframe");if(e.window&&!e.window.contentWindow)throw new Error("Iframe must have contentWindow.  Make sure it has a src attribute and is in the DOM.");e.window&&e.window.contentWindow&&(n=e.window.contentWindow)}else n=e.window;if(!n)throw new Error("Expected options.window to be a window object, iframe, or iframe element id.");var i=n;r=e.domain||u.b.WILDCARD;var a=e.name+"_"+Object(f.q)();if(Object(c.isWindowClosed)(i))throw new Error("Target window is closed");var s=!1,h=p.a.requestPromises.get(i);h||(h=[],p.a.requestPromises.set(i,h));var m=l.a["try"](function(){if(Object(c.isAncestor)(window,i))return Object(f.k)(i,e.timeout||u.a.CHILD_WINDOW_TIMEOUT)}).then(function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).origin;if(Object(f.e)(r)&&!e)return Object(f.n)(i)}).then(function(){var n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).origin;if(Object(f.e)(r)){if(!Object(c.matchDomain)(r,n))throw new Error("Remote window domain "+n+" does not match regex: "+r.toString());r=n}if("string"!=typeof r&&!Array.isArray(r))throw new TypeError("Expected domain to be a string or array");var o=r;return new l.a(function(n,r){var l=void 0;if(e.fireAndForget||(l={name:t,window:i,domain:o,respond:function(e,t){e||(s=!0,h.splice(h.indexOf(m,1))),e?r(e):n(t)}},Object(d.b)(a,l)),Object(d.g)(i,{type:u.b.POST_MESSAGE_TYPE.REQUEST,hash:a,name:t,data:e.data,fireAndForget:e.fireAndForget},o)["catch"](r),e.fireAndForget)return n();var f=u.a.ACK_TIMEOUT,p=e.timeout||u.a.RES_TIMEOUT,g=100;setTimeout(function v(){if(!s){if(Object(c.isWindowClosed)(i))return r(l.ack?new Error("Window closed for "+t+" before response"):new Error("Window closed for "+t+" before ack"));if(f=Math.max(f-g,0),-1!==p&&(p=Math.max(p-g,0)),l.ack){if(-1===p)return;g=Math.min(p,2e3)}else{if(0===f)return r(new Error("No ack for postMessage "+t+" in "+Object(c.getDomain)()+" in "+u.a.ACK_TIMEOUT+"ms"));if(0===p)return r(new Error("No response for postMessage "+t+" in "+Object(c.getDomain)()+" in "+(e.timeout||u.a.RES_TIMEOUT)+"ms"))}setTimeout(v,g)}},g)})});return m["catch"](function(){Object(d.e)(a),Object(d.c)(a)}),h.push(m),m})}function o(e,t,n,o){return(o=o||{}).window=e,o.name=t,o.data=n,r(o)}function i(e,t,n){var r=Object(c.getAncestor)();return r?o(r,e,t,n):new l.a(function(e,t){return t(new Error("Window does not have a parent"))})}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e.window)throw new Error("Expected options.window");var t=e.window;return{send:function(n,r){return o(t,n,r,e)}}}n.d(t,"c",function(){return o}),t.b=r,t.d=i,t.a=a;var s=n("./node_modules/cross-domain-safe-weakmap/src/index.js"),l=n("./node_modules/zalgo-promise/src/index.js"),c=n("./node_modules/cross-domain-utils/src/index.js"),u=n("./node_modules/post-robot/src/conf/index.js"),d=n("./node_modules/post-robot/src/drivers/index.js"),f=n("./node_modules/post-robot/src/lib/index.js"),p=n("./node_modules/post-robot/src/global.js");p.a.requestPromises=p.a.requestPromises||new s.a,p.a.send=o},"./node_modules/post-robot/src/public/config.js":function(e,t,n){"use strict";function r(){delete window[o.b.WINDOW_PROPS.POSTROBOT],window.removeEventListener("message",i.f)}t.c=r;var o=n("./node_modules/post-robot/src/conf/index.js"),i=n("./node_modules/post-robot/src/drivers/index.js");n.d(t,"a",function(){return o.a}),n.d(t,"b",function(){return o.b})},"./node_modules/post-robot/src/public/index.js":function(e,t,n){"use strict";n.d(t,"i",function(){return s});var r=n("./node_modules/cross-domain-utils/src/index.js"),o=n("./node_modules/post-robot/src/public/client.js");n.d(t,"c",function(){return o.a}),n.d(t,"j",function(){return o.b}),n.d(t,"k",function(){return o.c}),n.d(t,"l",function(){return o.d});var i=n("./node_modules/post-robot/src/public/server.js");n.d(t,"e",function(){return i.a}),n.d(t,"f",function(){return i.b}),n.d(t,"g",function(){return i.c}),n.d(t,"h",function(){return i.d});var a=n("./node_modules/post-robot/src/public/config.js");n.d(t,"a",function(){return a.a}),n.d(t,"b",function(){return a.b}),n.d(t,"d",function(){return a.c});var s=Object(r.getAncestor)()},"./node_modules/post-robot/src/public/server.js":function(e,t,n){"use strict";function r(e){if(!e.name)throw new Error("Expected options.name");if(!e.handler)throw new Error("Expected options.handler");var t=e.name,n=e.window,r=e.domain,o={handler:e.handler,handleError:e.errorHandler||function(e){throw e},window:n,domain:r||d.b.WILDCARD,name:t},i=Object(u.a)({name:t,win:n,domain:r},o);if(e.once){var a=o.handler;o.handler=Object(c.l)(function(){return i.cancel(),a.apply(this,arguments)})}if(o.window&&e.errorOnClose)var l=Object(c.m)(function(){n&&"object"===(void 0===n?"undefined":p(n))&&Object(s.isWindowClosed)(n)&&(l.cancel(),o.handleError(new Error("Post message target window is closed")))},50);return{cancel:function(){i.cancel()}}}function o(e,t,n){return"function"==typeof t&&(n=t,t={}),(t=t||{}).name=e,t.handler=n||t.handler,r(t)}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2];"function"==typeof t&&(n=t,t={}),t=t||{},n=n||t.handler;var o=t.errorHandler,i=new l.a(function(r,i){(t=t||{}).name=e,t.once=!0,t.handler=function(e){if(r(e),n)return n(e)},t.errorHandler=function(e){if(i(e),o)return o(e)}}),a=r(t);return i.cancel=a.cancel,i}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{on:function(t,n){return o(t,e,n)}}}n.d(t,"c",function(){return o}),t.a=r,t.d=i,t.b=a;var s=n("./node_modules/cross-domain-utils/src/index.js"),l=n("./node_modules/zalgo-promise/src/index.js"),c=n("./node_modules/post-robot/src/lib/index.js"),u=n("./node_modules/post-robot/src/drivers/index.js"),d=n("./node_modules/post-robot/src/conf/index.js"),f=n("./node_modules/post-robot/src/global.js"),p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};f.a.on=o},"./node_modules/process/browser.js":function(e){function t(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function r(e){if(c===setTimeout)return setTimeout(e,0);if((c===t||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(n){try{return c.call(null,e,0)}catch(n){return c.call(this,e,0)}}}function o(e){if(u===clearTimeout)return clearTimeout(e);if((u===n||!u)&&clearTimeout)return u=clearTimeout,clearTimeout(e);try{return u(e)}catch(t){try{return u.call(null,e)}catch(t){return u.call(this,e)}}}function i(){h&&f&&(h=!1,f.length?p=f.concat(p):m=-1,p.length&&a())}function a(){if(!h){var e=r(i);h=!0;for(var t=p.length;t;){for(f=p,p=[];++m<t;)f&&f[m].run();m=-1,t=p.length}f=null,h=!1,o(e)}}function s(e,t){this.fun=e,this.array=t}function l(){}var c,u,d=e.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:t}catch(e){c=t}try{u="function"==typeof clearTimeout?clearTimeout:n}catch(e){u=n}}();var f,p=[],h=!1,m=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];p.push(new s(e,t)),1!==p.length||h||r(a)},s.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=l,d.addListener=l,d.once=l,d.off=l,d.removeListener=l,d.removeAllListeners=l,d.emit=l,d.prependListener=l,d.prependOnceListener=l,d.listeners=function(){return[]},d.binding=function(){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},"./node_modules/webpack/buildin/amd-options.js":function(e,t){(function(t){e.exports=t}).call(t,{})},"./node_modules/webpack/buildin/global.js":function(e){var t,n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t=function(){return this}();try{t=t||Function("return this")()||(0,eval)("this")}catch(r){"object"===("undefined"==typeof window?"undefined":n(window))&&(t=window)}e.exports=t},"./node_modules/webpack/buildin/module.js":function(e){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},"./node_modules/xcomponent/src/component/base.js":function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e){var t=[],n=!1;return{set:function(t,r){return n?r:(e[t]=r,this.register(function(){delete e[t]}),r)},register:function(e,r){if("function"==typeof e&&(r=e,e="<anonymous-cleanup-handler>"),"function"!=typeof r)throw new TypeError("Expected to be passed function to clean.register");n?r():t.push({complete:!1,name:e,run:function(){this.complete||(this.complete=!0,r&&r())}})},hasTasks:function(){return Boolean(t.filter(function(e){return!e.complete}).length)},all:function(){var e=[];for(n=!0;t.length;)e.push(t.pop().run());return i.a.all(e).then(function(){})},run:function(e){var n=[],r=t,o=Array.isArray(r),a=0;for(r=o?r:r[Symbol.iterator]();;){var l;if(o){if(a>=r.length)break;l=r[a++]}else{if((a=r.next()).done)break;l=a.value}var c=l;c.name===e&&n.push(c.run())}return i.a.all(n).then(s.I)}}}n.d(t,"a",function(){return l});var i=n("./node_modules/zalgo-promise/src/index.js"),a=n("./node_modules/post-robot/src/index.js"),s=(n("./node_modules/cross-domain-utils/src/index.js"),n("./node_modules/xcomponent/src/lib/index.js")),l=function(){function e(){r(this,e),this.clean=o(this),this.event=Object(s.s)()}return e.prototype.addProp=function(e,t,n){Object(s.g)(e,this,t,n)},e.prototype.on=function(e,t){return this.event.on(e,t)},e.prototype.listeners=function(){throw new Error("Expected listeners to be implemented")},e.prototype.error=function(e){throw new Error("Expected error to be implemented - got "+Object(s.X)(e))},e.prototype.listen=function(e,t){var n=this;if(!e)throw this.component.createError("window to listen to not set");if(!t)throw new Error("Must pass domain to listen to");if(this.listeners){var r=this.listeners(),o=Object.keys(r),i=Array.isArray(o),s=0;for(o=i?o:o[Symbol.iterator]();;){var l;if("break"===function(){if(i){if(s>=o.length)return"break";l=o[s++]}else{if((s=o.next()).done)return"break";l=s.value}var c=l,u=c.replace(/^xcomponent_/,""),d=function(e){n.error(e)},f=Object(a.on)(c,{window:e,domain:t,errorHandler:d},function(e){var t=e.source,o=e.data;return n.component.log("listener_"+u),r[c].call(n,t,o)}),p=Object(a.on)(c,{window:e,errorHandler:d},function(e){var r=e.origin;n.component.logError("unexpected_listener_"+u,{origin:r,domain:t.toString()}),n.error(new Error("Unexpected "+u+" message from domain "+r+" -- expected message from "+t.toString()))});n.clean.register(function(){f.cancel(),p.cancel()})}())break}}},e}()},"./node_modules/xcomponent/src/component/child/index.js":function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return y});var a=n("./node_modules/beaver-logger/client/index.js"),s=n("./node_modules/cross-domain-utils/src/index.js"),l=n("./node_modules/post-robot/src/index.js"),c=n("./node_modules/zalgo-promise/src/index.js"),u=n("./node_modules/xcomponent/src/component/base.js"),d=n("./node_modules/xcomponent/src/component/window.js"),f=n("./node_modules/xcomponent/src/lib/index.js"),p=n("./node_modules/xcomponent/src/constants.js"),h=n("./node_modules/xcomponent/src/error.js"),m=n("./node_modules/xcomponent/src/component/child/props.js"),g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y=function(e){function t(n){r(this,t);var i=o(this,e.call(this));if(i.component=n,!i.hasValidParentDomain())return i.error(new h.c("Can not be rendered by domain: "+i.getParentDomain())),o(i);i.component.log("construct_child"),i.onPropHandlers=[];for(var a=[i.component,window],s=0;s<a.length;s++)!function(){for(var e=a[s],t=[["xchild",function(){return i}],["xprops",function(){return i.props}]],n=0;n<t.length;n++)!function(){var r=t[n],o=r[0],a=r[1];Object.defineProperty(e,o,{configurable:!0,get:function(){return i.props||i.setProps(i.getInitialProps(),Object(d.d)()),delete e[o],e[o]=a(),e[o]}})}()}();return i.component.log("init_child"),i.setWindows(),i.listenForResize(),i.onInit=i.sendToParent(p.POST_MESSAGE.INIT,{exports:i.exports()}).then(function(e){var t=e.origin,n=e.data;return i.context=n.context,i.setProps(n.props,t),i.watchForResize(),i})["catch"](function(e){throw i.error(e),e}),i}return i(t,e),t.prototype.listenForResize=function(){var e=this;this.component.listenForResize&&(this.sendToParent(p.POST_MESSAGE.ONRESIZE,{},{fireAndForget:!0}),window.addEventListener("resize",function(){e.sendToParent(p.POST_MESSAGE.ONRESIZE,{},{fireAndForget:!0})}))},t.prototype.hasValidParentDomain=function(){return Object(s.matchDomain)(this.component.allowedParentDomains,this.getParentDomain())},t.prototype.init=function(){return this.onInit},t.prototype.getParentDomain=function(){return Object(d.d)()},t.prototype.onProps=function(e){this.onPropHandlers.push(e)},t.prototype.getParentComponentWindow=function(){return Object(d.c)()},t.prototype.getParentRenderWindow=function(){return Object(d.e)()},t.prototype.getInitialProps=function(){var e=this,t=Object(d.b)(),n=t.props;if(n.type===p.INITIAL_PROPS.RAW)n=n.value;else{if(n.type!==p.INITIAL_PROPS.UID)throw new Error("Unrecognized props type: "+n.type);var r=Object(d.c)();if(!Object(s.isSameDomain)(r)){if("file:"===window.location.protocol)throw new Error("Can not get props from file:// domain");throw new Error("Parent component window is on a different domain - expected "+Object(s.getDomain)()+" - can not retrieve props")}var o=Object(f.z)(r);if(!o)throw new Error("Can not find global for parent component - can not retrieve props");n=JSON.parse(o.props[t.uid])}if(!n)throw new Error("Initial props not found");return Object(f.k)(n,function(t){var n=t.fullKey,r=t.self,o=t.args;return e.onInit.then(function(){var t=Object(f.v)(e.props,n);if("function"!=typeof t)throw new TypeError("Expected "+n+" to be function, got "+(void 0===t?"undefined":v(t)));return t.apply(r,o)})})},t.prototype.setProps=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.props=this.props||{};var r=Object(m.a)(this.component,e,t,n);Object(f.t)(this.props,r),this.props.logLevel&&Object(f.S)(this.props.logLevel);var o=this.onPropHandlers,i=Array.isArray(o),a=0;for(o=i?o:o[Symbol.iterator]();;){var s;if(i){if(a>=o.length)break;s=o[a++]}else{if((a=o.next()).done)break;s=a.value}s.call(this,this.props)}},t.prototype.sendToParent=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Object(d.c)();if(!r)throw new Error("Can not find parent component window to message");return this.component.log("send_to_parent_"+e),Object(l.send)(r,e,t,g({domain:Object(d.d)()},n))},t.prototype.setWindows=function(){if(window.__activeXComponent__)throw this.component.createError("Can not attach multiple components to the same window");if(window.__activeXComponent__=this,!Object(d.c)())throw this.component.createError("Can not find parent window");var e=Object(d.b)();if(e.tag!==this.component.tag)throw this.component.createError("Parent is "+e.tag+" - can not attach "+this.component.tag);this.watchForClose()},t.prototype.watchForClose=function(){var e=this;window.addEventListener("unload",function(){return e.checkClose()})},t.prototype.enableAutoResize=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.width,n=void 0===t||t,r=e.height,o=void 0===r||r;this.autoResize={width:n,height:o},this.watchForResize()},t.prototype.getAutoResize=function(){var e=!1,t=!1,n=this.autoResize||this.component.autoResize;"object"===(void 0===n?"undefined":v(n))?(e=Boolean(n.width),t=Boolean(n.height)):n&&(e=!0,t=!0);return{width:e,height:t,element:n.element?Object(f.x)(n.element):window.navigator.userAgent.match(/MSIE (9|10)\./)?document.body:document.documentElement}},t.prototype.watchForResize=function(){var e=this,t=this.getAutoResize(),n=t.width,r=t.height,o=t.element;if((n||r)&&this.context!==p.CONTEXT_TYPES.POPUP&&!this.watchingForResize)return this.watchingForResize=!0,c.a["try"](function(){return f.n}).then(function(){if(!Object(f.m)(o,{width:n,height:r}))return e.resizeToElement(o,{width:n,height:r})}).then(function(){return Object(f.h)(function(){return Object(f.K)(o,{width:n,height:r}).then(function(){return e.resizeToElement(o,{width:n,height:r})})})})},t.prototype.exports=function(){var e=this;return{updateProps:function(t){var n=this;return c.a["try"](function(){return e.setProps(t,n.origin,!1)})},close:function(){return c.a["try"](function(){return e.destroy()})}}},t.prototype.resize=function(e,t){
var n=this;return c.a.resolve().then(function(){if(n.component.log("resize",{width:Object(f.W)(e),height:Object(f.W)(t)}),n.context!==p.CONTEXT_TYPES.POPUP)return n.sendToParent(p.POST_MESSAGE.RESIZE,{width:e,height:t}).then(f.I)})},t.prototype.resizeToElement=function(e,t){var n=this,r=t.width,o=t.height,i=[];return function a(){return c.a["try"](function(){var t=Object(f.Z)(e,{width:r,height:o}),s=t.check().dimensions,l=i,c=Array.isArray(l),u=0;for(l=c?l:l[Symbol.iterator]();;){var d;if(c){if(u>=l.length)break;d=l[u++]}else{if((u=l.next()).done)break;d=u.value}var p=d,h=!r||p.width===s.width,m=!o||p.height===s.height;if(h&&m)return}return i.push({width:s.width,height:s.height}),n.resize(r?s.width:null,o?s.height:null).then(function(){if(t.check().changed)return a()})})}()},t.prototype.hide=function(){return this.sendToParent(p.POST_MESSAGE.HIDE).then(f.I)},t.prototype.show=function(){return this.sendToParent(p.POST_MESSAGE.SHOW).then(f.I)},t.prototype.userClose=function(){return this.close(p.CLOSE_REASONS.USER_CLOSED)},t.prototype.close=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p.CLOSE_REASONS.CHILD_CALL;this.component.log("close_child"),this.sendToParent(p.POST_MESSAGE.CLOSE,{reason:e})},t.prototype.checkClose=function(){this.sendToParent(p.POST_MESSAGE.CHECK_CLOSE,{},{fireAndForget:!0})},t.prototype.destroy=function(){return Object(a.c)().then(function(){window.close()})},t.prototype.focus=function(){this.component.log("focus"),window.focus()},t.prototype.error=function(e){var t=Object(f.X)(e);return this.component.logError("error",{error:t}),this.sendToParent(p.POST_MESSAGE.ERROR,{error:t}).then(f.I)},t}(u.a)},"./node_modules/xcomponent/src/component/child/props.js":function(e,t,n){"use strict";function r(e,t,n,r){var o=e.getProp(n);return o?"function"==typeof o.childDecorate?o.childDecorate(r):r:e.looseProps?r:void 0}function o(e,t,n){var o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a={},s=Object.keys(t),l=Array.isArray(s),c=0;for(s=l?s:s[Symbol.iterator]();;){var u;if(l){if(c>=s.length)break;u=s[c++]}else{if((c=s.next()).done)break;u=c.value}var d=u,f=e.getProp(d),p=t[d];f&&f.sameDomain&&n!==Object(i.getDomain)(window)||(a[d]=r(e,t,d,p),f&&f.alias&&!a[f.alias]&&(a[f.alias]=p))}if(o){var h=e.getPropNames(),m=Array.isArray(h),g=0;for(h=m?h:h[Symbol.iterator]();;){var v;if(m){if(g>=h.length)break;v=h[g++]}else{if((g=h.next()).done)break;v=g.value}var y=v;t.hasOwnProperty(y)||(a[y]=r(e,t,y,t[y]))}}return a}t.a=o;var i=n("./node_modules/cross-domain-utils/src/index.js")},"./node_modules/xcomponent/src/component/component/index.js":function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return O});var a,s,l,c,u,d,f,p=n("./node_modules/post-robot/src/index.js"),h=n("./node_modules/zalgo-promise/src/index.js"),m=n("./node_modules/cross-domain-utils/src/index.js"),g=n("./node_modules/xcomponent/src/component/base.js"),v=n("./node_modules/xcomponent/src/component/child/index.js"),y=n("./node_modules/xcomponent/src/component/parent/index.js"),b=n("./node_modules/xcomponent/src/component/delegate/index.js"),w=n("./node_modules/xcomponent/src/component/window.js"),x=n("./node_modules/xcomponent/src/constants.js"),S=n("./node_modules/xcomponent/src/drivers/index.js"),C=n("./node_modules/xcomponent/src/lib/index.js"),E=n("./node_modules/xcomponent/src/component/component/validate.js"),T=n("./node_modules/xcomponent/src/component/component/templates/index.js"),k=n("./node_modules/xcomponent/src/component/component/props.js"),j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L={angular:S.angular,angular2:S.angular2,glimmer:S.glimmer,react:S.react,vue:S.vue,script:S.script},O=(a=function(e){function t(n){r(this,t);var i=o(this,e.call(this));if(Object(E.a)(n),i.addProp(n,"tag"),i.addProp(n,"defaultLogLevel","info"),i.addProp(n,"allowedParentDomains",x.WILDCARD),Object(C.S)(i.defaultLogLevel),t.components[i.tag])throw new Error("Can not register multiple components with the same tag");return i.addProp(n,"name",i.tag.replace(/-/g,"_")),i.builtinProps=Object(k.a)(),i.props=n.props||{},n.props||(i.looseProps=!0),i.addProp(n,"dimensions"),i.addProp(n,"scrolling"),i.addProp(n,"listenForResize"),i.addProp(n,"version","latest"),i.addProp(n,"defaultEnv"),i.addProp(n,"buildUrl"),i.addProp(n,"url"),i.addProp(n,"domain"),i.addProp(n,"bridgeUrl"),i.addProp(n,"bridgeDomain"),i.addProp(n,"attributes",{}),i.addProp(n,"contexts",{iframe:!0,popup:!1}),i.addProp(n,"defaultContext"),i.addProp(n,"autoResize",!1),i.addProp(n,"containerTemplate",T.a),i.addProp(n,"prerenderTemplate",T.b),i.addProp(n,"validate"),i.addProp(n,"unsafeRenderTo",!1),t.components[i.tag]=i,i.registerDrivers(),i.registerChild(),i.listenDelegate(),i}return i(t,e),t.prototype.getPropNames=function(){var e=Object.keys(this.props),t=Object.keys(this.builtinProps),n=Array.isArray(t),r=0;for(t=n?t:t[Symbol.iterator]();;){var o;if(n){if(r>=t.length)break;o=t[r++]}else{if((r=t.next()).done)break;o=r.value}var i=o;-1===e.indexOf(i)&&e.push(i)}return e},t.prototype.getProp=function(e){return this.props[e]||this.builtinProps[e]},t.prototype.registerDrivers=function(){this.driverCache={};var e=Object.keys(L),t=Array.isArray(e),n=0;for(e=t?e:e[Symbol.iterator]();;){var r;if(t){if(n>=e.length)break;r=e[n++]}else{if((n=e.next()).done)break;r=n.value}var o=r;if(0!==o.indexOf("_")){var i=L[o].global();i&&this.driver(o,i)}}},t.prototype.driver=function(e,t){if(!L[e])throw new Error("Could not find driver for framework: "+e);return this.driverCache[e]||(this.driverCache[e]=L[e].register(this,t)),this.driverCache[e]},t.prototype.registerChild=function(){var e=this;return h.a["try"](function(){if(e.isChild())return new v.a(e)})},t.prototype.listenDelegate=function(){var e=this;Object(p.on)(x.POST_MESSAGE.ALLOW_DELEGATE+"_"+this.name,function(){return!0}),Object(p.on)(x.POST_MESSAGE.DELEGATE+"_"+this.name,function(t){var n=t.source,r=t.origin,o=t.data,i=e.getDomain(null,o.env||e.defaultEnv);if(!i)throw new Error("Could not determine domain to allow remote render");if(!Object(m.matchDomain)(i,r))throw new Error("Can not render from "+r+" - expected "+i.toString());var a=e.delegate(n,o.options);return{overrides:a.getOverrides(o.context),destroy:function(){return a.destroy()}}})},t.prototype.canRenderTo=function(e){return Object(p.send)(e,x.POST_MESSAGE.ALLOW_DELEGATE+"_"+this.name).then(function(e){return e.data})["catch"](function(){return!1})},t.prototype.getValidDomain=function(e){if(e){var t=Object(m.getDomainFromUrl)(e);if("string"==typeof this.domain&&t===this.domain)return t;var n=this.domain;if(n&&"object"===(void 0===n?"undefined":j(n))&&!(n instanceof RegExp)){var r=Object.keys(n),o=Array.isArray(r),i=0;for(r=o?r:r[Symbol.iterator]();;){var a;if(o){if(i>=r.length)break;a=r[i++]}else{if((i=r.next()).done)break;a=i.value}if("test"!==a&&t===n[a])return t}}}},t.prototype.getDomain=function(e,t){var n=this.getForEnv(this.domain,t);if(n)return n;if(n=this.getValidDomain(e))return n;var r=this.getForEnv(this.url,t);return r?Object(m.getDomainFromUrl)(r):e?Object(m.getDomainFromUrl)(e):void 0},t.prototype.getBridgeUrl=function(e){return this.getForEnv(this.bridgeUrl,e)},t.prototype.getForEnv=function(e,t){if(e){if("string"==typeof e||e instanceof RegExp)return e;if(t||(t=this.defaultEnv),t)return t&&"object"===(void 0===e?"undefined":j(e))&&e[t]?e[t]:void 0}},t.prototype.getBridgeDomain=function(e){var t=this.getForEnv(this.bridgeDomain,e);if(t)return t;var n=this.getBridgeUrl(e);return n?Object(m.getDomainFromUrl)(n):void 0},t.prototype.getUrl=function(e,t){var n=this.getForEnv(this.url,e);if(n)return n;if(this.buildUrl)return this.buildUrl(t);throw new Error("Unable to get url")},t.prototype.isXComponent=function(){return Object(w.g)()},t.prototype.isChild=function(){return Object(w.g)()&&Object(w.b)().tag===this.tag},t.prototype.createError=function(e,t){return new Error("["+(t||this.tag)+"] "+e)},t.prototype.init=function(e,t,n){return new y.a(this,this.getRenderContext(t,n),{props:e})},t.prototype.delegate=function(e,t){return new b.a(this,e,t)},t.prototype.validateRenderContext=function(e,t){if(e&&!this.contexts[e])throw new Error("["+this.tag+"] Can not render to "+e);if(!t&&e===x.CONTEXT_TYPES.IFRAME)throw new Error("["+this.tag+"] Context type "+x.CONTEXT_TYPES.IFRAME+" requires an element selector")},t.prototype.getDefaultContext=function(){if(this.defaultContext)return this.defaultContext;if(this.contexts[x.CONTEXT_TYPES.IFRAME])return x.CONTEXT_TYPES.IFRAME;if(this.contexts[x.CONTEXT_TYPES.POPUP])return x.CONTEXT_TYPES.POPUP;throw new Error("Can not determine default context")},t.prototype.getRenderContext=function(e,t){return e=e||this.getDefaultContext(),this.validateRenderContext(e,t),e},t.prototype.render=function(e,t){var n=this;return h.a["try"](function(){return new y.a(n,n.getRenderContext(null,t),{props:e}).render(t)})},t.prototype.renderIframe=function(e,t){var n=this;return h.a["try"](function(){return new y.a(n,n.getRenderContext(x.CONTEXT_TYPES.IFRAME,t),{props:e}).render(t)})},t.prototype.renderPopup=function(e){var t=this;return h.a["try"](function(){return new y.a(t,t.getRenderContext(x.CONTEXT_TYPES.POPUP),{props:e}).render()})},t.prototype.renderTo=function(e,t,n){var r=this;return h.a["try"](function(){return new y.a(r,r.getRenderContext(null,n),{props:t}).renderTo(e,n)})},t.prototype.renderIframeTo=function(e,t,n){var r=this;return h.a["try"](function(){return new y.a(r,r.getRenderContext(x.CONTEXT_TYPES.IFRAME,n),{props:t}).renderTo(e,n)})},t.prototype.renderPopupTo=function(e,t){var n=this;return h.a["try"](function(){return new y.a(n,n.getRenderContext(x.CONTEXT_TYPES.POPUP),{props:t}).renderTo(e)})},t.prototype.prerender=function(e,t){var n=new y.a(this,this.getRenderContext(null,t),{props:e});return n.prefetch(),{render:function(e,t){return e&&n.updateProps(e),n.render(t)},renderTo:function(e,t,r){return t&&n.updateProps(t),n.renderTo(e,r)},get html(){return n.html},set html(e){n.html=e}}},t.prototype.log=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(C.C)(this.name,e,t)},t.prototype.logWarning=function(e,t){Object(C._1)(this.name,e,t)},t.prototype.logError=function(e,t){Object(C.r)(this.name,e,t)},t.getByTag=function(e){return t.components[e]},t}(g.a),s=a.prototype,l="getPropNames",c=[C.G],u=Object.getOwnPropertyDescriptor(a.prototype,"getPropNames"),d=a.prototype,f={},Object.keys(u).forEach(function(e){f[e]=u[e]}),f.enumerable=!!f.enumerable,f.configurable=!!f.configurable,("value"in f||f.initializer)&&(f.writable=!0),f=c.slice().reverse().reduce(function(e,t){return t(s,l,e)||e},f),d&&void 0!==f.initializer&&(f.value=f.initializer?f.initializer.call(d):void 0,f.initializer=void 0),void 0===f.initializer&&(Object.defineProperty(s,l,f),f=null),a);O.components={}},"./node_modules/xcomponent/src/component/component/props.js":function(e,t,n){"use strict";function r(){return{env:{type:"string",required:!1,queryParam:!0,def:function(){return this.defaultEnv}},uid:{type:"string",def:function(){return Object(o._0)()},queryParam:!0},logLevel:{type:"string",required:!1,queryParam:!0,def:function(){return this.defaultLogLevel}},url:{type:"string",required:!1,promise:!0,sendToChild:!1},dimensions:{type:"object",required:!1},version:{type:"string",required:!1,queryParam:!0,def:function(){return this.version}},timeout:{type:"number",required:!1,sendToChild:!1},onDisplay:{type:"function",required:!1,noop:!0,promisify:!0,memoize:!0,sendToChild:!1},onEnter:{type:"function",required:!1,noop:!0,promisify:!0,sendToChild:!1},onRender:{type:"function",required:!1,noop:!0,promisify:!0,sendToChild:!1},onClose:{type:"function",required:!1,noop:!0,once:!0,promisify:!0,sendToChild:!1},onTimeout:{type:"function",required:!1,memoize:!0,promisify:!0,sendToChild:!1,def:function(){return function(e){if(this.props.onError)return this.props.onError(e);throw e}}},onError:{type:"function",required:!1,promisify:!0,sendToChild:!0,once:!0,def:function(){return function(e){setTimeout(function(){throw e})}}}}}t.a=r;var o=(n("./node_modules/zalgo-promise/src/index.js"),n("./node_modules/xcomponent/src/lib/index.js")),i=n("./node_modules/xcomponent/src/types.js");n.n(i)},"./node_modules/xcomponent/src/component/component/templates/component.jsx":function(e,t,n){"use strict";function r(e){var t=e.jsxDom;return t("html",null,t("head",null,t("style",null,"\n                        html, body {\n                            width: 100%;\n                            height: 100%;\n                            overflow: hidden;\n                            top: 0;\n                            left: 0;\n                            margin: 0;\n                            text-align: center;\n                        }\n\n                        .spinner {\n                            position: absolute;\n                            max-height: 60vmin;\n                            max-width: 60vmin;\n                            height: 40px;\n                            width: 40px;\n                            top: 50%;\n                            left: 50%;\n                            transform: translateX(-50%) translateY(-50%);\n                            z-index: 10;\n                        }\n\n                        .spinner .loader {\n                            height: 100%;\n                            width: 100%;\n                            box-sizing: border-box;\n                            border: 3px solid rgba(0, 0, 0, .2);\n                            border-top-color: rgba(33, 128, 192, 0.8);\n                            border-radius: 100%;\n                            animation: rotation .7s infinite linear;\n\n                        }\n\n                        @keyframes rotation {\n                            from {\n                                transform: rotate(0deg)\n                            }\n                            to {\n                                transform: rotate(359deg)\n                            }\n                        }\n                    ")),t("body",null,t("div",{"class":"spinner"},t("div",{id:"loader","class":"loader"}))))}t.a=r,n("./node_modules/xcomponent/src/component/parent/index.js")},"./node_modules/xcomponent/src/component/component/templates/container.jsx":function(e,t,n){"use strict";function r(e){var t=e.id,n=e.tag,r=e.context,o=e.CLASS,i=e.outlet,a=e.jsxDom,s=e.dimensions,l=s.width,c=s.height;return a("div",{id:t,"class":o.XCOMPONENT+" "+o.XCOMPONENT+"-tag-"+n+" "+o.XCOMPONENT+"-context-"+r},a("style",null,"\n                    #"+t+", #"+t+" > ."+o.OUTLET+" {\n                        width: "+l+";\n                        height: "+c+";\n                    }\n\n                    #"+t+" > ."+o.OUTLET+" {\n                        display: inline-block;\n                        position: relative;\n                    }\n\n                    #"+t+" > ."+o.OUTLET+" > iframe {\n                        height: 100%;\n                        width: 100%;\n                        position: absolute;\n                        top: 0;\n                        left: 0;\n                        transition: opacity .2s ease-in-out;\n                    }\n\n                    #"+t+" > ."+o.OUTLET+" > iframe."+o.VISIBLE+" {\n                        opacity: 1;\n                    }\n\n                    #"+t+" > ."+o.OUTLET+" > iframe."+o.INVISIBLE+" {\n                        opacity: 0;\n                    }\n                "),i)}t.a=r,n("./node_modules/xcomponent/src/component/parent/index.js")},"./node_modules/xcomponent/src/component/component/templates/index.js":function(e,t,n){"use strict";var r=n("./node_modules/xcomponent/src/component/component/templates/container.jsx");n.d(t,"a",function(){return r.a});var o=n("./node_modules/xcomponent/src/component/component/templates/component.jsx");n.d(t,"b",function(){return o.a})},"./node_modules/xcomponent/src/component/component/validate.js":function(e,t,n){"use strict";function r(e){if(e.props&&"object"!==s(e.props))throw new Error("Expected options.props to be an object");if(e.props){var t=Object.keys(e.props),n=Array.isArray(t),r=0;for(t=n?t:t[Symbol.iterator]();;){var o;if(n){if(r>=t.length)break;o=t[r++]}else{if((r=t.next()).done)break;o=r.value}var a=o,l=e.props[a];if(!l||"object"!==(void 0===l?"undefined":s(l)))throw new Error("Expected options.props."+a+" to be an object");if(!l.type)throw new Error("Expected prop.type");if(-1===i.PROP_TYPES_LIST.indexOf(l.type))throw new Error("Expected prop.type to be one of "+i.PROP_TYPES_LIST.join(", "));if(l.required&&l.def)throw new Error("Required prop can not have a default value")}}}function o(e){if(!e)throw new Error("Expecred options to be passed");if(!e.tag||!e.tag.match(/^[a-z0-9-]+$/))throw new Error("Invalid options.tag: "+e.tag);if(r(e),e.dimensions){if(e.dimensions&&!Object(a.E)(e.dimensions.width)&&!Object(a.D)(e.dimensions.width))throw new Error("Expected options.dimensions.width to be a px or % string value");if(e.dimensions&&!Object(a.E)(e.dimensions.height)&&!Object(a.D)(e.dimensions.height))throw new Error("Expected options.dimensions.height to be a px or % string value")}if(e.contexts){if(e.contexts.popup)throw new Error("Popups not supported in this build -- please use the full xcomponent.js build");var t=!1,n=Object.keys(e.contexts),o=Array.isArray(n),l=0;for(n=o?n:n[Symbol.iterator]();;){var c;if(o){if(l>=n.length)break;c=n[l++]}else{if((l=n.next()).done)break;c=l.value}var u=c;if(-1===i.CONTEXT_TYPES_LIST.indexOf(u))throw new Error("Unsupported context type: "+u);(e.contexts&&e.contexts[u]||e.contexts&&void 0===e.contexts[u])&&(t=!0)}if(!t)throw new Error("No context type is enabled")}if(e.defaultContext){if(-1===i.CONTEXT_TYPES_LIST.indexOf(e.defaultContext))throw new Error("Unsupported context type: "+(e.defaultContext||"unknown"));if(e.contexts&&e.defaultContext&&!e.contexts[e.defaultContext])throw new Error("Disallowed default context type: "+(e.defaultContext||"unknown"))}if(e.url&&e.buildUrl)throw new Error("Can not pass both options.url and options.buildUrl");if(e.defaultEnv){if("string"!=typeof e.defaultEnv)throw new TypeError("Expected options.defaultEnv to be a string");if(!e.buildUrl&&"object"!==s(e.url))throw new Error("Expected options.url to be an object mapping env->url");if(e.url&&"object"===s(e.url)&&!e.url[e.defaultEnv])throw new Error("No url found for default env: "+e.defaultEnv)}if(e.url&&"object"===s(e.url)){if(!e.defaultEnv)throw new Error("Must pass options.defaultEnv with env->url mapping");var d=Object.keys(e.url),f=Array.isArray(d),p=0;for(d=f?d:d[Symbol.iterator]();;){var h;if(f){if(p>=d.length)break;h=d[p++]}else{if((p=d.next()).done)break;h=p.value}var m=h;if(!e.url[m])throw new Error("No url specified for env: "+m)}}if(e.prerenderTemplate&&"function"!=typeof e.prerenderTemplate)throw new Error("Expected options.prerenderTemplate to be a function");if(e.containerTemplate&&"function"!=typeof e.containerTemplate)throw new Error("Expected options.containerTemplate to be a function")}t.a=o;var i=n("./node_modules/xcomponent/src/constants.js"),a=n("./node_modules/xcomponent/src/lib/index.js"),s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}},"./node_modules/xcomponent/src/component/delegate/index.js":function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return f});var a=n("./node_modules/cross-domain-utils/src/index.js"),s=(n("./node_modules/zalgo-promise/src/index.js"),n("./node_modules/xcomponent/src/component/base.js")),l=n("./node_modules/xcomponent/src/component/parent/index.js"),c=n("./node_modules/xcomponent/src/component/parent/drivers.js"),u=n("./node_modules/xcomponent/src/lib/index.js"),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=function(e){function t(n,i,a){r(this,t);var s=o(this,e.call(this));s.component=n,s.clean.set("source",i),s.context=a.context,s.props={uid:a.props.uid,dimensions:a.props.dimensions,onClose:a.props.onClose,onDisplay:a.props.onDisplay};var d=n.getPropNames(),f=Array.isArray(d),p=0;for(d=f?d:d[Symbol.iterator]();;){var h;if(f){if(p>=d.length)break;h=d[p++]}else{if((p=d.next()).done)break;h=p.value}var m=h;s.component.getProp(m).allowDelegate&&(s.props[m]=a.props[m])}s.focus=function(){return a.overrides.focus.call(s)},s.clean.register("destroyFocusOverride",function(){s.focus=u.I}),s.userClose=a.overrides.userClose,s.getDomain=a.overrides.getDomain,s.error=a.overrides.error,s.on=a.overrides.on;var g=c.a[a.context].delegateOverrides,v=Object.keys(g),y=Array.isArray(v),b=0;for(v=y?v:v[Symbol.iterator]();;){var w;if(y){if(b>=v.length)break;w=v[b++]}else{if((b=v.next()).done)break;w=b.value}var x=w;s[x]=l.a.prototype[x]}return s.childWindowName=a.childWindowName,l.a.prototype.registerActiveComponent.call(s),s.watchForClose(),s}return i(t,e),t.prototype.watchForClose=function(){var e=this,t=Object(a.onCloseWindow)(this.source,function(){return e.destroy()},3e3);this.clean.register("destroyCloseWindowListener",t.cancel)},t.prototype.getOverrides=function(e){var t=c.a[e].delegateOverrides,n={},r=this,o=Object.keys(t),i=Array.isArray(o),a=0;for(o=i?o:o[Symbol.iterator]();;){var s;if("break"===function(){if(i){if(a>=o.length)return"break";s=o[a++]}else{if((a=o.next()).done)return"break";s=a.value}var e=s;n[e]=function(){return l.a.prototype[e].apply(r,arguments)}}())break}return n},t.prototype.destroy=function(){return this.clean.all()},d(t,[{key:"driver",get:function(){if(!this.context)throw new Error("Context not set");return c.a[this.context]}}]),t}(s.a)},"./node_modules/xcomponent/src/component/index.js":function(e,t,n){"use strict";var r=n("./node_modules/xcomponent/src/component/component/index.js");n.d(t,"a",function(){return r.a}),n("./node_modules/xcomponent/src/component/parent/index.js"),n("./node_modules/xcomponent/src/component/child/index.js")},"./node_modules/xcomponent/src/component/parent/drivers.js":function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n("./node_modules/zalgo-promise/src/index.js"),o=n("./node_modules/post-robot/src/index.js"),i=n("./node_modules/cross-domain-utils/src/index.js"),a=n("./node_modules/xcomponent/src/lib/index.js"),s=n("./node_modules/xcomponent/src/constants.js"),l=n("./node_modules/xcomponent/src/component/window.js"),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u={};u[s.CONTEXT_TYPES.IFRAME]={focusable:!1,renderedIntoContainerTemplate:!0,allowResize:!0,openOnClick:!1,needsBridge:!1,open:function(e){var t=this,n=this.component.attributes.iframe||{};return this.iframe=Object(a.B)({url:e,attributes:c({name:this.childWindowName,title:this.component.name,scrolling:this.component.scrolling?"yes":"no"},n),"class":[s.CLASS_NAMES.COMPONENT_FRAME,s.CLASS_NAMES.INVISIBLE]},this.element),Object(a.f)(this.iframe).then(function(e){t.window=e;var n=function(){return r.a["try"](function(){return t.props.onClose(s.CLOSE_REASONS.CLOSE_DETECTED)})["finally"](function(){return t.destroy()})},i=Object(a._2)(t.iframe,n),l=Object(a._2)(t.element,n);t.clean.register("destroyWindow",function(){i.cancel(),l.cancel(),Object(o.cleanUpWindow)(t.window),delete t.window,t.iframe&&(Object(a.l)(t.iframe),delete t.iframe)})})},openPrerender:function(){var e=this,t=this.component.attributes.iframe||{};return this.prerenderIframe=Object(a.B)({attributes:c({name:"__prerender__"+this.childWindowName,scrolling:this.component.scrolling?"yes":"no"},t),"class":[s.CLASS_NAMES.PRERENDER_FRAME,s.CLASS_NAMES.VISIBLE]},this.element),Object(a.f)(this.prerenderIframe).then(function(t){e.prerenderWindow=t,e.clean.register("destroyPrerender",function(){e.prerenderIframe&&(Object(a.l)(e.prerenderIframe),delete e.prerenderIframe)})})},switchPrerender:function(){var e=this;Object(a.a)(this.prerenderIframe,s.CLASS_NAMES.INVISIBLE),Object(a.P)(this.prerenderIframe,s.CLASS_NAMES.VISIBLE),Object(a.a)(this.iframe,s.CLASS_NAMES.VISIBLE),Object(a.P)(this.iframe,s.CLASS_NAMES.INVISIBLE),setTimeout(function(){e.prerenderIframe&&Object(a.l)(e.prerenderIframe)},1e3)},delegateOverrides:{openContainer:s.DELEGATE.CALL_DELEGATE,destroyComponent:s.DELEGATE.CALL_DELEGATE,destroyContainer:s.DELEGATE.CALL_DELEGATE,cancelContainerEvents:s.DELEGATE.CALL_DELEGATE,createPrerenderTemplate:s.DELEGATE.CALL_DELEGATE,elementReady:s.DELEGATE.CALL_DELEGATE,showContainer:s.DELEGATE.CALL_DELEGATE,showComponent:s.DELEGATE.CALL_DELEGATE,hideContainer:s.DELEGATE.CALL_DELEGATE,hideComponent:s.DELEGATE.CALL_DELEGATE,hide:s.DELEGATE.CALL_DELEGATE,show:s.DELEGATE.CALL_DELEGATE,resize:s.DELEGATE.CALL_DELEGATE,loadUrl:s.DELEGATE.CALL_DELEGATE,hijackSubmit:s.DELEGATE.CALL_DELEGATE,openPrerender:s.DELEGATE.CALL_DELEGATE,switchPrerender:s.DELEGATE.CALL_DELEGATE,renderTemplate:s.DELEGATE.CALL_ORIGINAL,openContainerFrame:s.DELEGATE.CALL_ORIGINAL,getOutlet:s.DELEGATE.CALL_ORIGINAL,open:function(e,t){return function(){var e=this;return t.apply(this,arguments).then(function(){if(e.clean.set("window",Object(i.findFrameByName)(Object(l.c)(),e.childWindowName)),!e.window)throw new Error("Unable to find parent component iframe window")})}}},resize:function(e,t){e&&(this.container.style.width=Object(a.Y)(e),this.element.style.width=Object(a.Y)(e)),t&&(this.container.style.height=Object(a.Y)(t),this.element.style.height=Object(a.Y)(t))},show:function(){Object(a.V)(this.element)},hide:function(){Object(a.A)(this.element)},loadUrl:function(e){this.iframe.setAttribute("src",e)}}},"./node_modules/xcomponent/src/component/parent/index.js":function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t,n,r,o){var i={};return Object.keys(r).forEach(function(e){i[e]=r[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}n.d(t,"a",function(){return C});var s,l=n("./node_modules/beaver-logger/client/index.js"),c=n("./node_modules/post-robot/src/index.js"),u=n("./node_modules/cross-domain-utils/src/index.js"),d=n("./node_modules/zalgo-promise/src/index.js"),f=n("./node_modules/xcomponent/src/component/base.js"),p=n("./node_modules/xcomponent/src/component/window.js"),h=n("./node_modules/xcomponent/src/lib/index.js"),m=n("./node_modules/xcomponent/src/constants.js"),g=n("./node_modules/xcomponent/src/error.js"),v=n("./node_modules/xcomponent/src/component/parent/drivers.js"),y=n("./node_modules/xcomponent/src/component/parent/validate.js"),b=n("./node_modules/xcomponent/src/component/parent/props.js"),w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();h.y.props=h.y.props||{},h.y.windows=h.y.windows||{};var C=(a((s=function(e){function t(n,i,a){var s=a.props;r(this,t);var l=o(this,e.call(this));return l.component=n,l.validateParentDomain(),l.context=i,l.setProps(s),l.props.logLevel&&Object(h.S)(l.props.logLevel),l.childWindowName=l.buildChildWindowName({renderTo:window}),l.registerActiveComponent(),l.component.log("construct_parent"),l.watchForUnload(),l.onInit=new d.a,l.onInit["catch"](function(e){return l.error(e)}),l}return i(t,e),t.prototype.render=function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.tryInit(function(){t.component.log("render_"+t.context,{context:t.context,element:e,loadUrl:Object(h.W)(n)});var r={};return r.onRender=t.props.onRender(),r.getDomain=t.getDomain(),r.elementReady=d.a["try"](function(){if(e)return t.elementReady(e)}),r.openContainer=r.elementReady.then(function(){return t.openContainer(e)}),r.showContainer=r.openContainer.then(function(){return t.showContainer()}),r.openPrerender=r.openContainer.then(function(){return t.openPrerender()}),r.switchPrerender=d.a.all([r.openPrerender,t.onInit]).then(function(){return t.switchPrerender()}),r.open=t.driver.openOnClick?t.open():r.openContainer.then(function(){return t.open()}),r.listen=d.a.all([r.getDomain,r.open]).then(function(e){var n=e[0];t.listen(t.window,n)}),r.watchForClose=r.open.then(function(){return t.watchForClose()}),r.linkDomain=d.a.all([r.getDomain,r.open]).then(function(e){var n=e[0];if(c.bridge&&"string"==typeof n)return c.bridge.linkUrl(t.window,n)}),t.html||(r.createPrerenderTemplate=r.openPrerender.then(function(){return t.createPrerenderTemplate()}),r.showComponent=r.createPrerenderTemplate.then(function(){return t.showComponent()})),r.openBridge=d.a.all([r.getDomain,r.open]).then(function(e){var n=e[0];return t.openBridge("string"==typeof n?n:null)}),t.html?r.loadHTML=r.open.then(function(){return t.loadHTML()}):n&&(r.buildUrl=t.buildUrl(),r.loadUrl=d.a.all([r.buildUrl,r.open,r.linkDomain,r.listen,r.open,r.openBridge,r.createPrerenderTemplate]).then(function(e){var n=e[0];return t.loadUrl(n)}),r.runTimeout=r.loadUrl.then(function(){return t.runTimeout()})),d.a.hash(r)}).then(function(){return t.props.onEnter()}).then(function(){return t})},t.prototype.getOutlet=function(){var e=document.createElement("div");return Object(h.a)(e,m.CLASS_NAMES.OUTLET),e},t.prototype.validateParentDomain=function(){var e=Object(u.getDomain)();if(!Object(u.matchDomain)(this.component.allowedParentDomains,e))throw new g.c("Can not be rendered by domain: "+e)},t.prototype.renderTo=function(e,t){var n=this;return this.tryInit(function(){if(e===window)return n.render(t);if(!Object(u.isSameTopWindow)(window,e))throw new Error("Can only renderTo an adjacent frame");if(t&&"string"!=typeof t)throw new Error("Element passed to renderTo must be a string selector, got "+(void 0===t?"undefined":x(t))+" "+t);return n.checkAllowRenderTo(e),n.component.log("render_"+n.context+"_to_win",{element:Object(h.W)(t),context:n.context}),n.childWindowName=n.buildChildWindowName({renderTo:e}),n.delegate(e),n.render(t)})},t.prototype.prefetch=function(){var e=this;return d.a["try"](function(){e.html=e.buildUrl().then(function(e){
return Object(h.N)(e).then(function(t){return'\n                        <base href="'+e.split("/").slice(0,3).join("/")+'">\n\n                        '+t+"\n\n                        <script>\n                            if (window.history && window.history.pushState) {\n                                window.history.pushState({}, '', '/"+e.split("/").slice(3).join("/")+"');\n                            }\n                        </script>\n                    "})})})},t.prototype.loadHTML=function(){var e=this;return d.a["try"](function(){if(!e.html)throw new Error("Html not prefetched");return e.html.then(function(t){return Object(h._4)(e.window,t)})})},t.prototype.checkAllowRenderTo=function(e){if(!e)throw this.component.createError("Must pass window to renderTo");if(!Object(u.isSameDomain)(e)){var t=Object(u.getDomain)(),n=this.component.getDomain(null,this.props.env);if(!n)throw new Error("Could not determine domain to allow remote render");if(!Object(u.matchDomain)(n,t))throw new Error("Can not render remotely to "+n.toString()+" - can only render to "+t)}},t.prototype.registerActiveComponent=function(){var e=this;t.activeComponents.push(this),this.clean.register(function(){t.activeComponents.splice(t.activeComponents.indexOf(e),1)})},t.prototype.getComponentParentRef=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;if(this.context===m.CONTEXT_TYPES.POPUP)return{ref:m.WINDOW_REFERENCES.OPENER};if(e===window)return Object(u.isTop)(window)?{ref:m.WINDOW_REFERENCES.TOP}:{ref:m.WINDOW_REFERENCES.PARENT,distance:Object(u.getDistanceFromTop)(window)};var t=Object(h._0)();return h.y.windows[t]=window,this.clean.register(function(){delete h.y.windows[t]}),{ref:m.WINDOW_REFERENCES.GLOBAL,uid:t}},t.prototype.getRenderParentRef=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;if(e===window)return this.getComponentParentRef(e);var t=Object(h._0)();return h.y.windows[t]=e,this.clean.register(function(){delete h.y.windows[t]}),{ref:m.WINDOW_REFERENCES.GLOBAL,uid:t}},t.prototype.buildChildWindowName=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).renderTo,t=void 0===e?window:e,n=Object(u.isSameDomain)(t),r=Object(h._0)(),o=this.component.tag,i=Object(h.R)(this.getPropsForChild()),a=this.getComponentParentRef(t),s=this.getRenderParentRef(t),l=!n&&!this.component.unsafeRenderTo?{type:m.INITIAL_PROPS.UID,uid:r}:{type:m.INITIAL_PROPS.RAW,value:i};return l.type===m.INITIAL_PROPS.UID&&(h.y.props[r]=JSON.stringify(i),this.clean.register(function(){delete h.y.props[r]})),Object(p.a)(this.component.name,this.component.version,{uid:r,tag:o,componentParent:a,renderParent:s,props:l})},t.prototype.sendToParent=function(e,t){if(!Object(p.c)())throw new Error("Can not find parent component window to message");return this.component.log("send_to_parent_"+e),Object(c.send)(Object(p.c)(),e,t,{domain:Object(p.d)()})},t.prototype.setProps=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];Object(y.a)(this.component,e,t),this.component.validate&&this.component.validate(this.component,e),this.props=this.props||{},Object(h.t)(this.props,Object(b.a)(this.component,this,e))},t.prototype.buildUrl=function(){var e=this;return d.a.all([this.props.url,Object(b.b)(w({},this.component.props,this.component.builtinProps),this.props)]).then(function(t){var n=t[0],r=t[1];return n&&!e.component.getValidDomain(n)?n:d.a["try"](function(){return n||e.component.getUrl(e.props.env,e.props)}).then(function(e){return r[m.XCOMPONENT]="1",Object(h.u)(e,{query:r})})})},t.prototype.getDomain=function(){var e=this;return d.a["try"](function(){return e.props.url}).then(function(t){return e.component.getDomain(t,e.props.env)||(e.component.buildUrl?d.a["try"](function(){return e.component.buildUrl(e.props)}).then(function(t){return e.component.getDomain(t,e.props.env)}):void 0)}).then(function(e){if(!e)throw new Error("Could not determine domain");return e})},t.prototype.getPropsForChild=function(){var e={},t=Object.keys(this.props),n=Array.isArray(t),r=0;for(t=n?t:t[Symbol.iterator]();;){var o;if(n){if(r>=t.length)break;o=t[r++]}else{if((r=t.next()).done)break;o=r.value}var i=o,a=this.component.getProp(i);a&&!1===a.sendToChild||(e[i]=this.props[i])}return e},t.prototype.updateProps=function(e){var t=this;return this.setProps(e,!1),this.onInit.then(function(){if(t.childExports)return t.childExports.updateProps(t.getPropsForChild());throw new Error("Child exports were not available")})},t.prototype.openBridge=function(e){var t=this;return d.a["try"](function(){if(c.bridge&&t.driver.needsBridge){var n={win:t.window};e&&(n.domain=e);var r=c.bridge.needsBridge(n),o=t.component.getBridgeUrl(t.props.env);if(o){o=Object(h.u)(o,{query:{version:t.component.version}});var i=t.component.getBridgeDomain(t.props.env);if(!i)throw new Error("Can not determine domain for bridge");return r?c.bridge.openBridge(o,i).then(function(e){if(e)return e}):void 0}if(r&&e&&!c.bridge.hasBridge(e,e))throw new Error("Bridge url needed to render "+t.context)}})},t.prototype.open=function(){var e=this;return d.a["try"](function(){return e.component.log("open_"+e.context,{windowName:e.childWindowName}),e.driver.open.call(e)})},t.prototype.openPrerender=function(){var e=this;return d.a["try"](function(){if(e.component.prerenderTemplate)return e.driver.openPrerender.call(e)})},t.prototype.switchPrerender=function(){var e=this;return d.a["try"](function(){if(e.prerenderWindow&&e.driver.switchPrerender)return e.driver.switchPrerender.call(e)})},t.prototype.elementReady=function(e){return Object(h.p)(e).then(h.I)},t.prototype.delegate=function(e){var t=this;this.component.log("delegate_"+this.context);var n={uid:this.props.uid,dimensions:this.props.dimensions,onClose:this.props.onClose,onDisplay:this.props.onDisplay},r=this.component.getPropNames(),o=Array.isArray(r),i=0;for(r=o?r:r[Symbol.iterator]();;){var a;if(o){if(i>=r.length)break;a=r[i++]}else{if((i=r.next()).done)break;a=i.value}var s=a;this.component.getProp(s).allowDelegate&&(n[s]=this.props[s])}var l=Object(c.send)(e,m.POST_MESSAGE.DELEGATE+"_"+this.component.name,{context:this.context,env:this.props.env,options:{context:this.context,childWindowName:this.childWindowName,props:n,overrides:{focus:function(){return t.focus()},userClose:function(){return t.userClose()},getDomain:function(){return t.getDomain()},error:function(e){return t.error(e)},on:function(e,n){return t.on(e,n)}}}}).then(function(e){var n=e.data;return t.clean.register(n.destroy),n})["catch"](function(e){throw new Error("Unable to delegate rendering. Possibly the component is not loaded in the target window.\n\n"+Object(h.X)(e))}),u=this.driver.delegateOverrides;var d=Object.keys(u),f=Array.isArray(d),p=0;e:for(d=f?d:d[Symbol.iterator]();;){var g;switch(function(){if(f){if(p>=d.length)return"break";g=d[p++]}else{if((p=d.next()).done)return"break";g=p.value}var e=g,n=u[e];if(n===m.DELEGATE.CALL_ORIGINAL)return"continue";var r=t[e];t[e]=function(){var t=this,o=arguments;return l.then(function(i){var a=i.overrides[e];if(n===m.DELEGATE.CALL_DELEGATE)return a.apply(t,o);if("function"==typeof n)return n(r,a).apply(t,o);throw new Error("Expected delgate to be CALL_ORIGINAL, CALL_DELEGATE, or factory method")})}}()){case"break":break e;case"continue":continue}}},t.prototype.watchForClose=function(){var e=this,t=Object(u.onCloseWindow)(this.window,function(){return e.component.log("detect_close_child"),d.a["try"](function(){return e.props.onClose(m.CLOSE_REASONS.CLOSE_DETECTED)})["finally"](function(){return e.destroy()})},3e3);this.clean.register("destroyCloseWindowListener",t.cancel)},t.prototype.watchForUnload=function(){var e=this,t=Object(h.L)(function(){e.component.log("navigate_away"),Object(l.c)(),e.destroyComponent()}),n=Object(h.b)(window,"unload",t);this.clean.register("destroyUnloadWindowListener",n.cancel)},t.prototype.loadUrl=function(e){var t=this;return d.a["try"](function(){var n;(t.component.log("load_url"),window.location.href.split("#")[0]===e.split("#")[0])&&(e=Object(h.u)(e,{query:(n={},n[Object(h._0)()]="1",n)}));return t.driver.loadUrl.call(t,e)})},t.prototype.hijack=function(e){e.target=this.childWindowName},t.prototype.runTimeout=function(){var e=this,t=this.props.timeout;if(t){var n=this.timeout=setTimeout(function(){e.component.log("timed_out",{timeout:t.toString()});var n=e.component.createError("Loading component timed out after "+t+" milliseconds");e.onInit.reject(n),e.props.onTimeout(n)},t);this.clean.register(function(){clearTimeout(n),delete e.timeout})}},t.prototype.listeners=function(){var e;return(e={})[m.POST_MESSAGE.INIT]=function(e,t){return this.childExports=t.exports,this.onInit.resolve(this),this.timeout&&clearTimeout(this.timeout),{props:this.getPropsForChild(),context:this.context}},e[m.POST_MESSAGE.CLOSE]=function(e,t){this.close(t.reason)},e[m.POST_MESSAGE.CHECK_CLOSE]=function(){this.checkClose()},e[m.POST_MESSAGE.RESIZE]=function(e,t){var n=this;return d.a["try"](function(){if(n.driver.allowResize)return n.resize(t.width,t.height)})},e[m.POST_MESSAGE.ONRESIZE]=function(){this.event.trigger("resize")},e[m.POST_MESSAGE.HIDE]=function(){this.hide()},e[m.POST_MESSAGE.SHOW]=function(){this.show()},e[m.POST_MESSAGE.ERROR]=function(e,t){this.error(new Error(t.error))},e},t.prototype.resize=function(e,t){var n=this,r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).waitForTransition,o=void 0===r||r;return d.a["try"](function(){if(n.component.log("resize",{height:Object(h.W)(t),width:Object(h.W)(e)}),n.driver.resize.call(n,e,t),o&&(n.element||n.iframe)){var r=void 0;return n.element&&(r=Object(h.T)(n.element,"hidden")),Object(h.q)(n.element||n.iframe).then(function(){r&&r.reset()})}})},t.prototype.hide=function(){return this.container&&Object(h.A)(this.container),this.driver.hide.call(this)},t.prototype.show=function(){return this.container&&Object(h.V)(this.container),this.driver.show.call(this)},t.prototype.checkClose=function(){var e=this,t=Object(u.onCloseWindow)(this.window,function(){e.userClose()},50,500);this.clean.register(t.cancel)},t.prototype.userClose=function(){return this.close(m.CLOSE_REASONS.USER_CLOSED)},t.prototype.close=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m.CLOSE_REASONS.PARENT_CALL;return d.a["try"](function(){return e.component.log("close",{reason:t}),e.event.triggerOnce(m.EVENTS.CLOSE),e.props.onClose(t)}).then(function(){return d.a.all([e.closeComponent(),e.closeContainer()])}).then(function(){return e.destroy()})},t.prototype.closeContainer=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m.CLOSE_REASONS.PARENT_CALL;return d.a["try"](function(){return e.event.triggerOnce(m.EVENTS.CLOSE),e.props.onClose(t)}).then(function(){return d.a.all([e.closeComponent(t),e.hideContainer()])}).then(function(){return e.destroyContainer()})},t.prototype.destroyContainer=function(){var e=this;return d.a["try"](function(){e.clean.run("destroyContainerEvents"),e.clean.run("destroyContainerTemplate")})},t.prototype.closeComponent=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m.CLOSE_REASONS.PARENT_CALL,n=this.window;return d.a["try"](function(){return e.cancelContainerEvents()}).then(function(){return e.event.triggerOnce(m.EVENTS.CLOSE),e.props.onClose(t)}).then(function(){return e.hideComponent()}).then(function(){return e.destroyComponent()}).then(function(){e.childExports&&e.context===m.CONTEXT_TYPES.POPUP&&!Object(u.isWindowClosed)(n)&&e.childExports.close()["catch"](h.I)})},t.prototype.destroyComponent=function(){this.clean.run("destroyUnloadWindowListener"),this.clean.run("destroyCloseWindowListener"),this.clean.run("destroyContainerEvents"),this.clean.run("destroyWindow")},t.prototype.showContainer=function(){var e=this;return d.a["try"](function(){if(e.props.onDisplay)return e.props.onDisplay()}).then(function(){if(e.container)return Object(h.U)(e.container,m.ANIMATION_NAMES.SHOW_CONTAINER,e.clean.register)})},t.prototype.showComponent=function(){var e=this;return d.a["try"](function(){if(e.props.onDisplay)return e.props.onDisplay()}).then(function(){if(e.element)return Object(h.U)(e.element,m.ANIMATION_NAMES.SHOW_COMPONENT,e.clean.register)})},t.prototype.hideContainer=function(){var e=this;return d.a["try"](function(){return e.container?Object(h.c)(e.container,m.ANIMATION_NAMES.HIDE_CONTAINER,e.clean.register):d.a.resolve()})},t.prototype.hideComponent=function(){var e=this;return d.a["try"](function(){return e.element?Object(h.c)(e.element,m.ANIMATION_NAMES.HIDE_COMPONENT,e.clean.register):d.a.resolve()})},t.prototype.focus=function(){if(!this.window||Object(u.isWindowClosed)(this.window))throw new Error("No window to focus");this.component.log("focus"),this.window.focus()},t.prototype.createPrerenderTemplate=function(){var e=this;return d.a["try"](function(){return e.component.prerenderTemplate?d.a["try"](function(){return e.prerenderIframe?Object(h.e)(e.prerenderIframe).then(function(){return e.prerenderWindow}):e.prerenderWindow}).then(function(t){var n=void 0;try{n=t.document}catch(r){return}try{Object(h._3)(t,e.renderTemplate(e.component.prerenderTemplate,{jsxDom:h.F.bind(n),document:n}))}catch(r){}}):d.a.resolve()})},t.prototype.renderTemplate=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.component.dimensions||{},o=r.width,i=void 0===o?m.DEFAULT_DIMENSIONS.WIDTH+"px":o,a=r.height,s=void 0===a?m.DEFAULT_DIMENSIONS.HEIGHT+"px":a;return e.call(this,w({id:m.CLASS_NAMES.XCOMPONENT+"-"+this.component.tag+"-"+this.props.uid,props:e.__xdomain__?null:this.props,tag:this.component.tag,context:this.context,outlet:this.getOutlet(),CLASS:m.CLASS_NAMES,ANIMATION:m.ANIMATION_NAMES,CONTEXT:m.CONTEXT_TYPES,EVENT:m.EVENTS,actions:{close:function(){return t.userClose()},focus:function(){return t.focus()}},on:function(e,n){return t.on(e,n)},jsxDom:h.F,document:document,dimensions:{width:i,height:s}},n))},t.prototype.openContainer=function(e){var t=this;return d.a["try"](function(){var n=void 0;if(!(n=e?Object(h.x)(e):document.body))throw new Error("Could not find element to open container into");if(t.component.containerTemplate){var r=t.renderTemplate(t.component.containerTemplate,{container:n});if(t.container=r,Object(h.A)(t.container),Object(h.d)(n,t.container),t.driver.renderedIntoContainerTemplate){if(t.element=t.getOutlet(),Object(h.A)(t.element),!t.element)throw new Error("Could not find element to render component into");Object(h.A)(t.element)}t.clean.register("destroyContainerTemplate",function(){t.container&&t.container.parentNode&&t.container.parentNode.removeChild(t.container),delete t.container})}else if(t.driver.renderedIntoContainerTemplate)throw new Error("containerTemplate needed to render "+t.context)})},t.prototype.cancelContainerEvents=function(){this.clean.run("destroyContainerEvents")},t.prototype.destroy=function(){var e=this;return d.a["try"](function(){if(e.clean.hasTasks())return e.component.log("destroy"),Object(l.c)(),e.clean.all()})},t.prototype.tryInit=function(e){var t=this;return d.a["try"](e)["catch"](function(e){t.onInit.reject(e)}).then(function(){return t.onInit})},t.prototype.error=function(e){var t=this;return d.a["try"](function(){if(t.handledErrors=t.handledErrors||[],-1===t.handledErrors.indexOf(e))return t.handledErrors.push(e),t.onInit.reject(e),t.destroy()}).then(function(){if(t.props.onError)return t.props.onError(e)})["catch"](function(t){throw new Error("An error was encountered while handling error:\n\n "+Object(h.X)(e)+"\n\n"+Object(h.X)(t))}).then(function(){if(!t.props.onError)throw e})},t.destroyAll=function(){for(var e=[];t.activeComponents.length;)e.push(t.activeComponents[0].destroy());return d.a.all(e).then(h.I)},S(t,[{key:"driver",get:function(){if(!this.context)throw new Error("Context not set");return v.a[this.context]}}]),t}(f.a)).prototype,"getOutlet",[h.H],Object.getOwnPropertyDescriptor(s.prototype,"getOutlet"),s.prototype),a(s.prototype,"prefetch",[h.H],Object.getOwnPropertyDescriptor(s.prototype,"prefetch"),s.prototype),a(s.prototype,"loadHTML",[h.H],Object.getOwnPropertyDescriptor(s.prototype,"loadHTML"),s.prototype),a(s.prototype,"buildUrl",[h.H],Object.getOwnPropertyDescriptor(s.prototype,"buildUrl"),s.prototype),a(s.prototype,"open",[h.H],Object.getOwnPropertyDescriptor(s.prototype,"open"),s.prototype),a(s.prototype,"openPrerender",[h.H],Object.getOwnPropertyDescriptor(s.prototype,"openPrerender"),s.prototype),a(s.prototype,"switchPrerender",[h.H],Object.getOwnPropertyDescriptor(s.prototype,"switchPrerender"),s.prototype),a(s.prototype,"close",[h.H],Object.getOwnPropertyDescriptor(s.prototype,"close"),s.prototype),a(s.prototype,"closeContainer",[h.H],Object.getOwnPropertyDescriptor(s.prototype,"closeContainer"),s.prototype),a(s.prototype,"destroyContainer",[h.H],Object.getOwnPropertyDescriptor(s.prototype,"destroyContainer"),s.prototype),a(s.prototype,"closeComponent",[h.H],Object.getOwnPropertyDescriptor(s.prototype,"closeComponent"),s.prototype),a(s.prototype,"showContainer",[h.H],Object.getOwnPropertyDescriptor(s.prototype,"showContainer"),s.prototype),a(s.prototype,"showComponent",[h.H],Object.getOwnPropertyDescriptor(s.prototype,"showComponent"),s.prototype),a(s.prototype,"hideContainer",[h.H],Object.getOwnPropertyDescriptor(s.prototype,"hideContainer"),s.prototype),a(s.prototype,"hideComponent",[h.H],Object.getOwnPropertyDescriptor(s.prototype,"hideComponent"),s.prototype),a(s.prototype,"createPrerenderTemplate",[h.H],Object.getOwnPropertyDescriptor(s.prototype,"createPrerenderTemplate"),s.prototype),a(s.prototype,"openContainer",[h.H],Object.getOwnPropertyDescriptor(s.prototype,"openContainer"),s.prototype),s);C.activeComponents=[]},"./node_modules/xcomponent/src/component/parent/props.js":function(e,t,n){"use strict";function r(e){return null!=e&&""!==e}function o(e,t,n,o,i){var a=e.getProp(o),s=void 0;!(s=a.value?a.value:!a.def||n.hasOwnProperty(o)&&r(i)?i:a.def.call(e,n))&&a.alias&&n[a.alias]&&(s=n[a.alias]);var l=!1;a.decorate&&null!=s&&(s=a.decorate.call(t,s,n),l=!0);var c=a.type;if("boolean"===c)s=Boolean(s);else if("function"===c){if(!s&&a.noop&&(s=u.I,!l&&a.decorate&&(s=a.decorate.call(t,u.I,n))),s&&"function"==typeof s){s=s.bind(t),a.denodeify&&(s=Object(u.j)(s)),a.promisify&&(s=Object(u.O)(s));var d=s;s=function(){return e.log("call_prop_"+o),d.apply(this,arguments)},a.once&&(s=Object(u.L)(s)),a.memoize&&(s=Object(u.G)(s))}}else"string"===c||"object"===c||"number"===c&&void 0!==s&&(s=parseInt(s,10));return s}function i(e,t,n){var r={};n=n||{};var i=Object.keys(n),a=Array.isArray(i),s=0;for(i=a?i:i[Symbol.iterator]();;){var l;if(a){if(s>=i.length)break;l=i[s++]}else{if((s=i.next()).done)break;l=s.value}var c=l;-1!==e.getPropNames().indexOf(c)?r[c]=o(e,t,n,c,n[c]):r[c]=n[c]}var u=e.getPropNames(),d=Array.isArray(u),f=0;for(u=d?u:u[Symbol.iterator]();;){var p;if(d){if(f>=u.length)break;p=u[f++]}else{if((f=u.next()).done)break;p=f.value}var h=p;if(!(n.hasOwnProperty(h)||t.props&&t.props.hasOwnProperty(h))){var m=o(e,t,n,h,n[h]);void 0!==m&&(r[h]=m)}}return r}function a(e,t,n){return c.a["try"](function(){return"function"==typeof e.queryParam?e.queryParam(n):"string"==typeof e.queryParam?e.queryParam:t})}function s(e,t,n){return c.a["try"](function(){return"function"==typeof e.queryValue?e.queryValue(n):n})}function l(e,t){var n={};return c.a.all(Object.keys(t).map(function(r){var o=e[r];if(o)return c.a.resolve().then(function(){var e=t[r];if(e&&o.queryParam)return e}).then(function(e){if(e)return c.a.all([a(o,r,e),s(o,r,e)]).then(function(e){var t=e[0],i=e[1],a=void 0;if("boolean"==typeof i)a="1";else if("string"==typeof i)a=i.toString();else{if("function"==typeof i)return;if("object"===(void 0===i?"undefined":d(i))&&null!==i){if("json"!==o.serialization){a=Object(u.o)(i,r);var s=Object.keys(a),l=Array.isArray(s),c=0;for(s=l?s:s[Symbol.iterator]();;){var f;if(l){if(c>=s.length)break;f=s[c++]}else{if((c=s.next()).done)break;f=c.value}var p=f;n[p]=a[p]}return}a=JSON.stringify(i)}else"number"==typeof i&&(a=i.toString())}n[t]=a})})})).then(function(){return n})}t.a=i,t.b=l;var c=n("./node_modules/zalgo-promise/src/index.js"),u=n("./node_modules/xcomponent/src/lib/index.js"),d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}},"./node_modules/xcomponent/src/component/parent/validate.js":function(e,t){"use strict";function n(e,t,n,r){var o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(null!=n&&""!==n){if(!n||"function"!=typeof n.then||!e.promise){if("function"===e.type){if("function"!=typeof n)throw new TypeError("Prop is not of type function: "+t)}else if("string"===e.type){if("string"!=typeof n)throw new TypeError("Prop is not of type string: "+t)}else if("object"===e.type)try{JSON.stringify(n)}catch(i){throw new Error("Unable to serialize prop: "+t)}else if("number"===e.type&&isNaN(parseInt(n,10)))throw new TypeError("Prop is not a number: "+t);"function"==typeof e.validate&&n&&e.validate(n,r)}}else if(o&&!1!==e.required&&!e.hasOwnProperty("def"))throw new Error("Prop is required: "+t)}function r(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if((t=t||{}).env&&"object"===o(e.url)&&!e.url[t.env])throw new Error("Invalid env: "+t.env);var i=e.getPropNames(),a=Array.isArray(i),s=0;for(i=a?i:i[Symbol.iterator]();;){var l;if(a){if(s>=i.length)break;l=i[s++]}else{if((s=i.next()).done)break;l=s.value}var c=l,u=e.getProp(c);if(u.alias&&t.hasOwnProperty(u.alias)){var d=t[u.alias];delete t[u.alias],t[c]||(t[c]=d)}}var f=Object.keys(t),p=Array.isArray(f),h=0;for(f=p?f:f[Symbol.iterator]();;){var m;if(p){if(h>=f.length)break;m=f[h++]}else{if((h=f.next()).done)break;m=h.value}var g=m,v=e.getProp(g),y=t[g];v&&n(v,g,y,t,r)}var b=e.getPropNames(),w=Array.isArray(b),x=0;for(b=w?b:b[Symbol.iterator]();;){var S;if(w){if(x>=b.length)break;S=b[x++]}else{if((x=b.next()).done)break;S=x.value}var C=S,E=e.getProp(C),T=t[C];E&&!t.hasOwnProperty(C)&&n(E,C,T,t,r)}}t.a=r;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}},"./node_modules/xcomponent/src/component/window.js":function(e,t,n){"use strict";function r(e){return e.replace(/^[^a-z0-9A-Z]+|[^a-z0-9A-Z]+$/g,"").replace(/[^a-z0-9A-Z]+/g,"_")}function o(e){return f.a.encode(e).replace(/\=/g,"").toLowerCase()}function i(e){return f.a.decode(e.toUpperCase())}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n.id=Object(p._0)(),n.domain=Object(u.getDomain)(window);var i=r(e),a=r(t),s=o(JSON.stringify(n));if(!i)throw new Error("Invalid name: "+e+" - must contain alphanumeric characters");if(!a)throw new Error("Invalid version: "+t+" - must contain alphanumeric characters");return[h.XCOMPONENT,i,a,s,""].join("__")}function s(){return g().domain}function l(e){var t=e.ref,n=e.uid,r=e.distance,o=void 0;if(t===h.WINDOW_REFERENCES.OPENER?o=Object(u.getOpener)(window):t===h.WINDOW_REFERENCES.TOP?o=Object(u.getTop)(window):t===h.WINDOW_REFERENCES.PARENT&&(o=r?Object(u.getNthParentFromTop)(window,r):Object(u.getParent)(window)),t===h.WINDOW_REFERENCES.GLOBAL){var i=Object(u.getAncestor)(window);if(i){var a=Object(u.getAllFramesInWindow)(i),s=Array.isArray(a),l=0;for(a=s?a:a[Symbol.iterator]();;){var c;if(s){if(l>=a.length)break;c=a[l++]}else{if((l=a.next()).done)break;c=l.value}var d=c,f=Object(p.z)(d);if(f&&f.windows&&f.windows[n]){o=f.windows[n];break}}}}if(!o)throw new Error("Unable to find window by ref");return o}function c(e){var t=e.width,n=e.height,r=0,o=0;return t&&(window.outerWidth?r=Math.round((window.outerWidth-t)/2)+window.screenX:window.screen.width&&(r=Math.round((window.screen.width-t)/2))),n&&(window.outerHeight?o=Math.round((window.outerHeight-n)/2)+window.screenY:window.screen.height&&(o=Math.round((window.screen.height-n)/2))),{x:r,y:o}}t.a=a,n.d(t,"g",function(){return m}),n.d(t,"b",function(){return g}),t.d=s,n.d(t,"c",function(){return v}),n.d(t,"e",function(){return y}),t.f=c;var u=n("./node_modules/cross-domain-utils/src/index.js"),d=n("./node_modules/hi-base32/src/base32.js"),f=n.n(d),p=n("./node_modules/xcomponent/src/lib/index.js"),h=n("./node_modules/xcomponent/src/constants.js"),m=Object(p.G)(function(){return!!window.name&&window.name.split("__")[0]===h.XCOMPONENT}),g=Object(p.G)(function(){if(!window.name)throw new Error("Can not get component meta without window name");var e=window.name.split("__"),t=e[0],n=e[1],r=e[2],o=e[3];if(t!==h.XCOMPONENT)throw new Error("Window not rendered by xcomponent - got "+t);var a=void 0;try{a=JSON.parse(i(o))}catch(s){throw new Error("Can not decode component-meta: "+o+" "+Object(p.X)(s))}return a.name=n,a.version=r.replace(/_/g,"."),a}),v=Object(p.G)(function(){var e=g();if(!e)throw new Error("Can not get parent component window - window not rendered by xcomponent");return l(e.componentParent)}),y=Object(p.G)(function(){var e=g();if(!e)throw new Error("Can not get parent component window - window not rendered by xcomponent");return l(e.renderParent)})},"./node_modules/xcomponent/src/constants.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"XCOMPONENT",function(){return r}),n.d(t,"__XCOMPONENT__",function(){return o}),n.d(t,"POST_MESSAGE",function(){return i}),n.d(t,"PROP_TYPES",function(){return a}),n.d(t,"INITIAL_PROPS",function(){return s}),n.d(t,"WINDOW_REFERENCES",function(){return l}),n.d(t,"PROP_TYPES_LIST",function(){return c}),n.d(t,"CONTEXT_TYPES",function(){return u}),n.d(t,"CLASS_NAMES",function(){return d}),n.d(t,"EVENTS",function(){return f}),n.d(t,"ATTRIBUTES",function(){return p}),n.d(t,"ANIMATION_NAMES",function(){return h}),n.d(t,"EVENT_NAMES",function(){return m}),n.d(t,"CLOSE_REASONS",function(){return g}),n.d(t,"CONTEXT_TYPES_LIST",function(){return v}),n.d(t,"DELEGATE",function(){return y}),n.d(t,"WILDCARD",function(){return b}),n.d(t,"DEFAULT_DIMENSIONS",function(){return w});var r="xcomponent",o="__"+r+"__",i={INIT:r+"_init",PROPS:r+"_props",PROP_CALLBACK:r+"_prop_callback",CLOSE:r+"_close",CHECK_CLOSE:r+"_check_close",REDIRECT:r+"_redirect",RESIZE:r+"_resize",ONRESIZE:r+"_onresize",DELEGATE:r+"_delegate",ALLOW_DELEGATE:r+"_allow_delegate",ERROR:r+"_error",HIDE:r+"_hide",SHOW:r+"_show"},a={STRING:"string",OBJECT:"object",FUNCTION:"function",BOOLEAN:"boolean",NUMBER:"number"},s={RAW:"raw",UID:"uid"},l={OPENER:"opener",TOP:"top",PARENT:"parent",GLOBAL:"global"},c=Object.keys(a).map(function(e){return a[e]}),u={IFRAME:"iframe",POPUP:"popup"},d={XCOMPONENT:""+r,OUTLET:r+"-outlet",COMPONENT_FRAME:r+"-component-frame",PRERENDER_FRAME:r+"-prerender-frame",VISIBLE:r+"-visible",INVISIBLE:r+"-invisible"},f={CLOSE:r+"-close"},p={IFRAME_PLACEHOLDER:"data-xcomponent-"+r+"-placeholder"},h={SHOW_CONTAINER:r+"-show-container",SHOW_COMPONENT:r+"-show-component",HIDE_CONTAINER:r+"-hide-container",HIDE_COMPONENT:r+"-hide-component"},m={CLICK:"click"},g={PARENT_CALL:"parent_call",CHILD_CALL:"child_call",CLOSE_DETECTED:"close_detected",USER_CLOSED:"user_closed",PARENT_CLOSE_DETECTED:"parent_close_detected"},v=Object.keys(u).map(function(e){return u[e]}),y={CALL_ORIGINAL:"call_original",CALL_DELEGATE:"call_delegate"},b="*",w={WIDTH:300,HEIGHT:150}},"./node_modules/xcomponent/src/drivers/angular.js":function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("./node_modules/xcomponent/src/lib/index.js"),o={global:function(){return window.angular},register:function(e,t){return t.module(e.tag,[]).directive(Object(r.i)(e.tag),function(){var t={},n=e.getPropNames(),o=Array.isArray(n),i=0;for(n=o?n:n[Symbol.iterator]();;){var a;if(o){if(i>=n.length)break;a=n[i++]}else{if((i=n.next()).done)break;a=i.value}t[a]="="}return e.looseProps&&(t.props="="),{scope:t,restrict:"E",controller:["$scope","$element",function(n,o){function i(){if("$apply"!==n.$root.$$phase&&"$digest"!==n.$root.$$phase)try{n.$apply()}catch(e){}}if(e.looseProps&&!n.props)throw new Error("For angular bindings to work, prop definitions must be passed to xcomponent.create");e.log("instantiate_angular_component");var a=function(){var e=void 0;if(n.props)e=n.props;else{e={};var o=Object.keys(t),a=Array.isArray(o),s=0;for(o=a?o:o[Symbol.iterator]();;){var l;if(a){if(s>=o.length)break;l=o[s++]}else{if((s=o.next()).done)break;l=s.value}var c=l;void 0!==n[c]&&(e[c]=n[c])}}return e=Object(r.Q)(e,{"function":function(e){return function(){var t=e.apply(this,arguments);return i(),t}}})},s=e.init(a(),null,o[0]);s.render(o[0]),n.$watch(function(){s.updateProps(a())})}]}})}}},"./node_modules/xcomponent/src/drivers/angular2.js":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("./node_modules/xcomponent/src/lib/index.js"),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i={global:function(){},register:function(e,t){var n=t.Component,i=t.NgModule,a=t.ElementRef,s=t.NgZone;e.log("initializing angular2 component");var l=function(e){return Object(r.Q)(o({},e.internalProps,e.props),{"function":function(t){if("function"==typeof t)return function(){var n=this,r=arguments;return e.zone.run(function(){return t.apply(n,r)})}}})},c=n({selector:e.tag,template:"<div></div>",inputs:["props"]}).Class({constructor:[a,s,function(e,t){this.elementRef=e,this.zone=t}],ngOnInit:function(){var t=this.elementRef.nativeElement,n=e.init(l(this),null,t);n.render(t),this.parent=n},ngOnChanges:function(){this.parent&&this.parent.updateProps(l(this))}});return i({declarations:[c],exports:[c]}).Class({constructor:function(){}})}}},"./node_modules/xcomponent/src/drivers/ember.js":function(){},"./node_modules/xcomponent/src/drivers/glimmer.js":function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return s});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s={global:function(){},register:function(e,t){return function(t){function n(){return r(this,n),o(this,t.apply(this,arguments))}return i(n,t),n.prototype.didInsertElement=function(){e.render(a({},this.args),this.element)},n}(t)}}},"./node_modules/xcomponent/src/drivers/index.js":function(e,t,n){"use strict";var r=n("./node_modules/xcomponent/src/drivers/script.js");n.d(t,"script",function(){return r.a});var o=n("./node_modules/xcomponent/src/drivers/react.js");n.d(t,"react",function(){return o.a});var i=n("./node_modules/xcomponent/src/drivers/vue.js");n.d(t,"vue",function(){return i.a});var a=n("./node_modules/xcomponent/src/drivers/angular.js");n.d(t,"angular",function(){return a.a});var s=n("./node_modules/xcomponent/src/drivers/ember.js");n.n(s),n.o(s,"angular2")&&n.d(t,"angular2",function(){return s.angular2}),n.o(s,"glimmer")&&n.d(t,"glimmer",function(){return s.glimmer});var l=n("./node_modules/xcomponent/src/drivers/glimmer.js");n.d(t,"glimmer",function(){return l.a});var c=n("./node_modules/xcomponent/src/drivers/angular2.js");n.d(t,"angular2",function(){return c.a})},"./node_modules/xcomponent/src/drivers/react.js":function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return s});var a=n("./node_modules/xcomponent/src/lib/index.js"),s={global:function(){if(window.React&&window.ReactDOM)return{React:window.React,ReactDOM:window.ReactDOM}},register:function(e,t){var n=t.React,s=t.ReactDOM
;return n.createClass?e.react=n.createClass({render:function(){return n.createElement("div",null)},componentDidMount:function(){e.log("instantiate_react_component");var t=s.findDOMNode(this),n=e.init(Object(a.t)({},this.props),null,t);this.setState({parent:n}),n.render(t)},componentDidUpdate:function(){this.state&&this.state.parent&&this.state.parent.updateProps(Object(a.t)({},this.props))}}):e.react=function(t){function l(){return r(this,l),o(this,t.apply(this,arguments))}return i(l,t),l.prototype.render=function(){return n.createElement("div",null)},l.prototype.componentDidMount=function(){e.log("instantiate_react_component");var t=s.findDOMNode(this),n=e.init(Object(a.t)({},this.props),null,t);this.setState({parent:n}),n.render(t)},l.prototype.componentDidUpdate=function(){this.state&&this.state.parent&&this.state.parent.updateProps(Object(a.t)({},this.props))},l}(n.Component),e.react}}},"./node_modules/xcomponent/src/drivers/script.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return script});var script={global:function(){return window.document},register:function register(component,document){function render(element){if(element&&element.tagName&&"script"===element.tagName.toLowerCase()&&element.attributes.type&&"application/x-component"===element.attributes.type.value&&element.parentNode){var tag=element.getAttribute("data-component");if(tag&&tag===component.tag){component.log("instantiate_script_component");var props=element.innerText?eval("("+element.innerText+")"):{},container=document.createElement("div");if(!element.parentNode)throw new Error("Element has no parent");element.parentNode.replaceChild(container,element),component.render(props,container)}}}function scan(){var e=Array.prototype.slice.call(document.getElementsByTagName("script")),t=Array.isArray(e),n=0;for(e=t?e:e[Symbol.iterator]();;){var r;if(t){if(n>=e.length)break;r=e[n++]}else{if((n=e.next()).done)break;r=n.value}render(r)}}scan(),document.addEventListener("DOMContentLoaded",scan),window.addEventListener("load",scan),document.addEventListener("DOMNodeInserted",function(e){render(e.target)})}}},"./node_modules/xcomponent/src/drivers/vue.js":function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("./node_modules/xcomponent/src/lib/index.js"),o={global:function(){},register:function(e){return{template:"<div></div>",inheritAttrs:!1,mounted:function(){var t=this.$el;this.parent=e.init(Object(r.t)({},this.$attrs),null,t),this.parent.render(t)},beforeUpdate:function(){this.parent&&this.$attrs&&this.parent.updateProps(Object(r.t)({},this.$attrs))}}}}},"./node_modules/xcomponent/src/error.js":function(e,t){"use strict";function n(e){this.message=e}function r(e){this.message=e}function o(e){this.message=e}t.b=n,t.a=r,t.c=o,n.prototype=Object.create(Error.prototype),r.prototype=Object.create(Error.prototype),o.prototype=Object.create(Error.prototype)},"./node_modules/xcomponent/src/index.js":function(e,t,n){"use strict";var r=n("./node_modules/xcomponent/src/interface.js");n.d(t,"a",function(){return r.create})},"./node_modules/xcomponent/src/interface.js":function(e,t,n){"use strict";function r(e){return new s.a(e)}function o(e){return s.a.getByTag(e)}function i(){return l.a.destroyAll()}Object.defineProperty(t,"__esModule",{value:!0}),t.create=r,t.getByTag=o,t.destroyAll=i,n.d(t,"postRobot",function(){return f}),n.d(t,"CONSTANTS",function(){return p});var a=(n("./node_modules/zalgo-promise/src/index.js"),n("./node_modules/post-robot/src/index.js")),s=n("./node_modules/xcomponent/src/component/index.js"),l=n("./node_modules/xcomponent/src/component/parent/index.js"),c=n("./node_modules/xcomponent/src/constants.js"),u=n("./node_modules/xcomponent/src/lib/index.js");n.d(t,"getCurrentScriptDir",function(){return u.w});var d=n("./node_modules/xcomponent/src/error.js");n.d(t,"PopupOpenError",function(){return d.b}),n.d(t,"IntegrationError",function(){return d.a}),n.d(t,"RenderError",function(){return d.c});var f=a,p=c},"./node_modules/xcomponent/src/lib/css.js":function(e,t){"use strict";function n(e){return"string"==typeof e&&/^[0-9]+%$/.test(e)}function r(e){return"string"==typeof e&&/^[0-9]+px$/.test(e)}function o(e){if("number"==typeof e)return e;var t=e.match(/^([0-9]+)(px|%)$/);if(!t)throw new Error("Could not match css value from "+e);return parseInt(t[1],10)}function i(e){return o(e)+"px"}function a(e){return"number"==typeof e?i(e):n(e)?e:i(e)}function s(e,t){return parseInt(e*o(t)/100,10)}function l(e,t){if("number"==typeof e)return e;if(n(e))return s(t,e);if(r(e))return o(e);throw new Error("Can not normalize dimension: "+e)}t.a=n,t.b=r,t.d=a,t.c=l},"./node_modules/xcomponent/src/lib/decorators.js":function(e,t,n){"use strict";function r(e,t,n){var r=n.value;n.value=function(){return this.__memoized__=this.__memoized__||{},this.__memoized__.hasOwnProperty(t)||(this.__memoized__[t]=r.apply(this,arguments)),this.__memoized__[t]},n.value.displayName=t+":memoized"}t.a=r,n("./node_modules/zalgo-promise/src/index.js")},"./node_modules/xcomponent/src/lib/dom.js":function(e,t,n){"use strict";function r(e,t){e.appendChild(t)}function o(e){return e instanceof window.Element||null!==e&&"object"===(void 0===e?"undefined":te(e))&&1===e.nodeType&&"object"===te(e.style)&&"object"===te(e.ownerDocument)}function i(e,t){return Array.prototype.slice.call(e.querySelectorAll(t))}function a(e){if(o(e))return e;if("string"==typeof e){var t=document.getElementById(e);if(t)return t;if(document.querySelector&&(t=document.querySelector(e)),t)return t}}function s(e){var t=a(e);if(t)return t;throw new Error("Can not find element: "+Object(J.k)(e))}function l(){return"complete"===window.document.readyState}function c(e){return new X.a(function(t,n){var r=Object(J.k)(e),o=a(e);if(o)return t(o);if(l())return n(new Error("Document is ready and element "+r+" does not exist"));var i=setInterval(function(){return(o=a(e))?(clearInterval(i),t(o)):l()?(clearInterval(i),n(new Error("Document is ready and element "+r+" does not exist"))):void 0},10)})}function u(e,t){var n=Object.keys(t).map(function(e){if(t[e])return e+"="+Object(J.k)(t[e])}).filter(Boolean).join(","),r=void 0;try{r=window.open(e,t.name,n,!0)}catch(o){throw new K.b("Can not open popup window - "+(o.stack||o.message))}if(Object(V.isWindowClosed)(r))throw new K.b("Can not open popup window - blocked");return r}function d(e,t){try{e.document.open(),e.document.write(t),e.document.close()}catch(n){try{e.location="javascript: document.open(); document.write("+JSON.stringify(t)+"); document.close();"}catch(r){}}}function f(e,t){var n=t.tagName.toLowerCase();if("html"!==n)throw new Error("Expected element to be html, got "+n);for(var r=e.document.documentElement;r.children&&r.children.length;)r.removeChild(r.children[0]);for(;t.children.length;)r.appendChild(t.children[0])}function p(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window.document;e.styleSheet?e.styleSheet.cssText=t:e.appendChild(n.createTextNode(t))}function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2];e=e.toLowerCase();var o=document.createElement(e);if(t.style&&Object(J.f)(o.style,t.style),t["class"]&&(o.className=t["class"].join(" ")),t.attributes){var i=Object.keys(t.attributes),a=Array.isArray(i),s=0;for(i=a?i:i[Symbol.iterator]();;){var l;if(a){if(s>=i.length)break;l=i[s++]}else{if((s=i.next()).done)break;l=s.value}var c=l;o.setAttribute(c,t.attributes[c])}}if(t.styleSheet&&p(o,t.styleSheet),n&&r(n,o),t.html)if("iframe"===e){if(!n||!o.contentWindow)throw new Error("Iframe html can not be written unless container provided and iframe in DOM");d(o.contentWindow,t.html)}else o.innerHTML=t.html;return o}function m(e){if(re.has(e)){var t=re.get(e);if(t)return t}var n=new X.a(function(t,n){e.addEventListener("load",function(){Object(V.linkFrameWindow)(e),t(e)}),e.addEventListener("error",function(r){e.contentWindow?t(e):n(r)})});return re.set(e,n),n}function g(e){return e.contentWindow?X.a.resolve(e.contentWindow):m(e).then(function(e){if(!e.contentWindow)throw new Error("Could not find window in iframe");return e.contentWindow})}function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=s(arguments[1]),n=e.attributes||{},r=e.style||{},o=h("iframe",{attributes:ee({frameBorder:"0",allowTransparency:"true"},n),style:ee({backgroundColor:"transparent"},r),html:e.html,"class":e["class"]});return m(o),t.appendChild(o),(e.url||window.navigator.userAgent.match(/MSIE|Edge/i))&&o.setAttribute("src",e.url||"about:blank"),o}function y(e,t,n){return e.addEventListener(t,n),{cancel:function(){e.removeEventListener(t,n)}}}function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).filter(function(t){return"string"==typeof e[t]}).map(function(t){return Object(J.n)(t)+"="+Object(J.n)(e[t])}).join("&")}function w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t&&Object.keys(t).length?b(ee({},oe(e),t)):e}function x(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.query||{},r=t.hash||{},o=void 0,i=void 0,a=e.split("#");o=a[0],i=a[1];var s=o.split("?");o=s[0];var l=w(s[1],n),c=w(i,r);return l&&(o=o+"?"+l),c&&(o=o+"#"+c),o}function S(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3;return new X.a(function(n,r){var o=s(e),i=o.getBoundingClientRect(),a=void 0,l=void 0;a=setInterval(function(){var e=o.getBoundingClientRect();if(i.top===e.top&&i.bottom===e.bottom&&i.left===e.left&&i.right===e.right&&i.width===e.width&&i.height===e.height)return clearTimeout(l),clearInterval(a),n();i=e},50),l=setTimeout(function(){clearInterval(a),r(new Error("Timed out waiting for element to stop animating after "+t+"ms"))},t)})}function C(e){return{width:e.offsetWidth,height:e.offsetHeight}}function E(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"auto",n=e.style,r=n.overflow,o=n.overflowX,i=n.overflowY;return e.style.overflow=e.style.overflowX=e.style.overflowY=t,{reset:function(){e.style.overflow=r,e.style.overflowX=o,e.style.overflowY=i}}}function T(e,t,n){var r=n.width,o=void 0===r||r,i=n.height,a=void 0===i||i,s=n.threshold,l=void 0===s?0:s;return!!(o&&Math.abs(e.width-t.width)>l)||!!(a&&Math.abs(e.height-t.height)>l)}function k(e,t){var n=t.width,r=void 0===n||n,o=t.height,i=void 0===o||o,a=t.threshold,s=void 0===a?0:a,l=C(e);return{check:function(){var t=C(e);return{changed:T(l,t,{width:r,height:i,threshold:s}),dimensions:t}},reset:function(){l=C(e)}}}function j(e,t){var n=t.width,r=void 0===n||n,o=t.height,i=void 0===o||o,a=t.delay,s=void 0===a?50:a,l=t.threshold,c=void 0===l?0:l;return new X.a(function(t){function n(){var e=o.check(),t=e.changed,r=e.dimensions;t&&(o.reset(),window.removeEventListener("resize",n),l(r))}var o=k(e,{width:r,height:i,threshold:c}),a=void 0,l=Object(Z.a)(function(e){return clearInterval(a),t(e)},4*s);a=setInterval(function(){var e=o.check(),t=e.changed,n=e.dimensions;if(t)return o.reset(),l(n)},s),window.addEventListener("resize",n)})}function L(e,t){var n=t.width,r=t.height,o=C(e);return!(n&&o.width!==window.innerWidth||r&&o.height!==window.innerHeight)}function O(e,t,n){n=Object(Z.e)(n);var r=t,o=Array.isArray(r),i=0;for(r=o?r:r[Symbol.iterator]();;){var a;if(o){if(i>=r.length)break;a=r[i++]}else{if((i=r.next()).done)break;a=i.value}var s=a;e.addEventListener(s,n)}return{cancel:Object(Z.e)(function(){var r=t,o=Array.isArray(r),i=0;for(r=o?r:r[Symbol.iterator]();;){var a;if(o){if(i>=r.length)break;a=r[i++]}else{if((i=r.next()).done)break;a=i.value}var s=a;e.removeEventListener(s,n)}})}}function _(e,t,n){e.style[t]=n;var r=Object(J.a)(t),o=ie,i=Array.isArray(o),a=0;for(o=i?o:o[Symbol.iterator]();;){var s;if(i){if(a>=o.length)break;s=o[a++]}else{if((a=o.next()).done)break;s=a.value}var l=s;e.style[""+l+r]=n}}function A(e,t){var n=e.ownerDocument.styleSheets;try{for(var r=0;r<n.length;r++){var o=n[r].cssRules;if(o)for(var i=0;i<o.length;i++){var a=o[i];if(a&&a.type===se&&a.name===t)return!0}}}catch(s){return!1}return!1}function N(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e3;return new X.a(function(o,i){function a(){_(l,"animationName",""),clearTimeout(u),clearTimeout(d),f.cancel(),p.cancel()}var l=s(e);if(!l||!A(l,t))return o();var c=!1,u=void 0,d=void 0,f=void 0,p=void 0;f=O(l,le,function(e){e.target===l&&e.animationName===t&&(clearTimeout(u),e.stopPropagation(),f.cancel(),c=!0,d=setTimeout(function(){a(),o()},r))}),p=O(l,ce,function(e){if(e.target===l&&e.animationName===t)return a(),"string"==typeof e.animationName&&e.animationName!==t?i("Expected animation name to be "+t+", found "+e.animationName):o()}),_(l,"animationName",t),u=setTimeout(function(){if(!c)return a(),o()},200),n&&n(a)})}function M(e){e.style.setProperty("display","")}function P(e){e.style.setProperty("display",ue.DISPLAY.NONE,ue.IMPORTANT)}function I(e){e.parentNode&&e.parentNode.removeChild(e)}function D(e,t,n){var r=N(e,t,n);return M(e),r}function R(e,t,n){return N(e,t,n).then(function(){P(e)})}function W(e,t){e.classList?e.classList.add(t):-1===e.className.split(/\s+/).indexOf(t)&&(e.className+=" "+t)}function H(e,t){e.classList?e.classList.remove(t):-1!==e.className.split(/\s+/).indexOf(t)&&(e.className=e.className.replace(t,""))}function B(){return console.warn("Do not use xcomponent.getCurrentScriptDir() in production -- browser support is limited"),document.currentScript?document.currentScript.src.split("/").slice(0,-1).join("/"):"."}function F(e){return!e||!e.parentNode}function z(e,t){t=Object(Z.e)(t);var n=void 0;return F(e)?t():n=Object(J.j)(function(){F(e)&&(n.cancel(),t())},50),{cancel:function(){n&&n.cancel()}}}function q(e,t){return new X.a(function(n,r){var o=new window.XMLHttpRequest;o.open("GET",t),o.setRequestHeader("Accept",e),o.send(null),o.onload=function(){n(o.responseText)},o.onerror=function(){return r(new Error("prefetch failed"))}})}function U(e){return q("text/html",e)}function G(e){return U(e)}function $(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.document,n=i(e,"script"),r=Array.isArray(n),o=0;for(n=r?n:n[Symbol.iterator]();;){var a;if(r){if(o>=n.length)break;a=n[o++]}else{if((o=n.next()).done)break;a=o.value}var s=a,l=t.createElement("script");l.text=s.textContent,s.parentNode.replaceChild(l,s)}}function Y(e,t,n){e=e.toLowerCase();var o=this&&this.createElement?this:window.document,i=o.createElement(e);for(var a in t)a in de?i.addEventListener(de[a],t[a]):"innerHTML"===a?(i.innerHTML=t[a],$(i,o)):i.setAttribute(a,t[a]);if("style"===e){if("string"!=typeof n)throw new TypeError("Expected "+e+" tag content to be string, got "+(void 0===n?"undefined":te(n)));if(arguments.length>3)throw new Error("Expected only text content for "+e+" tag");p(i,n,o)}else if("iframe"===e){if(arguments.length>3)throw new Error("Expected only single child node for iframe");i.addEventListener("load",function(){var e=i.contentWindow;if(!e)throw new Error("Expected frame to have contentWindow");"string"==typeof n?d(e,n):f(e,n)})}else if("script"===e){if("string"!=typeof n)throw new TypeError("Expected "+e+" tag content to be string, got "+(void 0===n?"undefined":te(n)));if(arguments.length>3)throw new Error("Expected only text content for "+e+" tag");i.text=n}else for(var s=2;s<arguments.length;s++)if("string"==typeof arguments[s]){var l=document.createTextNode(arguments[s]);r(i,l)}else r(i,arguments[s]);return i}t.d=r,t.n=s,n.d(t,"i",function(){return ne}),t.j=c,t.s=u,t.B=d,t.A=f,t.e=m,t.f=g,t.p=v,t.b=y,t.l=x,t.k=S,t.v=E,t.y=k,t.r=j,t.h=L,t.x=M,t.o=P,t.g=I,t.w=D,t.c=R,t.a=W,t.u=H,t.m=B,t.z=z,t.t=G,t.q=Y;var V=n("./node_modules/cross-domain-utils/src/index.js"),X=n("./node_modules/zalgo-promise/src/index.js"),Q=n("./node_modules/cross-domain-safe-weakmap/src/index.js"),K=n("./node_modules/xcomponent/src/error.js"),Z=n("./node_modules/xcomponent/src/lib/fn.js"),J=n("./node_modules/xcomponent/src/lib/util.js"),ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ne=new X.a(function(e){if("complete"===window.document.readyState)return e(window.document);var t=setInterval(function(){if("complete"===window.document.readyState)return clearInterval(t),e(window.document)},10)}),re=new Q.a,oe=Object(Z.c)(function(e){var t={};if(!e)return t;if(-1===e.indexOf("="))throw new Error("Can not parse query string params: "+e);var n=e.split("&"),r=Array.isArray(n),o=0;for(n=r?n:n[Symbol.iterator]();;){var i;if(r){if(o>=n.length)break;i=n[o++]}else{if((o=n.next()).done)break;i=o.value}var a=i;(a=a.split("="))[0]&&a[1]&&(t[decodeURIComponent(a[0])]=decodeURIComponent(a[1]))}return t}),ie=["webkit","moz","ms","o"],ae=window.CSSRule,se=ae.KEYFRAMES_RULE||ae.WEBKIT_KEYFRAMES_RULE||ae.MOZ_KEYFRAMES_RULE||ae.O_KEYFRAMES_RULE||ae.MS_KEYFRAMES_RULE,le=["animationstart","webkitAnimationStart","oAnimationStart","MSAnimationStart"],ce=["animationend","webkitAnimationEnd","oAnimationEnd","MSAnimationEnd"],ue={DISPLAY:{NONE:"none",BLOCK:"block"},VISIBILITY:{VISIBLE:"visible",HIDDEN:"hidden"},IMPORTANT:"important"},de={onClick:"click"}},"./node_modules/xcomponent/src/lib/fn.js":function(e,t,n){"use strict";function r(){}function o(e){var t=!1,n=void 0;return function(){for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return t?n:(t=!0,n=e.apply(this,arguments))}}function i(e){var t={};return function(){for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];var i=void 0;try{i=JSON.stringify(Array.prototype.slice.call(arguments),function(e,t){return"function"==typeof t?"xcomponent:memoize["+Object(c.h)(t)+"]":t})}catch(a){throw new Error("Arguments not serializable -- can not be used to memoize")}return t.hasOwnProperty(i)||(t[i]=e.apply(this,arguments)),t[i]}}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=void 0;return function(){var r=this,o=arguments;clearTimeout(n),n=setTimeout(function(){return e.apply(r,o)},t)}}function s(e){return Object(c.i)(e,{"function":function(){return{__type__:"__function__"}}})}function l(e,t){return Object(c.i)(e,{object:function(e,n,r){if(e&&"__function__"===e.__type__)return function(){return t({key:n,fullKey:r,self:this,args:arguments})}}})}t.d=r,t.e=o,t.c=i,t.a=a,t.f=s,t.b=l;var c=n("./node_modules/xcomponent/src/lib/util.js")},"./node_modules/xcomponent/src/lib/global.js":function(e,t,n){"use strict";function r(e){if(Object(o.isSameDomain)(e))return e[i.__XCOMPONENT__]||(e[i.__XCOMPONENT__]={}),e[i.__XCOMPONENT__]}t.b=r,n.d(t,"a",function(){return a});var o=n("./node_modules/cross-domain-utils/src/index.js"),i=n("./node_modules/xcomponent/src/constants.js"),a=function(){var e=r(window);if(!e)throw new Error("Could not get local global");return e}()},"./node_modules/xcomponent/src/lib/index.js":function(e,t,n){"use strict";var r=n("./node_modules/xcomponent/src/lib/dom.js");n.d(t,"a",function(){return r.a}),n.d(t,"b",function(){return r.b}),n.d(t,"c",function(){return r.c}),n.d(t,"d",function(){return r.d}),n.d(t,"e",function(){return r.e}),n.d(t,"f",function(){return r.f}),n.d(t,"l",function(){return r.g}),n.d(t,"m",function(){return r.h}),n.d(t,"n",function(){return r.i}),n.d(t,"p",function(){return r.j}),n.d(t,"q",function(){return r.k}),n.d(t,"u",function(){return r.l}),n.d(t,"w",function(){return r.m}),n.d(t,"x",function(){return r.n}),n.d(t,"A",function(){return r.o}),n.d(t,"B",function(){return r.p}),n.d(t,"F",function(){return r.q}),n.d(t,"K",function(){return r.r}),n.d(t,"M",function(){return r.s}),n.d(t,"N",function(){return r.t}),n.d(t,"P",function(){return r.u}),n.d(t,"T",function(){return r.v}),n.d(t,"U",function(){return r.w}),n.d(t,"V",function(){return r.x}),n.d(t,"Z",function(){return r.y}),n.d(t,"_2",function(){return r.z}),n.d(t,"_3",function(){return r.A}),n.d(t,"_4",function(){return r.B});var o=n("./node_modules/xcomponent/src/lib/fn.js");n.d(t,"k",function(){return o.b}),n.d(t,"G",function(){return o.c}),n.d(t,"I",function(){return o.d}),n.d(t,"L",function(){return o.e}),n.d(t,"R",function(){return o.f});var i=n("./node_modules/xcomponent/src/lib/promise.js");n.d(t,"h",function(){return i.a}),n.d(t,"j",function(){return i.b}),n.d(t,"O",function(){return i.c});var a=n("./node_modules/xcomponent/src/lib/util.js");n.d(t,"g",function(){return a.b}),n.d(t,"i",function(){return a.c}),n.d(t,"o",function(){return a.d}),n.d(t,"s",function(){return a.e}),n.d(t,"t",function(){return a.f}),n.d(t,"v",function(){return a.g}),n.d(t,"Q",function(){return a.i}),n.d(t,"W",function(){return a.k}),n.d(t,"X",function(){return a.l}),n.d(t,"_0",function(){return a.m});var s=n("./node_modules/xcomponent/src/lib/css.js");n.d(t,"D",function(){return s.a}),n.d(t,"E",function(){return s.b}),n.d(t,"J",function(){return s.c}),n.d(t,"Y",function(){return s.d});var l=n("./node_modules/xcomponent/src/lib/decorators.js");n.d(t,"H",function(){return l.a});var c=n("./node_modules/xcomponent/src/lib/logger.js");n.d(t,"r",function(){return c.a}),n.d(t,"C",function(){return c.b}),n.d(t,"S",function(){return c.c}),n.d(t,"_1",function(){return c.d});var u=n("./node_modules/xcomponent/src/lib/global.js");n.d(t,"y",function(){return u.a}),n.d(t,"z",function(){return u.b})},"./node_modules/xcomponent/src/lib/logger.js":function(e,t,n){"use strict";function r(e){if(-1===l.e.indexOf(e))throw new Error("Invalid logLevel: "+e);l.a.logLevel=e,s.CONFIG.LOG_LEVEL=e,window.LOG_LEVEL=e}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(l.d)("xc_"+e+"_"+t,n)}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(l.f)("xc_"+e+"_"+t,n)}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(l.b)("xc_"+e+"_"+t,n)}t.c=r,t.b=o,t.d=i,t.a=a;var s=n("./node_modules/post-robot/src/index.js"),l=n("./node_modules/beaver-logger/client/index.js")},"./node_modules/xcomponent/src/lib/promise.js":function(e,t,n){"use strict";function r(e){return function(){var t=this,n=Array.prototype.slice.call(arguments);return n.length>=e.length?a.a.resolve(e.apply(t,n)):new a.a(function(r,o){n.push(function(e,t){if(e&&!(e instanceof Error))throw new Error("Passed non-Error object in callback: [ "+e+" ] -- callbacks should either be called with callback(new Error(...)) or callback(null, result).");return e?o(e):r(t)}),e.apply(t,n)})}}function o(e){return function(){var t=this,n=arguments;return a.a["try"](function(){return e.apply(t,n)})}}function i(e){return a.a["try"](e).then(function(){return i(e)})}t.b=r,t.c=o,t.a=i;var a=n("./node_modules/zalgo-promise/src/index.js")},"./node_modules/xcomponent/src/lib/util.js":function(e,t,n){"use strict";function r(e){return e.replace(/\?/g,"%3F").replace(/&/g,"%26").replace(/#/g,"%23").replace(/\+/g,"%2B")}function o(e){return e.replace(/-([a-z])/g,function(e){return e[1].toUpperCase()})}function i(e,t){if(!t)return e;for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function a(){var e="0123456789abcdef";return"xxxxxxxxxx".replace(/./g,function(){return e.charAt(Math.floor(Math.random()*e.length))})}function s(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}function l(e,t,n){if(!t)return n;for(var r=t.split("."),o=0;o<r.length;o++){if("object"!==(void 0===e?"undefined":y(e))||null===e)return n;e=e[r[o]]}return void 0===e?n:e}function c(e,t){function n(){r=setTimeout(n,t),e.call()}var r=void 0;return r=setTimeout(n,t),{cancel:function(){clearTimeout(r)}}}function u(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(Array.isArray(e)){var r=function(){for(var r=e.length,o=[],i=0;i<r;i++)!function(r){Object.defineProperty(o,r,{configurable:!0,enumerable:!0,get:function(){var i=n?n+"."+r:""+r,a=e[r],s=void 0===a?"undefined":y(a),l=t[s];if(l){var c=l(a,r,i);if(void 0!==c)return o[r]=c,o[r]}return"object"===(void 0===a?"undefined":y(a))&&null!==a?(o[r]=u(a,t,i),o[r]):(o[r]=a,o[r])},set:function(e){delete o[r],o[r]=e}})}(i);return{v:o}}();if("object"===(void 0===r?"undefined":y(r)))return r.v}else{if("object"!==(void 0===e?"undefined":y(e))||null===e)throw new Error("Pass an object or array");var o=function(){var r={};for(var o in e)!function(o){if(!e.hasOwnProperty(o))return"continue";Object.defineProperty(r,o,{configurable:!0,enumerable:!0,get:function(){var i=n?n+"."+o:""+o,a=e[o],s=void 0===a?"undefined":y(a),l=t[s];if(l){var c=l(a,o,i);if(void 0!==c)return r[o]=c,r[o]}return"object"===(void 0===a?"undefined":y(a))&&null!==a?(r[o]=u(a,t,i),r[o]):(r[o]=a,r[o])},set:function(e){delete r[o],r[o]=e}})}(o);return{v:r}}();if("object"===(void 0===o?"undefined":y(o)))return o.v}}function d(e,t,n,r){if(e.hasOwnProperty(n)){var o=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,o)}else t[n]=r}function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};for(var r in t=t?t+".":t,e)void 0!==e[r]&&null!==e[r]&&"function"!=typeof e[r]&&(e[r]&&Array.isArray(e[r])&&e[r].length&&e[r].every(function(e){return"object"!==(void 0===e?"undefined":y(e))})?n[""+t+r]=e[r].join(","):e[r]&&"object"===y(e[r])?n=f(e[r],""+t+r,n):n[""+t+r]=e[r].toString());return n}function p(e){if(null==e||"object"!==(void 0===e?"undefined":y(e))&&"function"!=typeof e)throw new Error("Invalid object");var t=b.get(e);return t||(t=(void 0===e?"undefined":y(e))+":"+a(),b.set(e,t)),t}function h(e){return"string"==typeof e?e:e&&"function"==typeof e.toString?e.toString():Object.prototype.toString.call(e)}function m(e){if(e){var t=e.stack,n=e.message;if("string"==typeof t)return t;if("string"==typeof n)return n}return h(e)}function g(){var e={},t={};return{on:function(e,n){var r=t[e]=t[e]||[];r.push(n);var o=!1;return{cancel:function(){o||(o=!0,r.splice(r.indexOf(n),1))}}},once:function(e,t){var n=this.on(e,function(){n.cancel(),t()});return n},trigger:function(e){var n=t[e];if(n){var r=n,o=Array.isArray(r),i=0;for(r=o?r:r[Symbol.iterator]();;){var a;if(o){if(i>=r.length)break;a=r[i++]}else{if((i=r.next()).done)break;a=i.value}a()}}},triggerOnce:function(t){e[t]||(e[t]=!0,this.trigger(t))}}}t.n=r,t.c=o,t.f=i,t.m=a,t.a=s,t.g=l,t.j=c,t.i=u,t.b=d,t.d=f,t.h=p,t.k=h,t.l=m,t.e=g;var v=n("./node_modules/cross-domain-safe-weakmap/src/index.js"),y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b=new v.a},"./node_modules/xcomponent/src/types.js":function(){},"./node_modules/zalgo-promise/src/exceptions.js":function(e,t,n){"use strict";function r(e){if(-1===Object(i.a)().dispatchedErrors.indexOf(e)){Object(i.a)().dispatchedErrors.push(e),setTimeout(function(){throw e},1);for(var t=0;t<Object(i.a)().possiblyUnhandledPromiseHandlers.length;t++)Object(i.a)().possiblyUnhandledPromiseHandlers[t](e)}}function o(e){return Object(i.a)().possiblyUnhandledPromiseHandlers.push(e),{cancel:function(){Object(i.a)().possiblyUnhandledPromiseHandlers.splice(Object(i.a)().possiblyUnhandledPromiseHandlers.indexOf(e),1)}}}t.a=r,t.b=o;var i=n("./node_modules/zalgo-promise/src/global.js")},"./node_modules/zalgo-promise/src/global.js":function(e,t,n){"use strict";(function(e){function n(){var t=void 0;if("undefined"!=typeof window)t=window;else{if(void 0===e)throw new TypeError("Can not find global");t=e}var n=t.__zalgopromise__=t.__zalgopromise__||{};return n.flushPromises=n.flushPromises||[],n.activeCount=n.activeCount||0,n.possiblyUnhandledPromiseHandlers=n.possiblyUnhandledPromiseHandlers||[],n.dispatchedErrors=n.dispatchedErrors||[],n}t.a=n}).call(t,n("./node_modules/webpack/buildin/global.js"))},"./node_modules/zalgo-promise/src/index.js":function(e,t,n){"use strict";var r=n("./node_modules/zalgo-promise/src/promise.js");n.d(t,"a",function(){return r.a})},"./node_modules/zalgo-promise/src/promise.js":function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return s});var o=n("./node_modules/zalgo-promise/src/utils.js"),i=n("./node_modules/zalgo-promise/src/exceptions.js"),a=n("./node_modules/zalgo-promise/src/global.js"),s=function(){function e(t){var n=this;if(r(this,e),this.resolved=!1,this.rejected=!1,this.errorHandled=!1,this.handlers=[],t){var o=void 0,i=void 0,a=!1,s=!1,l=!1;try{t(function(e){l?n.resolve(e):(a=!0,o=e)},function(e){l?n.reject(e):(s=!0,i=e)})}catch(c){return void this.reject(c)}l=!0,a?this.resolve(o):s&&this.reject(i)}}return e.prototype.resolve=function(e){if(this.resolved||this.rejected)return this;if(Object(o.a)(e))throw new Error("Can not resolve promise with another promise");return this.resolved=!0,this.value=e,this.dispatch(),this},e.prototype.reject=function(e){var t=this;if(this.resolved||this.rejected)return this;if(Object(o.a)(e))throw new Error("Can not reject promise with another promise");if(!e){var n=e&&"function"==typeof e.toString?e.toString():Object.prototype.toString.call(e);e=new Error("Expected reject to be called with Error, got "+n)}return this.rejected=!0,this.error=e,this.errorHandled||setTimeout(function(){t.errorHandled||Object(i.a)(e)},1),this.dispatch(),this},e.prototype.asyncReject=function(e){this.errorHandled=!0,this.reject(e)},e.prototype.dispatch=function(){var t=this,n=this.dispatching,r=this.resolved,i=this.rejected,s=this.handlers;if(!n&&(r||i)){this.dispatching=!0,Object(a.a)().activeCount+=1;for(var l=0;l<s.length;l++)!function(n){var a=s[n],l=a.onSuccess,c=a.onError,u=a.promise,d=void 0;if(r)try{d=l?l(t.value):t.value}catch(f){return u.reject(f),"continue"}else if(i){if(!c)return u.reject(t.error),"continue";try{d=c(t.error)}catch(f){return u.reject(f),"continue"}}d instanceof e&&(d.resolved||d.rejected)?(d.resolved?u.resolve(d.value):u.reject(d.error),d.errorHandled=!0):Object(o.a)(d)?d instanceof e&&(d.resolved||d.rejected)?d.resolved?u.resolve(d.value):u.reject(d.error):d.then(function(e){u.resolve(e)},function(e){u.reject(e)}):u.resolve(d)}(l);s.length=0,this.dispatching=!1,Object(a.a)().activeCount-=1,0===Object(a.a)().activeCount&&e.flushQueue()}},e.prototype.then=function(t,n){if(t&&"function"!=typeof t&&!t.call)throw new Error("Promise.then expected a function for success handler");if(n&&"function"!=typeof n&&!n.call)throw new Error("Promise.then expected a function for error handler");var r=new e;return this.handlers.push({promise:r,onSuccess:t,onError:n}),this.errorHandled=!0,this.dispatch(),r},e.prototype["catch"]=function(e){return this.then(void 0,e)},e.prototype["finally"]=function(t){return this.then(function(n){return e["try"](t).then(function(){return n})},function(n){return e["try"](t).then(function(){throw n})})},e.prototype.timeout=function(e,t){var n=this;if(this.resolved||this.rejected)return this;var r=setTimeout(function(){n.resolved||n.rejected||n.reject(t||new Error("Promise timed out after "+e+"ms"))},e);return this.then(function(e){return clearTimeout(r),e})},e.prototype.toPromise=function(){if("undefined"==typeof Promise)throw new TypeError("Could not find Promise");return Promise.resolve(this)},e.resolve=function(t){return t instanceof e?t:Object(o.a)(t)?new e(function(e,n){return t.then(e,n)}):(new e).resolve(t)},e.reject=function(t){return(new e).reject(t)},e.all=function(t){var n=new e,r=t.length,i=[];if(!r)return n.resolve(i),n;for(var a=0;a<t.length;a++)!function(a){var s=t[a];if(s instanceof e){if(s.resolved)return i[a]=s.value,r-=1,"continue"}else if(!Object(o.a)(s))return i[a]=s,r-=1,"continue";e.resolve(s).then(function(e){i[a]=e,0===(r-=1)&&n.resolve(i)},function(e){n.reject(e)})}(a);return 0===r&&n.resolve(i),n},e.hash=function(t){var n={};return e.all(Object.keys(t).map(function(r){return e.resolve(t[r]).then(function(e){n[r]=e})})).then(function(){return n})},e.map=function(t,n){return e.all(t.map(n))},e.onPossiblyUnhandledException=function(e){return Object(i.b)(e)},e["try"]=function(t,n,r){var o=void 0;try{o=t.apply(n,r||[])}catch(i){return e.reject(i)}return e.resolve(o)},e.delay=function(t){return new e(function(e){setTimeout(e,t)})},e.isPromise=function(t){return!!(t&&t instanceof e)||Object(o.a)(t)},e.flush=function(){var t=new e;return Object(a.a)().flushPromises.push(t),0===Object(a.a)().activeCount&&e.flushQueue(),t},e.flushQueue=function(){var e=Object(a.a)().flushPromises;Object(a.a)().flushPromises=[];var t=e,n=Array.isArray(t),r=0
;for(t=n?t:t[Symbol.iterator]();;){var o;if(n){if(r>=t.length)break;o=t[r++]}else{if((r=t.next()).done)break;o=r.value}o.resolve()}},e}()},"./node_modules/zalgo-promise/src/utils.js":function(e,t){"use strict";function n(e){try{if(!e)return!1;if("undefined"!=typeof Promise&&e instanceof Promise)return!0;if("undefined"!=typeof window&&window.Window&&e instanceof window.Window)return!1;if("undefined"!=typeof window&&window.constructor&&e instanceof window.constructor)return!1;var t={}.toString;if(t){var n=t.call(e);if("[object Window]"===n||"[object global]"===n||"[object DOMWindow]"===n)return!1}if("function"==typeof e.then)return!0}catch(r){return!1}return!1}t.a=n},"./src/button/component.jsx":function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n("./node_modules/xcomponent/src/index.js"),o=n("./src/button/template.jsx"),i=n("./src/button/container.jsx"),a=n("./src/config.js"),s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=Object(r.a)({tag:"brainblocks-button",defaultEnv:"production",url:{test:"/base/test/windows/button/index.htm",local:"http://localhost:8000/button",production:"https://brainblocks.io/button"},domain:{test:"mock://www.my-site.com",local:"http://localhost:8000",production:"https://brainblocks.io"},dimensions:{width:"300px",height:"50px"},props:{logLevel:{type:"string",value:"warn",required:!1},style:{type:"object",required:!1,def:function(){return{}}},payment:{type:"object",required:!0,validate:function(e){if(!e.destination)throw new Error("Expected payment.destination");if(!e.destination.match(/((?:xrb_[13][a-km-zA-HJ-NP-Z0-9]{59})|(?:nano_[13][a-km-zA-HJ-NP-Z0-9]{59}))/))throw new Error("Invalid nano address: "+e.destination);if(!e.currency)throw new Error("Expected payment.currency");if("rai"!==e.currency&&-1===a.a.indexOf(e.currency))throw new Error("Expected payment.currency to be rai or "+a.a.join(", ")+", got "+e.currency);if(!e.amount)throw new Error("Expected payment.amount");if(!e.amount.toString().match(/^\d+(\.\d+)?$/))throw new Error("Expected payment.mount to be a number, got "+e.amount)},decorate:function(e){return s({},e,{amount:e.amount.toString()})}},onToken:{type:"function",required:!1},onPayment:{type:"function",required:!0},onClick:{type:"function",required:!1}},defaultContext:"iframe",contexts:{iframe:!0,popup:!1},prerenderTemplate:function(e){var t=e.jsxDom,n=e.props;return t("html",null,t("head",null,t("style",null,"\n                            html, body {\n                                border: 0;\n                                padding: 0;\n                                margin: 0;\n                            }\n                        ")),t("body",null,Object(o.a)({props:n})))},containerTemplate:i.a})},"./src/button/container.jsx":function(e,t){"use strict";function n(e){var t=e.id,n=e.tag,r=e.context,o=e.CLASS,i=e.outlet,a=e.jsxDom,s=e.dimensions,l=s.width,c=s.height,u=e.props;return a("div",{id:t,"class":o.XCOMPONENT+" "+o.XCOMPONENT+"-tag-"+n+" "+o.XCOMPONENT+"-context-"+r},a("style",null,"\n                    #"+t+", #"+t+" > ."+o.OUTLET+" {\n                        transition: height 0.5s ease-in-out;\n                    }\n\n                    #"+t+" > ."+o.OUTLET+" {\n                        display: inline-block;\n                        max-width: 500px;\n                        min-width: 150px;\n                        width: "+("responsive"===u.style.size?"100%":l)+";\n                        height: "+c+";\n                        display: inline-block;\n                        position: relative;\n                        transition: height 0.5s ease-in-out;\n                    }\n\n                    #"+t+" > ."+o.OUTLET+" > iframe {\n                        height: 100%;\n                        width: 100%;\n                        position: absolute;\n                        top: 0;\n                        left: 0;\n                        transition: opacity .2s ease-in-out;\n                    }\n\n                    #"+t+" > ."+o.OUTLET+" > iframe."+o.VISIBLE+" {\n                        opacity: 1;\n                    }\n\n                    #"+t+" > ."+o.OUTLET+" > iframe."+o.INVISIBLE+" {\n                        opacity: 0;\n                    }\n                "),i)}t.a=n},"./src/button/index.js":function(e,t,n){"use strict";var r=n("./src/button/component.jsx");n.d(t,"a",function(){return r.a});var o=n("./src/button/template.jsx");n.d(t,"b",function(){return o.a})},"./src/button/template.jsx":function(e,t,n){"use strict";function r(e){var t,n=e.props,r="",i="";return"rai"===n.payment.currency&&(r="",t=n.payment.amount,i=(t=parseInt(t)/1e3)>Math.floor(t)?(parseInt(n.payment.amount)/1e6).toFixed(6):(parseInt(n.payment.amount)/1e6).toFixed(3)),Object(o.F)("div",{"class":"brainblocks-button-container"},Object(o.F)("style",null,"\n                    .brainblocks-button {\n                        display: inline-block;\n                        width: 100%;\n                        height: 50px;\n                        background-color: #eee;\n                        border-radius: 5px;\n                        font-family: Helvetica, Arial, sans-serif;\n                        line-height: 50px;\n                        color: #1A3238;\n                        cursor: pointer;\n                        font-size: 16px;\n                        text-align: center;\n                        letter-spacing: 1px;\n                    }\n                    \n                    .brainblocks-button-content {\n                        width: 100%;\n                        height: 50px;\n\n                        display: flex;\n                        flex-direction: row;\n                        justify-content: center;\n                        align-items: center;\n                    }\n\n                    .brainblocks-button .brainblocks-logo {\n                        height: 20px;\n                        margin-right: 10px;\n                        border-right: 1px solid #ccc;\n                        padding-right: 10px;\n                        vertical-align: middle;\n                    }\n\n                    .brainblocks-button .brainblocks-raiblocks-logo {\n                        height: 10px;\n                        margin-left: 10px;\n                        border-left: 1px solid #ccc;\n                        padding: 5px 0 5px 10px;\n                    }\n\n                    .brainblocks-button .brainblocks-raiblocks-logo-small {\n                        height: 10px;\n                        margin-left: 5px;\n                        border-left: 1px solid #ccc;\n                        padding: 5px 0 5px 5px;\n                        display: none;\n                    }\n\n                    @media screen and (max-width: 299px) {\n                        .brainblocks-button .pay-text {\n                            display: none;\n                        }\n                    }\n\n                    @media screen and (max-width: 200px) {\n                        .brainblocks-button .brainblocks-raiblocks-logo {\n                            display: none;\n                        }\n\n                        .brainblocks-button .brainblocks-raiblocks-logo-small {\n                            display: inline-block;\n                        }\n                    }\n                "),Object(o.F)("div",{role:"button","class":"brainblocks-button"},Object(o.F)("div",{"class":"brainblocks-button-content"},Object(o.F)("span",null,Object(o.F)("img",{"class":"brainblocks-logo",src:"https://brainblocks.io/static/img/brainblocks_logo.svg"}),Object(o.F)("span",{"class":"pay-text"},i&&"Pay "),Object(o.F)("span",null,Object(o.F)("span",{id:"pay-amount","class":"pay-amount"},i||Object(o.F)("img",{"class":"loading-spinner",src:"data:image/svg+xml;base64,PHN2ZyB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjAiIHdpZHRoPSIyNXB4IiBoZWlnaHQ9IjI1cHgiIHZpZXdCb3g9IjAgMCAxMjggMTI4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48Zz48cGF0aCBkPSJNNzguNzUgMTYuMThWMS41NmE2NC4xIDY0LjEgMCAwIDEgNDcuNyA0Ny43SDExMS44YTQ5Ljk4IDQ5Ljk4IDAgMCAwLTMzLjA3LTMzLjA4ek0xNi40MyA0OS4yNUgxLjhhNjQuMSA2NC4xIDAgMCAxIDQ3LjctNDcuN1YxNi4yYTQ5Ljk4IDQ5Ljk4IDAgMCAwLTMzLjA3IDMzLjA3em0zMy4wNyA2Mi4zMnYxNC42MkE2NC4xIDY0LjEgMCAwIDEgMS44IDc4LjVoMTQuNjNhNDkuOTggNDkuOTggMCAwIDAgMzMuMDcgMzMuMDd6bTYyLjMyLTMzLjA3aDE0LjYyYTY0LjEgNjQuMSAwIDAgMS00Ny43IDQ3Ljd2LTE0LjYzYTQ5Ljk4IDQ5Ljk4IDAgMCAwIDMzLjA4LTMzLjA3eiIgZmlsbD0iIzgxY2RmMSIgZmlsbC1vcGFjaXR5PSIxIi8+PGFuaW1hdGVUcmFuc2Zvcm0gYXR0cmlidXRlTmFtZT0idHJhbnNmb3JtIiB0eXBlPSJyb3RhdGUiIGZyb209Ii05MCA2NCA2NCIgdG89IjAgNjQgNjQiIGR1cj0iNDAwbXMiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIj48L2FuaW1hdGVUcmFuc2Zvcm0+PC9nPjwvc3ZnPg=="})),Object(o.F)("span",null," "),Object(o.F)("span",{id:"pay-currency","class":"pay-currency"},r))),Object(o.F)("img",{"class":"brainblocks-raiblocks-logo",src:"data:image/svg+xml;base64,DQo8c3ZnIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMTYgMjkuNCI+PHN0eWxlPi5zdDB7ZmlsbDojNGE5MGUyfS5zdDF7ZmlsbDojMDAwMDM0fTwvc3R5bGU+PGNpcmNsZSBjbGFzcz0ic3QwIiBjeD0iNC44IiBjeT0iMjQuNCIgcj0iNC44Ii8+PHBhdGggY2xhc3M9InN0MCIgZD0iTTYyIC42Yy0yLjYgMC00LjggMi4xLTQuOCA0LjggMCAzLjgtLjYgNC44LTQuOCA0LjhINTJjLTIuNC4yLTQuMyAyLjItNC4zIDQuN3YuMWMwIDMuNy0uNyA0LjYtNC44IDQuNi0uMiAwLS40IDAtLjUuMS0yLjQuMy00LjMgMi4zLTQuMyA0LjcgMCAyLjYgMi4xIDQuOCA0LjggNC44IDIuNSAwIDQuNi0yIDQuNy00LjR2LS40YzAtMy40IDEuMS00LjcgNC43LTQuOGguMWMyLjUgMCA0LjYtMiA0LjctNC41di0uM2MwLTMuNSAxLjEtNC44IDQuOC00LjggMi42IDAgNC44LTIuMSA0LjgtNC44IDAtMi41LTIuMS00LjYtNC43LTQuNnpNMzMuOCAxMC4yaC0uNGMtNC4yIDAtNC44LTEtNC44LTQuOCAwLTIuNi0yLjEtNC44LTQuOC00LjhDMjEuMi42IDE5IDIuNyAxOSA1LjRjMCAzLjgtLjYgNC43LTQuOCA0LjdoLS40Yy0yLjQuMi00LjMgMi4yLTQuMyA0LjcgMCAyLjYgMi4xIDQuOCA0LjggNC44IDIuNSAwIDQuNi0yIDQuNy00LjR2LS4zYzAtMy41IDEuMS00LjggNC44LTQuOCAzLjcgMCA0LjggMS4zIDQuOCA0LjcgMCAyLjYgMi4xIDQuOCA0LjggNC44czQuOC0yLjEgNC44LTQuOGMtLjEtMi40LTItNC40LTQuNC00LjZ6Ii8+PGc+PHBhdGggY2xhc3M9InN0MSIgZD0iTTEwOS4zLjhjLS4zIDAtLjYuMS0uOC40LS4yLjItLjMuNS0uMy45VjI1TDkwLjcgMS40Yy0uMy0uNC0uNi0uNi0xLS42cy0uNy4xLS45LjRjLS4yLjItLjMuNS0uMy45djI2YzAgLjQuMS43LjMuOS4yLjIuNS4zLjkuMy4zIDAgLjYtLjEuOC0uNC4yLS4yLjMtLjUuMy0uOVY1LjJsMTcuNSAyMy42Yy4zLjQuNy42IDEuMS42LjQgMCAuNy0uMS45LS40LjItLjIuMy0uNS4zLS45di0yNmMwLS40LS4xLS43LS4zLS45LS4zLS4zLS42LS40LTEtLjR6bTkyLS44Yy04LjEgMC0xNC43IDYuNi0xNC43IDE0LjdzNi42IDE0LjcgMTQuNyAxNC43UzIxNiAyMi44IDIxNiAxNC43IDIwOS40IDAgMjAxLjMgMHptMCAyN2MtNi44IDAtMTIuMy01LjUtMTIuMy0xMi4zczUuNS0xMi4zIDEyLjMtMTIuMyAxMi4zIDUuNSAxMi4zIDEyLjNTMjA4LjEgMjcgMjAxLjMgMjd6TTE3NyAuOGMtLjMgMC0uNi4xLS44LjQtLjIuMi0uMy41LS4zLjlWMjVMMTU4LjQgMS40Yy0uMy0uNC0uNi0uNi0xLS42cy0uNy4xLS45LjRjLS4yLjItLjMuNS0uMy45djI2YzAgLjQuMS43LjMuOS4yLjIuNS4zLjkuMy4zIDAgLjYtLjEuOC0uNC4yLS4yLjMtLjUuMy0uOVY1LjJMMTc2IDI4LjhjLjMuNC43LjYgMS4xLjYuNCAwIC43LS4xLjktLjQuMi0uMi4zLS41LjMtLjl2LTI2YzAtLjQtLjEtLjctLjMtLjktLjMtLjMtLjYtLjQtMS0uNHptLTQyLjMuOGMtLjEtLjMtLjMtLjUtLjUtLjYtLjMtLjItLjUtLjItLjgtLjItLjYgMC0xLjEuMy0xLjMuOWwtMTEuNyAyNi4yYy0uMS4xLS4xLjMtLjEuNCAwIC4zLjEuNi4zLjguMi4yLjUuMy44LjMuNSAwIC45LS4zIDEuMS0uOGwzLjEtN2gxNS41bDMgN2MuMS4yLjMuNC41LjYuMi4xLjQuMi42LjIuMyAwIC42LS4xLjgtLjMuMi0uMi40LS40LjQtLjcgMC0uMiAwLS4zLS4xLS41TDEzNC43IDEuNnptLTguMiAxNy45TDEzMy4zIDRsNi44IDE1LjVoLTEzLjZ6Ii8+PC9nPjwvc3ZnPg=="}),Object(o.F)("img",{"class":"brainblocks-raiblocks-logo-small",src:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjxzdmcgaWQ9IkxheWVyXzEiIHZpZXdCb3g9IjAgMCA2NyAyOSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCiAgPHN0eWxlPi5zdDB7ZmlsbDojNGE5MGUyfS5zdDF7ZmlsbDojMDAwMDM0fTwvc3R5bGU+DQogIDxjaXJjbGUgY2xhc3M9InN0MCIgY3g9IjQuOCIgY3k9IjI0LjQiIHI9IjQuOCIvPg0KICA8cGF0aCBjbGFzcz0ic3QwIiBkPSJNNjIgLjZjLTIuNiAwLTQuOCAyLjEtNC44IDQuOCAwIDMuOC0uNiA0LjgtNC44IDQuOEg1MmMtMi40LjItNC4zIDIuMi00LjMgNC43di4xYzAgMy43LS43IDQuNi00LjggNC42LS4yIDAtLjQgMC0uNS4xLTIuNC4zLTQuMyAyLjMtNC4zIDQuNyAwIDIuNiAyLjEgNC44IDQuOCA0LjggMi41IDAgNC42LTIgNC43LTQuNHYtLjRjMC0zLjQgMS4xLTQuNyA0LjctNC44aC4xYzIuNSAwIDQuNi0yIDQuNy00LjV2LS4zYzAtMy41IDEuMS00LjggNC44LTQuOCAyLjYgMCA0LjgtMi4xIDQuOC00LjggMC0yLjUtMi4xLTQuNi00LjctNC42ek0zMy44IDEwLjJoLS40Yy00LjIgMC00LjgtMS00LjgtNC44IDAtMi42LTIuMS00LjgtNC44LTQuOEMyMS4yLjYgMTkgMi43IDE5IDUuNGMwIDMuOC0uNiA0LjctNC44IDQuN2gtLjRjLTIuNC4yLTQuMyAyLjItNC4zIDQuNyAwIDIuNiAyLjEgNC44IDQuOCA0LjggMi41IDAgNC42LTIgNC43LTQuNHYtLjNjMC0zLjUgMS4xLTQuOCA0LjgtNC44IDMuNyAwIDQuOCAxLjMgNC44IDQuNyAwIDIuNiAyLjEgNC44IDQuOCA0LjhzNC44LTIuMSA0LjgtNC44Yy0uMS0yLjQtMi00LjQtNC40LTQuNnoiLz4NCjwvc3ZnPg=="}))))}t.a=r;var o=n("./node_modules/xcomponent/src/lib/index.js")},"./src/config.js":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=["aud","brl","cad","chf","clp","cny","czk","dkk","eur","gbp","hkd","huf","idr","ils","inr","jpy","krw","mxn","myr","nok","nzd","php","pkr","pln","rub","sek","sgd","thb","try","twd","vnd","usd","zar"]},"./src/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/zalgo-promise/src/index.js");n.d(t,"Promise",function(){return r.a});var o=n("./src/button/index.js");n.d(t,"Button",function(){return o.a}),n.d(t,"buttonTemplate",function(){return o.b}),n("./src/logs.js")},"./src/logs.js":function(e,t,n){"use strict";var r=n("./node_modules/beaver-logger/client/index.js"),o=n("./node_modules/post-robot/src/index.js");r.a.logLevel="warn",o.CONFIG.LOG_LEVEL="warn",window.LOG_LEVEL="warn"}})}),$(document).on("turbolinks:load",function(){var e=$(".post__aside .accordion__item").length,t=$(".post__actions .accordion__item").length;1==e&&1==t&&($(".accordion__header").addClass("accordion__header--selected"),$(".accordion__content").css({height:"auto"}),$(".accordion__arrow").remove())}),$(document).on("click",".accordion__header",function(){var e=$(".post__aside .accordion__item").length,t=$(".post__actions .accordion__item").length;if(e>1&&t>1)if($(this).hasClass("accordion__header--selected")){var n=$(this).next().find(".accordion__inner-content").outerHeight();$(this).next().css({height:n}),setTimeout(function(){$(".accordion__header").removeClass("accordion__header--selected"),$(".accordion__content").css({height:0})},1)}else{var r=$(this);$(".accordion__header--selected").each(function(){var e=$(this).parent().find(".accordion__inner-content").outerHeight();$(".accordion__content").css({height:e})}),setTimeout(function(){$(".accordion__header--selected").parent().find(".accordion__content").css({height:0}),$(".accordion__header--selected").removeClass("accordion__header--selected"),r.addClass("accordion__header--selected");var e=r.parent().find(".accordion__inner-content").outerHeight();r.next().css({height:e})},10),setTimeout(function(){$(".accordion__header--selected").next().css({height:"auto"})},200)}}),function(){$(document).on("click","[data-role='alert-close']",function(){return $(this).parents("[data-role='alert']").remove("")})}.call(this),function(){(function(){(function(){var t=[].slice;this.ActionCable={INTERNAL:{message_types:{welcome:"welcome",ping:"ping",confirmation:"confirm_subscription",rejection:"reject_subscription"},default_mount_path:"/cable",protocols:["actioncable-v1-json","actioncable-unsupported"]},createConsumer:function(t){var n;return null==t&&(t=null!=(n=this.getConfig("url"))?n:this.INTERNAL.default_mount_path),new e.Consumer(this.createWebSocketURL(t))},getConfig:function(e){var t;return null!=(t=document.head.querySelector("meta[name='action-cable-"+e+"']"))?t.getAttribute("content"):void 0},createWebSocketURL:function(e){var t;return e&&!/^wss?:/i.test(e)?((t=document.createElement("a")).href=e,t.href=t.href,t.protocol=t.protocol.replace("http","ws"),t.href):e},startDebugging:function(){return this.debugging=!0},stopDebugging:function(){return this.debugging=null},log:function(){var e;if(e=1<=arguments.length?t.call(arguments,0):[],this.debugging)return e.push(Date.now()),console.log.apply(console,["[ActionCable]"].concat(t.call(e)))}}}).call(this)}).call(this);var e=this.ActionCable;(function(){(function(){var t=function(e,t){return function(){return e.apply(t,arguments)}};e.ConnectionMonitor=function(){function n(e){this.connection=e,this.visibilityDidChange=t(this.visibilityDidChange,this),this.reconnectAttempts=0}var r,o,i;return n.pollInterval={min:3,max:30},n.staleThreshold=6,n.prototype.start=function(){if(!this.isRunning())return this.startedAt=o(),delete this.stoppedAt,this.startPolling(),document.addEventListener("visibilitychange",this.visibilityDidChange),e.log("ConnectionMonitor started. pollInterval = "+this.getPollInterval()+" ms")},n.prototype.stop=function(){if(this.isRunning())return this.stoppedAt=o(),this.stopPolling(),document.removeEventListener("visibilitychange",this.visibilityDidChange),e.log("ConnectionMonitor stopped")},n.prototype.isRunning=function(){return null!=this.startedAt&&null==this.stoppedAt},n.prototype.recordPing=function(){return this.pingedAt=o()},n.prototype.recordConnect=function(){return this.reconnectAttempts=0,this.recordPing(),delete this.disconnectedAt,e.log("ConnectionMonitor recorded connect")},n.prototype.recordDisconnect=function(){return this.disconnectedAt=o(),e.log("ConnectionMonitor recorded disconnect")},n.prototype.startPolling=function(){return this.stopPolling(),this.poll()},n.prototype.stopPolling=function(){return clearTimeout(this.pollTimeout)},n.prototype.poll=function(){return this.pollTimeout=setTimeout((e=this,function(){return e.reconnectIfStale(),e.poll()}),this.getPollInterval());var e},n.prototype.getPollInterval=function(){var e,t,n,o;return n=(o=this.constructor.pollInterval).min,t=o.max,e=5*Math.log(this.reconnectAttempts+1),Math.round(1e3*r(e,n,t))},n.prototype.reconnectIfStale=function(){if(this.connectionIsStale())return e.log("ConnectionMonitor detected stale connection. reconnectAttempts = "+this.reconnectAttempts+", pollInterval = "+this.getPollInterval()+" ms, time disconnected = "+i(this.disconnectedAt)+" s, stale threshold = "+this.constructor.staleThreshold+" s"),this.reconnectAttempts++,this.disconnectedRecently()?e.log("ConnectionMonitor skipping reopening recent disconnect"):(e.log("ConnectionMonitor reopening"),this.connection.reopen())},n.prototype.connectionIsStale=function(){var e;return i(null!=(e=this.pingedAt)?e:this.startedAt)>this.constructor.staleThreshold},n.prototype.disconnectedRecently=function(){return this.disconnectedAt&&i(this.disconnectedAt)<this.constructor.staleThreshold},n.prototype.visibilityDidChange=function(){if("visible"===document.visibilityState)return setTimeout((t=this,function(){if(t.connectionIsStale()||!t.connection.isOpen())return e.log("ConnectionMonitor reopening stale connection on visibilitychange. visbilityState = "+document.visibilityState),t.connection.reopen()}),200);var t},o=function(){return(new Date).getTime()},i=function(e){return(o()-e)/1e3},r=function(e,t,n){return Math.max(t,Math.min(n,e))},n}()}).call(this),function(){var t,n,r,o,i,a=[].slice,s=function(e,t){return function(){return e.apply(t,arguments)}},l=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};o=e.INTERNAL,n=o.message_types,r=o.protocols,i=2<=r.length?a.call(r,0,t=r.length-1):(t=0,[]),r[t++],e.Connection=function(){function t(t){this.consumer=t,this.open=s(this.open,this),this.subscriptions=this.consumer.subscriptions,this.monitor=new e.ConnectionMonitor(this),this.disconnected=!0}return t.reopenDelay=500,t.prototype.send=function(e){return!!this.isOpen()&&(this.webSocket.send(JSON.stringify(e)),!0)},t.prototype.open=function(){if(this.isActive())throw e.log("Attempted to open WebSocket, but existing socket is "+this.getState()),new Error("Existing connection must be closed before opening");return e.log("Opening WebSocket, current state is "+this.getState()+", subprotocols: "+r),null!=this.webSocket&&this.uninstallEventHandlers(),this.webSocket=new WebSocket(this.consumer.url,r),this.installEventHandlers(),this.monitor.start(),!0},t.prototype.close=function(e){var t;if((null!=e?e:{allowReconnect:!0}).allowReconnect||this.monitor.stop(),this.isActive())return null!=(t=this.webSocket)?t.close():void 0},t.prototype.reopen=function(){var t;if(e.log("Reopening WebSocket, current state is "+this.getState()),!this.isActive())return this.open();try{return this.close()}catch(n){return t=n,e.log("Failed to reopen WebSocket",t)}finally{e.log("Reopening WebSocket in "+this.constructor.reopenDelay+"ms"),setTimeout(this.open,this.constructor.reopenDelay)}},t.prototype.getProtocol=function(){var e;return null!=(e=this.webSocket)?e.protocol:void 0},t.prototype.isOpen=function(){return this.isState("open")},t.prototype.isActive=function(){return this.isState("open","connecting")},t.prototype.isProtocolSupported=function(){var e;return e=this.getProtocol(),l.call(i,e)>=0},t.prototype.isState=function(){var e,t;return t=1<=arguments.length?a.call(arguments,0):[],e=this.getState(),l.call(t,e)>=0},t.prototype.getState=function(){var e,t;for(t in WebSocket)if(WebSocket[t]===(null!=(e=this.webSocket)?e.readyState:void 0))return t.toLowerCase();return null},t.prototype.installEventHandlers=function(){var e,t;for(e in this.events)t=this.events[e].bind(this),this.webSocket["on"+e]=t},t.prototype.uninstallEventHandlers=function(){var e;for(e in this.events)this.webSocket["on"+e]=function(){}},t.prototype.events={message:function(e){var t,r,o;if(this.isProtocolSupported())switch(t=(o=JSON.parse(e.data)).identifier,r=o.message,o.type){case n.welcome:return this.monitor.recordConnect(),this.subscriptions.reload();case n.ping:return this.monitor.recordPing();case n.confirmation:return this.subscriptions.notify(t,"connected");case n.rejection:return this.subscriptions.reject(t);default:return this.subscriptions.notify(t,"received",r)}},open:function(){if(e.log("WebSocket onopen event, using '"+this.getProtocol()+"' subprotocol"),this.disconnected=!1,!this.isProtocolSupported())return e.log("Protocol is unsupported. Stopping monitor and disconnecting."),this.close({allowReconnect:!1})},close:function(){if(e.log("WebSocket onclose event"),!this.disconnected)return this.disconnected=!0,this.monitor.recordDisconnect(),this.subscriptions.notifyAll("disconnected",{willAttemptReconnect:this.monitor.isRunning()})},error:function(){return e.log("WebSocket onerror event")}},t}()}.call(this),function(){var t=[].slice;e.Subscriptions=function(){function n(e){this.consumer=e,this.subscriptions=[]}return n.prototype.create=function(t,n){var r,o,i;return o="object"==typeof(r=t)?r:{channel:r},i=new e.Subscription(this.consumer,o,n),this.add(i)},n.prototype.add=function(e){return this.subscriptions.push(e),this.consumer.ensureActiveConnection(),this.notify(e,"initialized"),this.sendCommand(e,"subscribe"),e},n.prototype.remove=function(e){return this.forget(e),this.findAll(e.identifier).length||this.sendCommand(e,"unsubscribe"),e},n.prototype.reject=function(e){var t,n,r,o,i;for(o=[],t=0,n=(r=this.findAll(e)).length;t<n;t++)i=r[t],this.forget(i),this.notify(i,"rejected"),o.push(i);return o},n.prototype.forget=function(e){var t;return this.subscriptions=function(){var n,r,o,i;for(i=[],n=0,r=(o=this.subscriptions).length;n<r;n++)(t=o[n])!==e&&i.push(t);return i}.call(this),e},n.prototype.findAll=function(e){var t,n,r,o,i;for(o=[],t=0,n=(r=this.subscriptions).length;t<n;t++)(i=r[t]).identifier===e&&o.push(i);return o},n.prototype.reload=function(){var e,t,n,r,o;for(r=[],e=0,t=(n=this.subscriptions).length;e<t;e++)o=n[e],r.push(this.sendCommand(o,"subscribe"));return r},n.prototype.notifyAll=function(){var e,n,r,o,i,a,s;for(n=arguments[0],e=2<=arguments.length?t.call(arguments,1):[],a=[],r=0,o=(i=this.subscriptions).length;r<o;r++)s=i[r],a.push(this.notify.apply(this,[s,n].concat(t.call(e))));return a},n.prototype.notify=function(){var e,n,r,o,i,a,s;for(a=arguments[0],n=arguments[1],e=3<=arguments.length?t.call(arguments,2):[],i=[],r=0,o=(s="string"==typeof a?this.findAll(a):[a]).length;r<o;r++)a=s[r],i.push("function"==typeof a[n]?a[n].apply(a,e):void 0);return i},n.prototype.sendCommand=function(e,t){var n;return n=e.identifier,this.consumer.send({command:t,identifier:n})},n}()}.call(this),function(){e.Subscription=function(){function e(e,n,r){this.consumer=e,null==n&&(n={}),this.identifier=JSON.stringify(n),t(this,r)}var t;return e.prototype.perform=function(e,t){return null==t&&(t={}),t.action=e,this.send(t)},e.prototype.send=function(e){return this.consumer.send({command:"message",identifier:this.identifier,data:JSON.stringify(e)})},e.prototype.unsubscribe=function(){return this.consumer.subscriptions.remove(this)},t=function(e,t){var n,r;if(null!=t)for(n in t)r=t[n],e[n]=r;return e},e}()}.call(this),function(){e.Consumer=function(){function t(t){this.url=t,this.subscriptions=new e.Subscriptions(this),this.connection=new e.Connection(this)}return t.prototype.send=function(e){return this.connection.send(e)},t.prototype.connect=function(){return this.connection.open()},t.prototype.disconnect=function(){return this.connection.close({allowReconnect:!1})},t.prototype.ensureActiveConnection=function(){if(!this.connection.isActive())return this.connection.open()},t}()}.call(this)}).call(this),"object"==typeof module&&module.exports?module.exports=e:"function"==typeof define&&define.amd&&define(e)}.call(this),function(){this.App||(this.App={}),App.cable=ActionCable.createConsumer()}.call(this),function(){$(document).on("submit","[data-role='remote-submit']",function(){return $(this).parents("[data-role='charge-container']").html('<div class="accordion__item"> <div class="accordion__header accordion__header--selected"> <div class="accordion__name"> <div class="name__icon"><i class="material-icons">cached</i></div> <div class="name__about"> <span class="name__price">Pending</span> <span class="name__payment">This can take some seconds</span> </div> </div> </div> <div class="accordion__content" style="height: auto;"> <div class="accordion__inner-content accordion__inner-pending"> <div class="accordion__message"> <div class="accordion__pending"></div> </div> </div> </div> </div>')})}.call(this),function(){$(document).on("click","[data-role='toggle-dropdown']",function(e){return e.preventDefault(),$(this).parents("[data-role='dropdown']").toggleClass("dropdown--is-active")})}.call(this);var toggleMenu=function(e){e.preventDefault("");var t=$("[data-menu]");$("[data-overlay]").toggleClass("overlay--is-active"),t.toggleClass("menu--is-active")};$(document).on("click","[data-menu-toggle]",toggleMenu),function(){$(document).on("turbolinks:load",function(){if(0!==$("[data-role~='markdown']").length)return new SimpleMDE({element:$("[data-role~='markdown']")[0],spellChecker:!1})})}.call(this),$(document).on("click",".content__button, .actions__question",function(){$(".popup").addClass("popup--animation-in"),$("body, html").addClass("body--no-scroll")}),$(document).on("click",".popup__close",function(){$(".popup").removeClass("popup--animation-in"),$("body, html").removeClass("body--no-scroll")});let updateProjectColor=()=>{if($(".project").length){let e=new ColorThief;$(".project").each((t,n)=>{let r=$(n).attr("data-image");if(""!=r){let t=new Image;t.src=r,$(t).load(()=>{let r=e.getColor(t),o=r[0],i=r[1],a=r[2];$(n).find(".project__gradient").css({background:"linear-gradient(to top, rgba("+o+", "+i+", "+a+", 1) 50%, rgba(0, 0, 0, 0) 100%)"})})}})}};$(document).on("turbolinks:load",function(){updateProjectColor()}),$(document).on("click",".button--pay",function(){$(".post__payment-popup").addClass("popup--animation-in"),$("body, html").addClass("body--no-scroll")}),$(document).on("click",".accordion__arrow",function(){$(".post__payment-popup").removeClass("popup--animation-in"),$("body, html").removeClass("body--no-scroll")}),$(document).on("change",".form__input--upload-image",function(){$(".image__error--banner").removeClass("image__error--is-active");var e,t,n=this,r=window.URL||window.webkitURL;if(""===$(this).val())(e=n.files[0])&&((t=new Image).onload=function(){1584===this.width&&912===this.height?imageBannerPreview(n):$(".image__error--banner").addClass("image__error--is-active").html("Make sure that the image has the correct size (1584X912)")},t.src=r.createObjectURL(e));else{var o=["jpeg","jpg"];-1==$.inArray($(this).val().split(".").pop().toLowerCase(),o)?$(".image__error--banner").addClass("image__error--is-active").html("Only formats are allowed : "+o.join(", ")):(e=n.files[0])&&((t=new Image).onload=function(){1584===this.width&&912===this.height?imageBannerPreview(n):$(".image__error--banner").addClass("image__error--is-active").html("Make sure that the image has the correct size (1584X912)")},t.src=r.createObjectURL(e))}}),$(document).on("click",".image__banner-upload",function(){$(".form__input--upload-image").trigger("click")}),$(document).on("change",".form__input--upload-thumbnail",function(){$(".image__error--thumb").removeClass("image__error--is-active");var e,t,n=this,r=window.URL||window.webkitURL;if(""===$(this).val())(e=n.files[0])&&((t=new Image).onload=function(){562===this.width&&562===this.height?imageThumbnailPreview(n):$(".image__error--thumb").addClass("image__error--is-active").html("Image needs to be 562X562")},t.src=r.createObjectURL(e));else{var o=["jpeg","jpg"];-1==$.inArray($(this).val().split(".").pop().toLowerCase(),o)?$(".image__error--thumb").addClass("image__error--is-active").html("Only "+o.join(", ")+" allowed"):(e=n.files[0])&&((t=new Image).onload=function(){562===this.width&&562===this.height?imageThumbnailPreview(n):$(".image__error--thumb").addClass("image__error--is-active").html("Image needs to be 562X562")},t.src=r.createObjectURL(e))}}),$(document).on("click",".image__thumbnail",function(){$(".form__input--upload-thumbnail").trigger("click")}),$(document).on("click",".button--preview",function(){$(".form__input--preview").trigger("click")}),$(document).on("change",".form__input--preview",function(){showUploadFileName($(this).val(),"button__upload-file--preview")}),$(document).on("click",".button--project",function(){$(".form__input--project").trigger("click")}),$(document).on("change",".form__input--project",function(){showUploadFileName($(this).val(),"button__upload-file--project")});